Last login: Fri Dec 22 02:23:22 on ttys004
mac@MacBook-Pro-cua-Mac-2 ~ % k9s





















































/app # cd 
src/     target/
/app # cd 
src/     target/
/app # cd 
src/     target/
/app # cd 
src/     target/
/app # cd 
src/     target/
/app # cd 
src/     target/
/app # cd src/main/java/org/example/src/
Controller/  Main/        Model/       Repository/  Utils/       client/      images/      rmi/
/app # cd src/main/java/org/example/src/Utils/
/app/src/main/java/org/example/src/Utils # nano ConnectionUtil.java 
/app/src/main/java/org/example/src/Utils # exit





























































































/app/src/main/java/org/example/src/Utils # exit













































































































<<K9s-Shell>> Pod: chat-app/app-and-db-2-5f6b895d58-h8f7w | Container: app-container 
/app # cd src/main/java/org/example/src/
Controller/  Main/        Model/       Repository/  Utils/       client/      images/      rmi/
/app # cd src/main/java/org/example/src/Utils/
/app/src/main/java/org/example/src/Utils # cat ConnectionUtil.java 
package org.example.src.Utils;

import java.sql.Connection;
import java.sql.DriverManager;
import java.sql.SQLException;

public class ConnectionUtil {
    public static Connection getConnection() {
        // String url = "jdbc:mysql://localhost:3306" + "/" + "ChatService";
        String url = "jdbc:mysql://chatservicedb.devops-tools.svc.cluster.local:3306" + "/" + "ChatService";

        System.out.println(url);
        String username = "root";
        // String password = "";
        String password = "root";
        try {
            Connection connection = DriverManager.getConnection(url, username, password);
            System.out.println("ket noi thanh cong 1");
            return connection;
        } catch (SQLException e) {
            System.err.println("Lỗi kết nối đến MySQL: " + e.getMessage());
            return null;
        }
    }
}
/app/src/main/java/org/example/src/Utils # command terminated with exit code 137















































































<<K9s-Shell>> Pod: chat-app/app-and-db-2-6b4f7db465-ftp87 | Container: app-container 
/app # cd src/main/java/org/example/src/
Controller/  Main/        Model/       Repository/  Utils/       client/      images/      rmi/
/app # cd src/main/java/org/example/src/Utils/
/app/src/main/java/org/example/src/Utils # cat ConnectionUtil.java 
package org.example.src.Utils;

import java.sql.Connection;
import java.sql.DriverManager;
import java.sql.SQLException;

public class ConnectionUtil {
    public static Connection getConnection() {
        String url = "jdbc:mysql://localhost:3306" + "/" + "ChatService";
        // String url = "jdbc:mysql://chatservicedb.devops-tools.svc.cluster.local:3306" + "/" + "ChatService";

        System.out.println(url);
        String username = "root";
        // String password = "";
        String password = "root";
        try {
            Connection connection = DriverManager.getConnection(url, username, password);
            System.out.println("ket noi thanh cong 1");
            return connection;
        } catch (SQLException e) {
            System.err.println("Lỗi kết nối đến MySQL: " + e.getMessage());
            return null;
        }
    }
}
/app/src/main/java/org/example/src/Utils # exit















































































<<K9s-Shell>> Pod: chat-app/app-and-db-2-5f487956df-wm8gr | Container: app-container 
/app # cd src/main/java/org/example/src/
Controller/  Main/        Model/       Repository/  Utils/       client/      images/      rmi/
/app # cd src/main/java/org/example/src/
Controller/  Main/        Model/       Repository/  Utils/       client/      images/      rmi/
/app # cd src/main/java/org/example/src/Controller/
/app/src/main/java/org/example/src/Controller # cat ChatController.java 
package org.example.src.Controller;

import java.io.IOException;
import java.net.InetAddress;
import java.net.MalformedURLException;
import java.net.Socket;
import java.net.UnknownHostException;
import java.rmi.Naming;
import java.rmi.NotBoundException;
import java.rmi.RemoteException;
import java.util.ArrayList;
import java.util.List;
import java.util.Scanner;

import org.example.src.Model.Client;
import org.example.src.Model.Response;
import org.example.src.Repository.ConversationRepository;
import org.example.src.Repository.MessageRepository;
import org.example.src.Utils.ResponseUtil;
import org.example.src.rmi.RMIChatServiceInterface;

import lombok.AllArgsConstructor;
import lombok.Getter;
import lombok.NoArgsConstructor;
import lombok.Setter;

@Getter
@Setter
@NoArgsConstructor
@AllArgsConstructor
public class ChatController {
    private Client client;
    private List<Client>  listClient;
    private String userReceiver;


    public Client getClientReceiver(){
        for (Client client : listClient) {
            if(client.getUserName().equals(userReceiver)){
                return client;
            }
        }
        return null;
    }

    public void handleChat(String message) throws IOException{
        Client clientReceiver = this.getClientReceiver();
        if(clientReceiver != null){
            ResponseUtil responseUtil= new ResponseUtil(clientReceiver.getSocket());
            System.out.println(message);
            System.out.println(clientReceiver.getUserName());
            responseUtil.redirectMessageClient(message);
        }
    }
    public void addMessage(int userLogin, int userReceiver,String content){
        int conversationId = ConversationRepository.getConversationId(userLogin, userReceiver);
        System.out.println(conversationId);
        MessageRepository.addNewMessage(conversationId, userLogin,content);
        try {
            List<String> urlServer = new ArrayList<>();
            InetAddress localhost = InetAddress.getLocalHost();
            System.out.println("IP của máy chủ 2: " + localhost.getHostAddress());
            RMIChatServiceInterface rmiChatService = (RMIChatServiceInterface) Naming.lookup("rmi://34.42.147.168:3099/ChatService");
            rmiChatService.updateChatRemote(userLogin, userReceiver, content);
        } catch (MalformedURLException | RemoteException | NotBoundException | UnknownHostException e) {
            e.printStackTrace();
        }
    }
}/app/src/main/java/org/example/src/Controller # command terminated with exit code 137
























































<<K9s-Shell>> Pod: chat-app/app-and-db-2-cfd47878c-qbbrx | Container: app-container 
/app # cd src/main/java/org/example/src/
Controller/  Main/        Model/       Repository/  Utils/       client/      images/      rmi/
/app # cd src/main/java/org/example/src/Controller/
/app/src/main/java/org/example/src/Controller # cat ChatController.java 
package org.example.src.Controller;

import java.io.IOException;
import java.net.InetAddress;
import java.net.MalformedURLException;
import java.net.Socket;
import java.net.UnknownHostException;
import java.rmi.Naming;
import java.rmi.NotBoundException;
import java.rmi.RemoteException;
import java.util.ArrayList;
import java.util.List;
import java.util.Scanner;

import org.example.src.Model.Client;
import org.example.src.Model.Response;
import org.example.src.Repository.ConversationRepository;
import org.example.src.Repository.MessageRepository;
import org.example.src.Utils.ResponseUtil;
import org.example.src.rmi.RMIChatServiceInterface;

import lombok.AllArgsConstructor;
import lombok.Getter;
import lombok.NoArgsConstructor;
import lombok.Setter;

@Getter
@Setter
@NoArgsConstructor
@AllArgsConstructor
public class ChatController {
    private Client client;
    private List<Client> listClient;
    private String userReceiver;

    public Client getClientReceiver() {
        for (Client client : listClient) {
            if (client.getUserName().equals(userReceiver)) {
                return client;
            }
        }
        return null;
    }

    public void handleChat(String message) throws IOException {
        Client clientReceiver = this.getClientReceiver();
        if (clientReceiver != null) {
            ResponseUtil responseUtil = new ResponseUtil(clientReceiver.getSocket());
            System.out.println(message);
            System.out.println(clientReceiver.getUserName());
            responseUtil.redirectMessageClient(message);
        }
    }

    public void addMessage(int userLogin, int userReceiver, String content) {
        int conversationId = ConversationRepository.getConversationId(userLogin, userReceiver);
        System.out.println(conversationId);
        MessageRepository.addNewMessage(conversationId, userLogin, content);
        try {
            List<String> urlServer = new ArrayList<>();
            InetAddress localhost = InetAddress.getLocalHost();
            System.out.println("IP của máy chủ 2: " + localhost.getHostAddress());
            RMIChatServiceInterface rmiChatService = (RMIChatServiceInterface) Naming
                    .lookup("rmi://34.42.147.168:30005/ChatService");
            rmiChatService.updateChatRemote(userLogin, userReceiver, content);
        } catch (MalformedURLException | RemoteException | NotBoundException | UnknownHostException e) {
            try {
                RMIChatServiceInterface rmiChatService = (RMIChatServiceInterface) Naming
                        .lookup("rmi://34.42.147.168:30007/ChatService");
                rmiChatService.updateChatRemote(userLogin, userReceiver, content);
            } catch (MalformedURLException | RemoteException | NotBoundException alternativeException) {
            }
            e.printStackTrace();
        }
    }
}/app/src/main/java/org/example/src/Controller # command terminated with exit code 137

mac@MacBook-Pro-cua-Mac-2 ~ % 





















































mac@MacBook-Pro-cua-Mac-2 ~ % clear

mac@MacBook-Pro-cua-Mac-2 ~ % k9s












































<<K9s-Shell>> Pod: chat-app/app-and-db-6f69547c9d-4rjjw | Container: db-container 
bash-4.4# mysql -u root -p
Enter password: 
Welcome to the MySQL monitor.  Commands end with ; or \g.
Your MySQL connection id is 10
Server version: 8.0.35 MySQL Community Server - GPL

Copyright (c) 2000, 2023, Oracle and/or its affiliates.

Oracle is a registered trademark of Oracle Corporation and/or its
affiliates. Other names may be trademarks of their respective
owners.

Type 'help;' or '\h' for help. Type '\c' to clear the current input statement.

mysql> show databases
    -> ;
+--------------------+
| Database           |
+--------------------+
| ChatService        |
| information_schema |
| mysql              |
| performance_schema |
| sys                |
+--------------------+
5 rows in set (0.01 sec)

mysql> use ChatService;
Reading table information for completion of table and column names
You can turn off this feature to get a quicker startup with -A

Database changed
mysql> select * from message;
+----+-----------------+-----------+-----------------------------------------------------------------------------------------------+---------------------+
| id | conversation_id | sender_id | content                                                                                       | timestamp           |
+----+-----------------+-----------+-----------------------------------------------------------------------------------------------+---------------------+
|  3 |               2 |         1 | hello toan                                                                                    | 2023-11-02 13:47:36 |
|  4 |               2 |         2 | gi huy                                                                                        | 2023-11-02 13:47:36 |
|  5 |               3 |         3 | hello huy                                                                                     | 2023-11-02 13:48:55 |
|  6 |               3 |         1 | gi nam                                                                                        | 2023-11-02 13:48:55 |
|  7 |               4 |         2 | hello nam                                                                                     | 2023-11-02 13:49:17 |
|  8 |               3 |         1 | gi toan                                                                                       | 2023-11-02 13:49:17 |
|  9 |               3 |         1 | hello                                                                                         | 2023-11-07 19:21:21 |
| 10 |               3 |         1 | hello lan nua                                                                                 | 2023-11-07 19:22:12 |
| 11 |               3 |         1 | hello lan nua nua
                                                                           | 2023-11-07 19:22:25 |
| 12 |               3 |         1 | nam mat c?c                                                                                   | 2023-11-07 19:24:53 |
| 13 |               3 |         1 | nam oc cho                                                                                    | 2023-11-07 19:25:12 |
| 14 |               3 |         1 | nam oc cho                                                                                    | 2023-11-07 19:26:32 |
| 15 |               3 |         1 | nam oc cho                                                                                    | 2023-11-07 19:27:21 |
| 16 |               3 |         1 | nam oc cho 1                                                                                  | 2023-11-07 19:27:42 |
+----+-----------------+-----------+-----------------------------------------------------------------------------------------------+---------------------+
14 rows in set (0.00 sec)

mysql> delete from message where id = (12,13,14,15,16)
    -> ;
ERROR 1241 (21000): Operand should contain 1 column(s)
mysql> delete from message where id in  (12,13,14,15,16);
Query OK, 5 rows affected (0.04 sec)

mysql> exit
Bye
bash-4.4# lear
bash: lear: command not found
bash-4.4# exit
exit
command terminated with exit code 127














































<<K9s-Shell>> Pod: monitoring/grafana-84bc59ff4f-vxgqz | Container: grafana 
grafana-84bc59ff4f-vxgqz:/usr/share/grafana$ sqlite3 /var/lib/grafana/grafana.db
bash: sqlite3: command not found
grafana-84bc59ff4f-vxgqz:/usr/share/grafana$ apk add --update sqlite
ERROR: Unable to lock database: Permission denied
ERROR: Failed to open apk database: Permission denied
grafana-84bc59ff4f-vxgqz:/usr/share/grafana$ cat /var/lib/grafana/grafana.db
SQLite format 3@  ????._
                        ??????????????
                                      ^
                                       ?n?R?s=?indexIDX_dashboard_account_iddashboardCREATE INDEX `IDX_dashboard_account_id` ON `dashboard` (`account_id`)?*?#tabledashboarddashboardCREATE TABLE `dashboard` (
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `version` INTEGER NOT NULL
, `slug` TEXT NOT NULL
, `title` TEXT NOT NULL
, `data` TEXT NOT NULL
, `account_id` INTEGER NOT NULL
, `created` DATETIME NOT NULL
, `updated` DATETIME NOT NULL
)f5?indexIDX_org_user_user_idorg_userCREATE INDEX `IDX_org_user_user_id` ON `org_user` (`user_id`)?C?5indexUQE_org_user_org_id_user_idorg_userCREATE UNIQUE INDEX `UQE_org_user_org_id_user_id` ON `org_user` (`org_id`,`user_id`)c3?indexIDX_org_user_org_idorg_userCREATE INDEX `IDX_org_user_org_id` ON `org_user` (`org_id`)?g?5tableorgorgCREATE TABLE `org` (
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `version` INTEGER NOT NULL
, `name` TEXT NOT NULL
, `address1` TEXT NULL
, `address2` TEXT NULL
, `city` TEXT NULL
, `state` TEXT NULL
, `zip_code` TEXT NULL
, `country` TEXT NULL
, `billing_email` TEXT NULL
, `created` DATETIME NOT NULL
, `updated` DATETIME NOT NULL
5?indexIDX_temp_user_statustemp_userCREATE INDEX `IDX_temp_user_status` ON `temp_user` (`status`)`
                                                                                                  1indexIDX_temp_user_codetemp_user	CREATE INDEX `IDX_temp_user_code` ON `temp_user` (`code`)g
                                    5?indexIDX_temp_user_org_idtemp_userCREATE INDEX `IDX_temp_user_org_id` ON `temp_user` (`org_id`)?^	?
                                                                                                                                         tabletemp_usertemp_user
  CREATE TABLE `temp_user` (
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `org_id` INTEGER NOT NULL
, `version` INTEGER NOT NULL
, `email` TEXT NOT NULL
, `name` TEXT NULL
, `role` TEXT NULL
, `code` TEXT NOT NULL
, `status` TEXT NOT NULL
, `invited_by_user_id` INTEGER NULL
, `email_sent` INTEGER NOT NULL
, `email_sent_on` DATETIME NULL
, `remote_addr` TEXT NULL
, `created` INTEGER NOT NULL DEFAULT 0
, `updated` INTEGER NOT NULL DEFAULT 0
)?R?tableuseruserCREATE TABLE `user` (
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `version` INTEGER NOT NULL
, `login` TEXT NOT NULL
, `email` TEXT NOT NULL
, `name` TEXT NULL
, `password` TEXT NULL
, `salt` TEXT NULL
, `rands` TEXT NULL
, `company` TEXT NULL
, `org_id` INTEGER NOT NULL
, `is_admin` INTEGER NOT NULL
, `email_verified` INTEGER NULL
, `theme` TEXT NULL
, `created` DATETIME NOT NULL
, `updated` DATETIME NOT NULL
, `help_flags1` INTEGER NOT NULL DEFAULT 0, `last_seen_at` DATETIME NULL, `is_disabled` INTEGER NOT NULL DEFAULT 0, is_service_account BOOLEAN DEFAULT 0)V)}indexUQE_user_emailuserCREATE UNIQUE INDEX `UQE_user_email` ON `user` (`email`)V)}indexUQE_user_loginuserCREATE UNIQUE INDEX `UQE_user_login` ON `user` (`login`)
 {O%uindexUQE_org_nameorgCREATE UNIQUE INDEX `UQE_org_name` ON `org` (`name`)d
CREATE INDEX `IDX_temp_user_email` ON `temp_user` (`email`)d5?
                                                              indexIDX_user_login_emailuserCREATE INDEX `IDX_user_login_email` ON `user` (`login`,`email`)??t?;tableorg_userorg_userCREATE TABLE `org_user` (
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `org_id` INTEGER NOT NULL
, `user_id` INTEGER NOT NULL
, `role` TEXT NOT NULL
, `created` DATETIME NOT NULL
, `updated` DATETIME NOT NULL
)?G?=indexUQE_star_user_id_dashboard_idstarCREATE UNIQUE INDEX `UQE_star_user_id_dashboard_id` ON `star` (`user_id`,`dashboard_id`)?tablestarstaCREATE TABLE `star` (
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `user_id` INTEGER NOT NULL
, `dashboard_id` INTEGER NOT NULL
)P++Ytablesqlite_sequencesqlite_sequenceCREATE TABLE sqlite_sequence(name,seq)?''?Atablemigration_logmigration_logCREATE TABLE `migration_log` (
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `migration_id` TEXT NOT NULL
, `sql` TEXT NOT NULL
3create temp user table v1-7CREATE TABLE IF NOT EXISTS `temp_user` (???C?	
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `org_id` INTEGER NOT NULL
, `version` INTEGER NOT NULL
, `email` TEXT NOT NULL
, `name` TEXT NULL
, `role` TEXT NULL
, `code` TEXT NOT NULL
, `status` TEXT NOT NULL
, `invited_by_user_id` INTEGER NULL
, `email_sent` INTEGER NOT NULL
, `email_sent_on` DATETIME NULL
, `remote_addr` TEXT NULL
, `created` DATETIME NOT NULL
, `updated` DATETIME NOT NULL
3Update is_service_account column to nullableALTER TABLE user ADD COLUMN tmp_service_account BOOLEAN DEFAULT 0;
UPDATE user SET tmp_service_account = is_service_account;
ALTER TABLE user DROP COLUMN is_service_account;
3Add column help_flags1 to user tablealter table `user` ADD COLUMN `help_flags1` INTEGER NOT NULL DEFAULT 0 2023-12-14 01:03:19N1:03:20K?
3Drop old table user_v1DROP TABLE IF EXISTS `user_v1`2023-12-14 01:03:19?v                                                      9I	
3copy data_source v1 to v2INSERT INTO `user` (`version`                  ??	
, `name`
, `is_admin`
, `email`
, `password`
, `salt`
, `rands`
, `login`
, `org_id`
, `updated`
, `id`
, `company`
, `created`) SELECT `version`
, `name`
, `is_admin`
, `email`
, `password`
, `salt`
, `rands`
, `login`
, `account_id`
, `updated`
, `id`
, `company`
, `created` FROM `user_v1`2023-12-14 01:03:19s
3create user table v2CREATE TABLE IF NOT EXISTS `user` (E_user_login` ON `user` (`login`);2023-12-14 01:03:195?uM	
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `version` INTEGER NOT NULL
, `login` TEXT NOT NULL
, `email` TEXT NOT NULL
, `name` TEXT NULL
, `password` TEXT NULL
, `salt` TEXT NULL
, `rands` TEXT NULL
, `company` TEXT NULL
, `org_id` INTEGER NOT NULL
, `is_admin` INTEGER NOT NULL
, `email_verified` INTEGER NULL
, `theme` TEXT NULL
, `created` DATETIME NOT NULL
, `updated` DATETIME NOT NULL
3create user tableCREATE TABLE IF NOT EXISTS `user` (user_login` ON `user` (`login`);2023-12-14 01:03:19?/?     
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `version` INTEGER NOT NULL
, `login` TEXT NOT NULL
, `email` TEXT NOT NULL
, `name` TEXT NULL
, `password` TEXT NULL
, `salt` TEXT NULL
, `rands` TEXT NULL
, `company` TEXT NULL
, `account_id` INTEGER NOT NULL
, `is_admin` INTEGER NOT NULL
, `created` DATETIME NOT NULL
, `updated` DATETIME NOT NULL
3create migration_log tableCREATE TABLE IF NOT EXISTS `migration_log` (
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `migration_id` TEXT NOT NULL
,?~؃a̓M??6??????p??]??H|?3m?`?Z?sP?ZE?B:?-1?*{!_H
                                                -
????????zdQ?+?	????
                    'login_attempt
kv_store	#server_lockC	alert_configuration_history3	alert_configuration    folder
        kv_store                                                                             	org_user	org?
                seed_assignment	login_attempt
'dashboard_acl	dashboard_versioannotation_tag'migration_log
pi_keydashboard_provisioning
                           dashboard
                                   temp_user	useralert_rule_tag
??+	adminadmin@localhost
adminadmin@localhost5719a164a0381efb3760fcfa207c36d2a6bc81f0e6e01a4b36b41ab6fc1f400efc13a9cf6e05e11b6feca8a47d0394425f20Y0iSnIYZAz4rCBAFBX7B2023-12-14 01:03:452023-12-14 01:03:452013-12-14 01:03:45
??+	admin@localhost
,?
 ?
  L
   ?
    ?
3create temp user table v1-7CREATE TABLE IF NOT EXISTS `temp_user` (
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `org_id` INTEGER NOT NULL
, `version` INTEGER NOT NULL
, `email` TEXT NOT NULL
, `name` TEXT NULL
, `role` TEXT NULL
, `code` TEXT NOT NULL
, `status` TEXT NOT NULL
, `invited_by_user_id` INTEGER NULL
, `email_sent` INTEGER NOT NULL
, `email_sent_on` DATETIME NULL
, `remote_addr` TEXT NULL
, `created` DATETIME NOT NULL
, `updated` DATETIME NOT NULL
3Update is_service_account column to nullableALTER TABLE user ADD COLUMN tmp_service_account BOOLEAN DEFAULT 0;
UPDATE user SET tmp_service_account = is_service_account;
ALTER TABLE user DROP COLUMN is_service_account;
3Add column help_flags1 to user tablealter table `user` ADD COLUMN `help_flags1` INTEGER NOT NULL DEFAULT 0 2023-12-14 01:03:19N1:03:20K?
3Drop old table user_v1DROP TABLE IF EXISTS `user_v1`2023-12-14 01:03:19?v                                                      9I	
3copy data_source v1 to v2INSERT INTO `user` (`version`                  ??	
, `name`
, `is_admin`
, `email`
, `password`
, `salt`
, `rands`
, `login`
, `org_id`
, `updated`
, `id`
, `company`
, `created`) SELECT `version`
, `name`
, `is_admin`
, `email`
, `password`
, `salt`
, `rands`
, `login`
, `account_id`
, `updated`
, `id`
, `company`
, `created` FROM `user_v1`2023-12-14 01:03:19s
3create user table v2CREATE TABLE IF NOT EXISTS `user` (E_user_login` ON `user` (`login`);2023-12-14 01:03:195?uM	
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `version` INTEGER NOT NULL
, `login` TEXT NOT NULL
, `email` TEXT NOT NULL
, `name` TEXT NULL
, `password` TEXT NULL
, `salt` TEXT NULL
, `rands` TEXT NULL
, `company` TEXT NULL
, `org_id` INTEGER NOT NULL
, `is_admin` INTEGER NOT NULL
, `email_verified` INTEGER NULL
, `theme` TEXT NULL
, `created` DATETIME NOT NULL
, `updated` DATETIME NOT NULL
3create user tableCREATE TABLE IF NOT EXISTS `user` (user_login` ON `user` (`login`);2023-12-14 01:03:19?/?     
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `version` INTEGER NOT NULL
, `login` TEXT NOT NULL
, `email` TEXT NOT NULL
, `name` TEXT NULL
, `password` TEXT NULL
, `salt` TEXT NULL
, `rands` TEXT NULL
, `company` TEXT NULL
, `account_id` INTEGER NOT NULL
, `is_admin` INTEGER NOT NULL
, `created` DATETIME NOT NULL
, `updated` DATETIME NOT NULL
3create migration_log tableCREATE TABLE IF NOT EXISTS `migration_log` (
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `migration_id` TEXT NOT NULL
, `sql` TEXT NOT NULL
, `success` INTEGER NOT NULL
, `error` TEXT NOT NULL
, `timestamp` DATETIME NOT NULL
S??023-12-14 01:03:19
 ?
  ?
   4
3create org_user table v1CREATE TABLE IF NOT EXISTS `org_user` (_org_id` ON `org_user` (`org_id`);2023-12-14 01:03:22?=?Y	
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `org_id` INTEGER NOT NULL
, `user_id` INTEGER NOT NULL
, `role` TEXT NOT NULL
, `created` DATETIME NOT NULL
, `updated` DATETIME NOT NULL
3create org table v1CREATE TABLE IF NOT EXISTS `org` (E_org_name` ON `org` (`name`);2023-12-14 01:03:22?3?S	
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `version` INTEGER NOT NULL
, `name` TEXT NOT NULL
, `address1` TEXT NULL
, `address2` TEXT NULL
, `city` TEXT NULL
, `state` TEXT NULL
, `zip_code` TEXT NULL
, `country` TEXT NULL
, `billing_email` TEXT NULL
, `created` DATETIME NOT NULL
, `updated` DATETIME NOT NULL
3create star tableCREATE TABLE IF NOT EXISTS `star` (QUE INDEX `UQE_star_user_id_dashboard_id` ON `star` (`user_id`,`dashboard_id`);2023-12-14 01:03:22?A/?7	
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `user_id` INTEGER NOT NULL
, `dashboard_id` INTEGER NOT NULL
3copy temp_user v1 to v2INSERT INTO `temp_user` (`version`tmp_qwerty`2023-12-14 01:03:21?;?U1:03:22^&?c	
, `name`
, `email_sent`
, `email_sent_on`
, `code`
, `status`
, `invited_by_user_id`
, `remote_addr`
, `id`
, `org_id`
, `email`
, `role`) SELECT `version`
, `name`
, `email_sent`
, `email_sent_on`
, `code`
, `status`
, `invited_by_user_id`
, `remote_addr`
, `id`
, `org_id`
, `email`
3create temp_user v2CREATE TABLE IF NOT EXISTS `temp_user` (_user_email` ON `temp_user` (`email`);2023-12-14 01:03:21?|3?)?	
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `org_id` INTEGER NOT NULL
, `version` INTEGER NOT NULL
, `email` TEXT NOT NULL
, `name` TEXT NULL
, `role` TEXT NULL
, `code` TEXT NOT NULL
, `status` TEXT NOT NULL
, `invited_by_user_id` INTEGER NULL
, `email_sent` INTEGER NOT NULL
, `email_sent_on` DATETIME NULL
, `remote_addr` TEXT NULL
, `created` INTEGER NOT NULL DEFAULT 0
, `updated` INTEGER NOT NULL DEFAULT 0
3create index IDX_temp_user_email - v1-7CREATE INDEX `IDX_temp_user_email` ON `temp_user` (`email`);2023-12-14 01:03:20:20[?:21_UO	



33Main Org.2023-12-14 01:03:452023-12-14 01:03:45
??
??2     Main Org33Admin2023-12-14 01:03:452023-12-14 01:03:45
??		
???T    		
 }
  ?
   [
3drop table dashboard_v1DROP TABLE IF EXISTS `dashboard_v1`2023-12-14 01:03:23?ated_by` INTEGER NULL 2023-12-14 01:03:23H?W23-12-14 01:03:24tDO24?U?5	
3copy dashboard v1 to v2INSERT INTO `dashboard` (`data`
, `org_id`
, `created`
, `updated`
, `id`
, `version`
, `slug`
, `title`) SELECT `data`
, `account_id`
, `created`
, `updated`
, `id`
, `version`
, `slug`
3create dashboard v2CREATE TABLE IF NOT EXISTS `dashboard` (hboard_org_id` ON `dashboard` (`org_id`);2023-12-14 01:03:23?D3?92023-12-14 01:03:23Y?		
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `version` INTEGER NOT NULL
, `slug` TEXT NOT NULL
, `title` TEXT NOT NULL
, `data` TEXT NOT NULL
, `org_id` INTEGER NOT NULL
, `created` DATETIME NOT NULL
, `updated` DATETIME NOT NULL
3add unique index dashboard_tag.dasboard_id_termCREATE UNIQUE INDEX `UQE_dashboard_tag_dashboard_id_term` ON `dashboard_tag` (`dashboard_id`,`term`);2023-12-13create dashboard_tag tableCREATE TABLE IF NOT EXISTS `dashboard_tag` (
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `dashboard_id` INTEGER NOT NULL
, `term` TEXT NOT NULL
3create dashboard tableCREATE TABLE IF NOT EXISTS `dashboard` (unt_id` ON `dashboard` (`account_id`);2023-12-14 01:03:23?K9?Aslug`);2023-12-14 01:03:23I?	
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `version` INTEGER NOT NULL
, `slug` TEXT NOT NULL
, `title` TEXT NOT NULL
, `data` TEXT NOT NULL
, `account_id` INTEGER NOT NULL
, `created` DATETIME NOT NULL
, `updated` DATETIME NOT NULL
3create index UQE_org_user_org_id_user_id - v1CREATE UNIQUE INDEX `UQE_org_user_org_id_user_id` ON `org_user` (`org_id`,`user_id`);2023-12-14 01:03:22
??		



W?R
?
?
 q
  ?=
??
  ^
   ?n???O
         ?
          W?G?=indexUQE_dashboard_account_id_slugdashboardCREATE UNIQUE INDEX `UQE_dashboard_account_id_slug` ON `dashboard` (`account_id`,`slug`)s=?indexIDX_dashboard_account_iddashboardCREATE INDEX `IDX_dashboard_account_id` ON `dashboard` (`account_id`)?*?#tabledashboarddashboardCREATE TABLE `dashboard` (
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `version` I
             W?''?tabledashboard_tagdashboard_tagCREATE TABLE `dashboard_tag` (
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `dashboard_id` INTEGER NOT NULL
, `term` TEXT NOT NULL
)f5?indexIDX_org_user_user_idorg_userCREATE INDEX `IDX_org_user_user_id` ON `org_user` (`user_id`)?C?5indexUQE_org_user_org_id_user_idorg_userCREATE UNIQUE INDEX `UQE_org_user_org_id_user_id` ON `org_user` (`org_id`,`user_id`)c3?indexIDX_org_user_org_idorg_userCREATE INDEX `IDX_org_user_org_id` ON `org_user` (`org_id`)?g?5tableorgorgCREATE TABLE `org` (
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `version` INTEGER NOT NULL
, `name` TEXT NOT NULL
, `address1` TEXT NULL
, `address2` TEXT NULL
, `city` TEXT NULL
, `state` TEXT NULL
, `zip_code` TEXT NULL
, `country` TEXT NULL
, `billing_email` TEXT NULL
, `created` DATETIME NOT NULL
, `updated` DATETIME NOT NULL
5?indexIDX_temp_user_statustemp_userCREATE INDEX `IDX_temp_user_status` ON `temp_user` (`status`)`
                                                                                                  1indexIDX_temp_user_codetemp_user	CREATE INDEX `IDX_temp_user_code` ON `temp_user` (`code`)g
                                    5?indexIDX_temp_user_org_idtemp_userCREATE INDEX `IDX_temp_user_org_id` ON `temp_user` (`org_id`)?^	?
                                                                                                                                         tabletemp_usertemp_user
  CREATE TABLE `temp_user` (
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `org_id` INTEGER NOT NULL
, `version` INTEGER NOT NULL
, `email` TEXT NOT NULL
, `name` TEXT NULL
, `role` TEXT NULL
, `code` TEXT NOT NULL
, `status` TEXT NOT NULL
, `invited_by_user_id` INTEGER NULL
, `email_sent` INTEGER NOT NULL
, `email_sent_on` DATETIME NULL
, `remote_addr` TEXT NULL
, `created` INTEGER NOT NULL DEFAULT 0
, `updated` INTEGER NOT NULL DEFAULT 0
)?R?tableuseruserCREATE TABLE `user` (
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `version` INTEGER NOT NULL
, `login` TEXT NOT NULL
, `email` TEXT NOT NULL
, `name` TEXT NULL
, `password` TEXT NULL
, `salt` TEXT NULL
, `rands` TEXT NULL
, `company` TEXT NULL
, `org_id` INTEGER NOT NULL
, `is_admin` INTEGER NOT NULL
, `email_verified` INTEGER NULL
, `theme` TEXT NULL
, `created` DATETIME NOT NULL
, `updated` DATETIME NOT NULL
, `help_flags1` INTEGER NOT NULL DEFAULT 0, `last_seen_at` DATETIME NULL, `is_disabled` INTEGER NOT NULL DEFAULT 0, is_service_account BOOLEAN DEFAULT 0)V)}indexUQE_user_emailuserCREATE UNIQUE INDEX `UQE_user_email` ON `user` (`email`)V)}indexUQE_user_loginuserCREATE UNIQUE INDEX `UQE_user_login` ON `user` (`login`)
 {O%uindexUQE_org_nameorgCREATE UNIQUE INDEX `UQE_org_name` ON `org` (`name`)d
CREATE INDEX `IDX_temp_user_email` ON `temp_user` (`email`)d5?
                                                              indexIDX_user_login_emailuserCREATE INDEX `IDX_user_login_email` ON `user` (`login`,`email`)??t?;tableorg_userorg_userCREATE TABLE `org_user` (
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `org_id` INTEGER NOT NULL
, `user_id` INTEGER NOT NULL
, `role` TEXT NOT NULL
, `created` DATETIME NOT NULL
, `updated` DATETIME NOT NULL
)?G?=indexUQE_star_user_id_dashboard_idstarCREATE UNIQUE INDEX `UQE_star_user_id_dashboard_id` ON `star` (`user_id`,`dashboard_id`)?tablestarstaCREATE TABLE `star` (
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `user_id` INTEGER NOT NULL
, `dashboard_id` INTEGER NOT NULL
)P++Ytablesqlite_sequencesqlite_sequenceCREATE TABLE sqlite_sequence(name,seq)?''?Atablemigration_logmigration_logCREATE TABLE `migration_log` (
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `migration_id` TEXT NOT NULL
, `sql` TEXT NOT NULL
, `success` INTEGER NOT NULL
, `error` TEXT NOT NULL
, `timestamp` DATETIME NOT NULL
Z?
 ?
  d
   ?
    Z
?	?F?0?l?UI
                 7^]+indUtableapi_keyapi_key0CREATE TABLE `api_key` (
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `org_id` INTEGER NOT NULL
, `name` TEXT NOT NULL
, `key` TEXT NOT NULL
, `role` TEXT NOT NULL
, `created` DATETIME NOT NULL
, `updated` DATETIME NOT NULL
, `expires` INTEGER NULL, `service_account_id` INTEGER NULL, `last_used_at` DATETIME NULL, `is_revoked` INTEGER NULL DEFAULT 0)?-O#??indexIDX_data_source_org_id_is_defaultdata_source-CREATE INDEX `IDX_data_source_org_id_is_default` ON `data_source` (`org_id`,`is_default`)?,A#?1indexUQE_data_source_org_id_uiddata_source(CREATE UNIQUE INDEX `UQE_data_source_org_id_uid` ON `data_source` (`org_id`,`uid`)?0''?tabledashboard_tagdashboard_tagCREATE TABLE `dashboard_tag` (
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `dashboard_id` INTEGER NOT NULL
, `term` TEXT NOT NULL
)?+C#?5indexUQE_data_source_org_id_namedata_source,CREATE UNIQUE INDEX `UQE_data_source_org_id_name` ON `data_source` (`org_id`,`name`)o*9#?indexIDX_data_source_org_iddata_source)CREATE INDEX `IDX_data_source_org_id` ON `data_source` (`org_id`)?")##?
                                                                                            tabledata_sourcedata_source+CREATE TABLE `data_source` (
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `org_id` INTEGER NOT NULL
, `version` INTEGER NOT NULL
, `type` TEXT NOT NULL
, `name` TEXT NOT NULL
, `access` TEXT NOT NULL
, `url` TEXT NOT NULL
, `password` TEXT NULL
, `user` TEXT NULL
, `database` TEXT NULL
, `basic_auth` INTEGER NOT NULL
, `basic_auth_user` TEXT NULL
, `basic_auth_password` TEXT NULL
, `is_default` INTEGER NOT NULL
, `json_data` TEXT NULL
, `created` DATETIME NOT NULL
, `updated` DATETIME NOT NULL
, `with_credentials` INTEGER NOT NULL DEFAULT 0, `secure_json_data` TEXT NULL, `read_only` INTEGER NULL, `uid` TEXT NOT NULL DEFAULT 0)p';?indexIDX_dashboard_is_folderdashboard'CREATE INDEX `IDX_dashboard_is_folder` ON `dashboard` (`is_folder`)d&3?indexIDX_dashboard_titledashboard#CREATE INDEX `IDX_dashboard_title` ON `dashboard` (`title`)?>%e9?kindexIDX_dashboard_provisioning_dashboard_id_namedashboard_provisioning&CREATE INDEX `IDX_dashboard_provisioning_dashboard_id_name` ON `dashboard_provisioning` (`dashboard_id`,`name`)?-$[9?SindexIDX_dashboard_provisioning_dashboard_iddashboard_provisioning%CREATE INDEX `IDX_dashboard_provisioning_dashboard_id` ON `dashboard_provisioning` (`dashboard_id`)?##99?atabledashboard_provisioningdashboard_provisioning$CREATE TABLE `dashboard_provisioning` (
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `dashboard_id` INTEGER NULL
, `name` TEXT NOT NULL
, `external_id` TEXT NOT NULL
, `updated` INTEGER NOT NULL DEFAULT 0
, `check_sum` TEXT NULL)?"!U?]indexUQE_dashboard_org_id_folder_id_titledashboard CREATE UNIQUE INDEX `UQE_dashboard_org_id_folder_id_title` ON `dashboard` (`org_id`,`folder_id`,`title`)| =?)indexUQE_dashboard_org_id_uiddashboard"CREATE UNIQUE INDEX `UQE_dashboard_org_id_uid` ON `dashboard` (`org_id`,`uid`)?	I'?/indexIDX_dashboard_tag_dashboard_iddashboard_tagCREATE INDEX `IDX_dashboard_tag_dashboard_id` ON `dashboard_tag` (`dashboard_id`)?I?3indexIDX_dashboard_org_id_plugin_iddashboardCREATE INDEX `IDX_dashboard_org_id_plugin_id` ON `dashboard` (`org_id`,`plugin_id`)j7?
                                                                                                       indexIDX_dashboard_gnet_iddashboardCREATE INDEX `IDX_dashboard_gnet_id` ON `dashboard` (`gnet_id`)g?indexIDX_dashboard_org_iddashboardCREATE INDEX `IDX_dashboard_org_id` ON `dashboard` (`org_id`)?:?CtabledashboarddashboardCREATE TABLE `dashboard` (
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `version` INTEGER NOT NULL
, `slug` TEXT NOT NULL
, `title` TEXT NOT NULL
, `data` TEXT NOT NULL
, `org_id` INTEGER NOT NULL
, `created` DATETIME NOT NULL
, `updated` DATETIME NOT NULL
, `updated_by` INTEGER NULL, `created_by` INTEGER NULL, `gnet_id` INTEGER NULL, `plugin_id` TEXT NULL, `folder_id` INTEGER NOT NULL DEFAULT 0, `is_folder` INTEGER NOT NULL DEFAULT 0, `has_acl` INTEGER NOT NULL DEFAULT 0, `uid` TEXT NULL, `is_public` INTEGER NOT NULL DEFAULT 0)

?w?j
 ?
  ?
   F
    ?
3create data_source tableCREATE TABLE IF NOT EXISTS `data_source` (
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `account_id` INTEGER NOT NULL
, `version` INTEGER NOT NULL
, `type` TEXT NOT NULL
, `name` TEXT NOT NULL
, `access` TEXT NOT NULL
, `url` TEXT NOT NULL
, `password` TEXT NULL
, `user` TEXT NULL
, `database` TEXT NULL
, `basic_auth` INTEGER NOT NULL
, `basic_auth_user` TEXT NULL
, `basic_auth_password` TEXT NULL
, `is_default` INTEGER NOT NULL
, `created` DATETIME NOT NULL
, `updated` DATETIME NOT NULL
3delete stars for deleted dashboardsDELETE FROM star WHERE dashboard_id NOT IN (SELECT id FROM dashboard)2023-12-14 01:03:25?   
3copy dashboard_provisioning v1 to v2INSERT INTO `dashboard_provisioning` (`id`ning_tmp_qwerty`2023-12-14 01:03:25?sU?u2-14 01:03:25tG? 
, `dashboard_id`
, `name`
, `external_id`) SELECT `id`
, `dashboard_id`
, `name`
3create index IDX_dashboard_provisioning_dashboard_id_name - v2CREATE INDEX `IDX_dashboard_provisioning_dashboard_id_name` ON `dashboard_provisioning` (`dashb3create index IDX_dashboard_provisioning_dashboard_id - v2CREATE INDEX `IDX_dashboard_provisioning_dashboard_id` ON `dashboard_provisioning` (`dashboard_id`);3create dashboard_provisioning v2CREATE TABLE IF NOT EXISTS `dashboard_provisioning` (
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `dashboard_id` INTEGER NULL
, `name` TEXT NOT NULL
, `external_id` TEXT NOT NULL
, `updated` INTEGER NOT NULL DEFAULT 0
3Rename table dashboard_provisioning to dashboard_provisioning_tmp_qwerty - v1ALTER TABLE `dashboard_provisioning` RENAME TO `dashboard_provisioning_tmp_qwert3create dashboard_provisioningCREATE TABLE IF NOT EXISTS `dashboard_provisioning` (
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `dashboard_id` INTEGER NULL
, `name` TEXT NOT NULL
, `external_id` TEXT NOT NULL
, `updated` DATETIME NOT NULL
3Add unique index for dashboard_org_id_title_folder_idCREATE UNIQUE INDEX `UQE_dashboard_org_id_folder_id_title` ON `dashboard` (`org_id`,`folder_id`,`title`)3Add column folder_id in dashboardalter table `dashboard` ADD COLUMN `folder_id` INTEGER NOT NULL DEFAULT 0 2023-12-14 01:03:24O?!:03:24}W?	






nx?d
 -
?
3create api_key tableCREATE TABLE IF NOT EXISTS `api_key` (unt_id` ON `api_key` (`account_id`);2023-12-14 01:03:27?(5?;2023-12-14 01:03:27k7?	
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `account_id` INTEGER NOT NULL
, `name` TEXT NOT NULL
, `key` TEXT NOT NULL
, `role` TEXT NOT NULL
, `created` DATETIME NOT NULL
, `updated` DATETIME NOT NULL
3add unique index datasource_org_id_is_defaultCREATE INDEX `IDX_data_source_org_id_is_default` ON `data_source` (`org_id`,`is_default`);2023-12-14 01:03:27?Y?3Add uid columnalter table `data_source` ADD COLUMN `uid` TEXT NOT NULL DEFAULT 0 2023-12-14 01:03:26uC? (`org_id`,`uid`);2023-12-14 01:03:26Wq-g	
3create data_source table v2CREATE TABLE IF NOT EXISTS `data_source` (_org_id` ON `data_source` (`org_id`);2023-12-14 01:03:25?>C?;2023-12-14 01:03:25?]?	
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `org_id` INTEGER NOT NULL
, `version` INTEGER NOT NULL
, `type` TEXT NOT NULL
, `name` TEXT NOT NULL
, `access` TEXT NOT NULL
, `url` TEXT NOT NULL
, `password` TEXT NULL
, `user` TEXT NULL
, `database` TEXT NULL
, `basic_auth` INTEGER NOT NULL
, `basic_auth_user` TEXT NULL
, `basic_auth_password` TEXT NULL
, `is_default` INTEGER NOT NULL
, `json_data` TEXT NULL
, `created` DATETIME NOT NULL
, `updated` DATETIME NOT NULL
3add unique index data_source.account_id_nameCREATE UNIQUE INDEX `UQE_data_source_account_id_name` ON `data_source` (`account_id`,`name`);2023-12-14 01:03:25?3add index data_source.account_idCREATE INDEX `IDX_data_source_account_id` ON `data_source` (`account_id`);2023-12-14 01:03:25


N?[
 b


  ?
   R
?
>	?	7???
3create quota table v1CREATE TABLE IF NOT EXISTS `quota` (
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `org_id` INTEGER NULL
, `user_id` INTEGER NULL
, `target` TEXT NOT NULL
, `limit` INTEGER NOT NULL
, `created` DATETIME NOT NULL
, `updated` DATETIME NOT NULL
3Change dashboard_encrypted column to MEDIUMBLOBSELECT 0;2023-12-14 01:03:28?
3Add column external_delete_url to dashboard_snapshots tablealter table `dashboard_snapshot` ADD COLUMN `external_delete_url` TEXT NULL 2023-12-14 01:03:28P?m3create index IDX_dashboard_snapshot_user_id - v5CREATE INDEX `IDX_dashboard_snapshot_user_id` ON `dashboard_snapshot` (`user_id`);2023-12-14 01:03:28?-?
3create index UQE_dashboard_snapshot_delete_key - v5CREATE UNIQUE INDEX `UQE_dashboard_snapshot_delete_key` ON `dashboard_snapshot` (`delete_key`);2023-12-14 01:03:28??
3create index UQE_dashboard_snapshot_key - v5CREATE UNIQUE INDEX `UQE_dashboard_snapshot_key` ON `dashboard_snapshot` (`key`);2023-12-14 01:03:28?Z?
3create dashboard_snapshot table v5 #2CREATE TABLE IF NOT EXISTS `dashboard_snapshot` (
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `name` TEXT NOT NULL
, `key` TEXT NOT NULL
, `delete_key` TEXT NOT NULL
, `org_id` INTEGER NOT NULL
, `user_id` INTEGER NOT NULL
, `external` INTEGER NOT NULL
, `external_url` TEXT NOT NULL
, `dashboard` TEXT NOT NULL
, `expires` DATETIME NOT NULL
, `created` DATETIME NOT NULL
, `updated` DATETIME NOT NULL
3create dashboard_snapshot table v4CREATE TABLE IF NOT EXISTS `dashboard_snapshot` (-14 01:03:28?Q?	
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `name` TEXT NOT NULL
, `key` TEXT NOT NULL
, `dashboard` TEXT NOT NULL
, `expires` DATETIME NOT NULL
, `created` DATETIME NOT NULL
, `updated` DATETIME NOT NULL
3copy api_key v1 to v2INSERT INTO `api_key` (`key`i_key_v1`2023-12-14 01:03:27?h7?}L 2023-12-14 01:03:27E?E+4 01:03:28n?E}-12-14 01:03:28}K?    
, `role`
, `created`
, `updated`
, `id`
, `org_id`
, `name`) SELECT `key`
, `role`
, `created`
, `updated`
, `id`
, `account_id`
3create api_key table v2CREATE TABLE IF NOT EXISTS `api_key` (_org_id` ON `api_key` (`org_id`);2023-12-14 01:03:27?';?w2023-12-14 01:03:27wO?	
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `org_id` INTEGER NOT NULL
, `name` TEXT NOT NULL
, `key` TEXT NOT NULL
, `role` TEXT NOT NULL
, `created` DATETIME NOT NULL
, `updated` DATETIME NOT NULL
*k2023-12-14 01:03:27
 ?
?
$	??]????????'=?!tableplaylistplaylist?CREATE TABLE `playlist` (
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `name` TEXT NOT NULL
, `interval` TEXT NOT NULL
, `org_id` INTEGER NOT NULL
, `created_at` INTEGER NOT NULL DEFAULT 0, `updated_at` INTEGER NOT NULL DEFAULT 0, `uid` TEXT NOT NULL DEFAULT 0)?$?##?tablepreferencespreferencesACREATE TABLE `preferences` (
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `org_id` INTEGER NOT NULL
, `user_id` INTEGER NOT NULL
, `version` INTEGER NOT NULL
, `home_dashboard_id` INTEGER NOT NULL
, `timezone` TEXT NOT NULL
, `theme` TEXT NOT NULL
, `created` DATETIME NOT NULL
, `updated` DATETIME NOT NULL
, `team_id` INTEGER NULL, `week_start` TEXT NULL, `json_data` TEXT NULL)?z>''?3tableplaylist_itemplaylist_item@CREATE TABLE `playlist_item` (
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `playlist_id` INTEGER NOT NULL
, `type` TEXT NOT NULL
, `value` TEXT NOT NULL
, `title` TEXT NOT NULL
, `order` INTEGER NOT NULL
)-<Andexsqlite_autoindex_session_1session>;gtablesessionsession=CREATE TABLE `session` (
`key` TEXT PRIMARY KEY NOT NULL
, `data` BLOB NOT NULL
, `expiry` INTEGER NOT NULL
)?":S)?UindexUQE_plugin_setting_org_id_plugin_idplugin_setting<CREATE UNIQUE INDEX `UQE_plugin_setting_org_id_plugin_id` ON `plugin_setting` (`org_id`,`plugin_id`)?v9))?'tableplugin_settingplugin_setting;CREATE TABLE `plugin_setting` (
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `org_id` INTEGER NULL
, `plugin_id` TEXT NOT NULL
, `enabled` INTEGER NOT NULL
, `pinned` INTEGER NOT NULL
, `json_data` TEXT NULL
, `secure_json_data` TEXT NULL
, `created` DATETIME NOT NULL
, `updated` DATETIME NOT NULL
, `plugin_version` TEXT NULL)?8K?IindexUQE_quota_org_id_user_id_targetquota9CREATE UNIQUE INDEX `UQE_quota_org_id_user_id_target` ON `quota` (`org_id`,`user_id`,`target`)?7?_tablequotaquota8CREATE TABLE `quota` (
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `org_id` INTEGER NULL
, `user_id` INTEGER NULL
, `target` TEXT NOT NULL
, `limit` INTEGER NOT NULL
, `created` DATETIME NOT NULL
, `updated` DATETIME NOT NULL
)?6I1?/indexIDX_dashboard_snapshot_user_iddashboard_snapshot7CREATE INDEX `IDX_dashboard_snapshot_user_id` ON `dashboard_snapshot` (`user_id`)?5O1?IindexUQE_dashboard_snapshot_delete_keydashboard_snapshot6CREATE UNIQUE INDEX `UQE_dashboard_snapshot_delete_key` ON `dashboard_snapshot` (`delete_key`)?	4A1?-indexUQE_dashboard_snapshot_keydashboard_snapshot5CREATE UNIQUE INDEX `UQE_dashboard_snapshot_key` ON `dashboard_snapshot` (`key`)?~311?'tabledashboard_snapshotdashboard_snapshot.CREATE TABLE `dashboard_snapshot` (
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `name` TEXT NOT NULL
, `key` TEXT NOT NULL
, `delete_key` TEXT NOT NULL
, `org_id` INTEGER NOT NULL
, `user_id` INTEGER NOT NULL
, `external` INTEGER NOT NULL
, `external_url` TEXT NOT NULL
, `dashboard` TEXT NOT NULL
, `expires` DATETIME NOT NULL
, `created` DATETIME NOT NULL
, `updated` DATETIME NOT NULL
, `external_delete_url` TEXT NULL, `dashboard_encrypted` BLOB NULL)w2;%indexUQE_api_key_org_id_nameapi_key4CREATE UNIQUE INDEX `UQE_api_key_org_id_name` ON `api_key` (`org_id`,`name`)]1+indexUQE_api_key_keyapi_key3CREATE UNIQUE INDEX `UQE_api_key_key` ON `api_key` (`key`)^01indexIDX_api_key_org_idapi_key/CREATE INDEX `IDX_api_key_org_id` ON `api_key` (`org_id`)?/Utableapi_keyapi_key0CREATE TABLE `api_key` (
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `org_id` INTEGER NOT NULL
, `name` TEXT NOT NULL
, `key` TEXT NOT NULL
, `role` TEXT NOT NULL
, `created` DATETIME NOT NULL
, `updated` DATETIME NOT NULL
, `expires` INTEGER NULL, `service_account_id` INTEGER NULL, `last_used_at` DATETIME NULL, `is_revoked` INTEGER NULL DEFAULT 0)?-O#??indexIDX_data_source_org_id_is_defaultdata_source-CREATE INDEX `IDX_data_source_org_id_is_default` ON `data_source` (`org_id`,`is_default`)





1Q
?
 ?
  J
   ?
    L
?
3create preferences table v3CREATE TABLE IF NOT EXISTS `preferences` (?`team_id` INTEGER NULL 2023-12-14 01:03:29I?&M+x?O?      
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `org_id` INTEGER NOT NULL
, `user_id` INTEGER NOT NULL
, `version` INTEGER NOT NULL
, `home_dashboard_id` INTEGER NOT NULL
, `timezone` TEXT NOT NULL
, `theme` TEXT NOT NULL
, `created` DATETIME NOT NULL
, `updated` DATETIME NOT NULL
3create playlist item table v2CREATE TABLE IF NOT EXISTS `playlist_item` (at` INTEGER NOT NULL DEFAULT 0 2023-12-14 01:03:29K? Q+	
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `playlist_id` INTEGER NOT NULL
, `type` TEXT NOT NULL
, `value` TEXT NOT NULL
, `title` TEXT NOT NULL
, `order` INTEGER NOT NULL
3create playlist table v2CREATE TABLE IF NOT EXISTS `playlist` (
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `name` TEXT NOT NULL
, `interval` TEXT NOT NULL
, `org_id` INTEGER NOT NULL
3create session tableCREATE TABLE IF NOT EXISTS `session` (t`2023-12-14 01:03:28?+5?:03:29V?K	
`key` TEXT PRIMARY KEY NOT NULL
, `data` BLOB NOT NULL
, `expiry` INTEGER NOT NULL
3Update plugin_setting table charset-- NOT REQUIRED2023-12-14 01:03:28?
3create index UQE_plugin_setting_org_id_plugin_id - v1CREATE UNIQUE INDEX `UQE_plugin_setting_org_id_plugin_id` ON `plugin_setting` (`org_id`,`plugin_id`);2023create plugin_setting tableCREATE TABLE IF NOT EXISTS `plugin_setting` (
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `org_id` INTEGER NULL
, `plugin_id` TEXT NOT NULL
, `enabled` INTEGER NOT NULL
, `pinned` INTEGER NOT NULL
, `json_data` TEXT NULL
, `secure_json_data` TEXT NULL
, `created` DATETIME NOT NULL
, `updated` DATETIME NOT NULL
3create index UQE_quota_org_id_user_id_target - v1CREATE UNIQUE INDEX `UQE_quota_org_id_user_id_target` ON `quota` (`org_id`,`user_id`,`target`);2023-12-14 01:03:28



I
 ?
  k
   ?
    J
?
3create notification_journal table v1CREATE TABLE IF NOT EXISTS `alert_notification_journal` (
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `org_id` INTEGER NOT NULL
, `alert_id` INTEGER NOT NULL
, `notifier_id` INTEGER NOT NULL
, `sent_at` INTEGER NOT NULL
, `success` INTEGER NOT NULL
3add index alert_notification org_id & nameCREATE UNIQUE INDEX `UQE_alert_notification_org_id_name` ON `alert_notification` (`org_id`,`name`);2023-12-14 01:033create alert_notification table v1CREATE TABLE IF NOT EXISTS `alert_notification` (ER NOT NULL DEFAULT 0 2023-12-14 01:03:30?B?Q?? 2023-12-14 01:03:30??=?3	
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `org_id` INTEGER NOT NULL
, `name` TEXT NOT NULL
, `type` TEXT NOT NULL
, `settings` TEXT NOT NULL
, `created` DATETIME NOT NULL
, `updated` DATETIME NOT NULL
3copy alert_rule_tag v1 to v2INSERT INTO `alert_rule_tag` (`alert_id`2023-12-14 01:03:30?!?E?a	
, `tag_id`) SELECT `alert_id`
3create index UQE_alert_rule_tag_alert_id_tag_id - Add unique index alert_rule_tag.alert_id_tag_id V2CREATE UNIQUE INDEX `UQE_alert_rule_tag_alert_id_tag_id` 3Create alert_rule_tag table v2CREATE TABLE IF NOT EXISTS `alert_rule_tag` (
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `alert_id` INTEGER NOT NULL
, `tag_id` INTEGER NOT NULL
);2023-12-14 01:03:30?
3Add unique index alert_rule_tag.alert_id_tag_idCREATE UNIQUE INDEX `UQE_alert_rule_tag_alert_id_tag_id` ON `alert_rule_tag` (`alert_id`,`tag_id`);2023-12-14 3Create alert_rule_tag table v1CREATE TABLE IF NOT EXISTS `alert_rule_tag` (
`alert_id` INTEGER NOT NULL
, `tag_id` INTEGER NOT NULL
3create alert table v1CREATE TABLE IF NOT EXISTS `alert` (d_id` ON `alert` (`org_id`,`id`);2023-12-14 01:03:29?3?7??07u	
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `version` INTEGER NOT NULL
, `dashboard_id` INTEGER NOT NULL
, `panel_id` INTEGER NOT NULL
, `org_id` INTEGER NOT NULL
, `name` TEXT NOT NULL
, `message` TEXT NOT NULL
, `state` TEXT NOT NULL
, `settings` TEXT NOT NULL
, `frequency` INTEGER NOT NULL
, `handler` INTEGER NOT NULL
, `severity` TEXT NOT NULL
, `silenced` INTEGER NOT NULL
, `execution_error` TEXT NOT NULL
, `eval_data` TEXT NULL
, `eval_date` DATETIME NULL
, `new_state_date` DATETIME NOT NULL
, `state_changes` INTEGER NOT NULL
, `created` DATETIME NOT NULL
, `updated` DATETIME NOT NULL
);2023-12-14 01:03:29
B?


  ?
   U
?	???C?B?9	A!?#indexIDX_annotation_org_id_typeannotationUCREATE INDEX `IDX_annotation_org_id_type` ON `annotation` (`org_id`,`type`)QI!?3indexIDX_annotation_org_id_alert_idannotationTCREATE INDEX `IDX_annotation_org_id_alert_id` ON `annotation` (`org_id`,`alert_id`)?zP!!??tableannotationannotationSCREATE TABLE `annotation` (
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `org_id` INTEGER NOT NULL
, `alert_id` INTEGER NULL
, `user_id` INTEGER NULL
, `dashboard_id` INTEGER NULL
, `panel_id` INTEGER NULL
, `category_id` INTEGER NULL
, `type` TEXT NOT NULL
, `title` TEXT NOT NULL
, `text` TEXT NOT NULL
, `metric` TEXT NULL
, `prev_state` TEXT NOT NULL
, `new_state` TEXT NOT NULL
, `data` TEXT NOT NULL
, `epoch` INTEGER NOT NULL
, `region_id` INTEGER NULL DEFAULT 0, `tags` TEXT NULL, `created` INTEGER NULL DEFAULT 0, `updated` INTEGER NULL DEFAULT 0, `epoch_end` INTEGER NOT NULL DEFAULT 0)?OC)?#indexIDX_alert_rule_tag_alert_idalert_rule_tagRCREATE INDEX `IDX_alert_rule_tag_alert_id` ON `alert_rule_tag` (`alert_id`)?)NW=?KindexIDX_alert_notification_state_alert_idalert_notification_stateMCREATE INDEX `IDX_alert_notification_state_alert_id` ON `alert_notification_state` (`alert_id`)? MO1?MindexUQE_alert_notification_org_id_uidalert_notificationQCREATE UNIQUE INDEX `UQE_alert_notification_org_id_uid` ON `alert_notification` (`org_id`,`uid`)?mL}=?-indexUQE_alert_notification_state_org_id_alert_id_notifier_idalert_notification_stateOCREATE UNIQUE INDEX `UQE_alert_notification_state_org_id_alert_id_notifier_id` ON `alert_notification_state` (`org_id`,`alert_id`,`notifier_id`)?~K==?tablealert_notification_statealert_notification_stateNCREATE TABLE `alert_notification_state` (
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `org_id` INTEGER NOT NULL
, `alert_id` INTEGER NOT NULL
, `notifier_id` INTEGER NOT NULL
, `state` TEXT NOT NULL
, `version` INTEGER NOT NULL
, `updated_at` INTEGER NOT NULL
, `alert_rule_state_updated_version` INTEGER NOT NULL
)?vI11?tablealert_notificationalert_notificationJCREATE TABLE `alert_notification` (
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `org_id` INTEGER NOT NULL
, `name` TEXT NOT NULL
, `type` TEXT NOT NULL
, `settings` TEXT NOT NULL
, `created` DATETIME NOT NULL
, `updated` DATETIME NOT NULL
, `is_default` INTEGER NOT NULL DEFAULT 0, `frequency` INTEGER NULL, `send_reminder` INTEGER NULL DEFAULT 0, `disable_resolve_message` INTEGER NOT NULL DEFAULT 0, `uid` TEXT NULL, `secure_settings` TEXT NULL)?HQ)?QindexUQE_alert_rule_tag_alert_id_tag_idalert_rule_tagLCREATE UNIQUE INDEX `UQE_alert_rule_tag_alert_id_tag_id` ON `alert_rule_tag` (`alert_id`,`tag_id`)?4G))?#tablealert_rule_tagalert_rule_tagKCREATE TABLE `alert_rule_tag` (
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `alert_id` INTEGER NOT NULL
, `tag_id` INTEGER NOT NULL
)iE9?indexIDX_alert_dashboard_idalertICREATE INDEX `IDX_alert_dashboard_id` ON `alert` (`dashboard_id`)SD+sindexIDX_alert_statealertHCREATE INDEX `IDX_alert_state` ON `alert` (`state`)bC3?indexIDX_alert_org_id_idalertFCREATE INDEX `IDX_alert_org_id_id` ON `alert` (`org_id`,`id`)?B?tablealertalertDCREATE TABLE `alert` (
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `version` INTEGER NOT NULL
, `dashboard_id` INTEGER NOT NULL
, `panel_id` INTEGER NOT NULL
, `org_id` INTEGER NOT NULL
, `name` TEXT NOT NULL
, `message` TEXT NOT NULL
, `state` TEXT NOT NULL
, `settings` TEXT NOT NULL
, `frequency` INTEGER NOT NULL
, `handler` INTEGER NOT NULL
, `severity` TEXT NOT NULL
, `silenced` INTEGER NOT NULL
, `execution_error` TEXT NOT NULL
, `eval_data` TEXT NULL
, `eval_date` DATETIME NULL
, `new_state_date` DATETIME NOT NULL
, `state_changes` INTEGER NOT NULL
, `created` DATETIME NOT NULL
, `updated` DATETIME NOT NULL
, `for` INTEGER NULL)rA;#?indexIDX_preferences_user_idpreferencesCCREATE INDEX `IDX_preferences_user_id` ON `preferences` (`user_id`)o@9#?indexIDX_preferences_org_idpreferencesBCREATE INDEX `IDX_preferences_org_id` ON `preferences` (`org_id`)




}?

?
 :
?	?	??c	
3Drop category_id indexDROP INDEX `IDX_annotation_org_id_category_id`2023-12-14 01:03:31?2023-12-14 01:03:31^?Y9i	
3add index annotation 3 v3CREATE INDEX `IDX_annotation_org_id_dashboard_id_panel_id_epoch` ON `annotation` (`org_id`,`dashboard_id`,`panel_id`,`epoch`);2023-13create annotation table v5CREATE TABLE IF NOT EXISTS `annotation` (id` ON `annotation` (`org_id`,`alert_id`);2023-12-14 01:03:31?{?A?1????%	
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `org_id` INTEGER NOT NULL
, `alert_id` INTEGER NULL
, `user_id` INTEGER NULL
, `dashboard_id` INTEGER NULL
, `panel_id` INTEGER NULL
, `category_id` INTEGER NULL
, `type` TEXT NOT NULL
, `title` TEXT NOT NULL
, `text` TEXT NOT NULL
, `metric` TEXT NULL
, `prev_state` TEXT NOT NULL
, `new_state` TEXT NOT NULL
, `data` TEXT NOT NULL
, `epoch` INTEGER NOT NULL
3Add non-unique index alert_notification_state_alert_idCREATE INDEX `IDX_alert_notification_state_alert_id` ON `alert_notification_state` (`alert_id`);2023-123Add unique index alert_notification_org_id_uidCREATE UNIQUE INDEX `UQE_alert_notification_org_id_uid` ON `alert_notification` (`org_id`,`uid`);2023-12-14 01:3add index alert_notification_state org_id & alert_id & notifier_idCREATE UNIQUE INDEX `UQE_alert_notification_state_org_id_alert_id_notifier_id` ON `alert_no3create alert_notification_state table v1CREATE TABLE IF NOT EXISTS `alert_notification_state` (
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `org_id` INTEGER NOT NULL
, `alert_id` INTEGER NOT NULL
, `notifier_id` INTEGER NOT NULL
, `state` TEXT NOT NULL
, `version` INTEGER NOT NULL
, `updated_at` INTEGER NOT NULL
, `alert_rule_state_updated_version` INTEGER NOT NULL
3add index notification_journal org_id & alert_id & notifier_idCREATE INDEX `IDX_alert_notification_journal_org_id_alert_id_notifier_id` ON `alert_notification_journal` (`org_id`,`alert_id`,`notifier_id`);2023-12-14 01:03:31






??RD?
?
 ?

  ?
[`
  ?5???i??7g##?5tableteam_memberteam_m?I'?/indexIDX_dashboard_acl_dashboard_iddasRH''?tabledashboard_acldashboard_acllCREATE TABLE `dashboard_acl` (
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `org_id` INTEGER NOT NULL
, `dashboard_id` INTEGER NOT NULLt;#?indexIDX_team_member_team_idteam_memberkCREATE INDEX `IDX_team_member_team_id` ON `team_member` (`team_id`)?*iY#?eindexUQE_team_member_org_id_team_id_user_idteam_memberjCREATE UNIQUE INDEX `UQE_team_member_org_id_team_id_user_id` ON `team_member` (`org_id`,`team_id`,`user_id`)oh9#?indexIDX_team_member_org_idteam_memberiCREATE INDEX `IDX_team_member_org_id` ON `team_member` (`org_id`)?7g##?5tableteam_memberteam_memberhCREATE TABLE `team_member` (
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `org_id` INTEGER NOT NULL
, `team_id` INTEGER NOT NULL
, `user_id` INTEGER NOT NULL
, `created` DATETIME NOT NULL
, `updated` DATETIME NOT NULL
, `external` INTEGER NULL, `permission` INTEGER NULL)hf3?indexUQE_team_org_id_uidteamgCREATE UNIQUE INDEX `UQE_team_org_id_uid` ON `team` (`org_id`,`uid`)ke5?indexUQE_team_org_id_nameteamfCREATE UNIQUE INDEX `UQE_team_org_id_name` ON `team` (`org_id`,`name`)Rd+sindexIDX_team_org_idteameCREATE INDEX `IDX_team_org_id` ON `team` (`org_id`)?oc?AtableteamteamdCREATE TABLE `team` (
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `name` TEXT NOT NULL
, `org_id` INTEGER NOT NULL
, `created` DATETIME NOT NULL
, `updated` DATETIME NOT NULL
, `uid` TEXT NULL, `email` TEXT NULL)|RA!?#indexIDX_annotation_org_id_typeannotationUCREATE INDEX `IDX_annotation_org_id_type` ON `annotation` (`org_id`,`type`)QI!?3indexIDX_annotation_org_id_alert_idannotationTCREATE INDEX `IDX_annotation_org_id_alert_id` ON `annotation` (`org_id`,`alert_id`)?:ba/?qindexUQE_dashboard_version_dashboard_id_versiondashboard_versioncCREATE UNIQUE INDEX `UQE_dashboard_version_dashboard_id_version` ON `dashboard_version` (`dashboard_id`,`version`)?aQ/??indexIDX_dashboard_version_dashboard_iddashboard_versionbCREATE INDEX `IDX_dashboard_version_dashboard_id` ON `dashboard_version` (`dashboard_id`)?x`//?tabledashboard_versiondashboard_versionaCREATE TABLE `dashboard_version` (
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `dashboard_id` INTEGER NOT NULL
, `parent_version` INTEGER NOT NULL
, `restored_from` INTEGER NOT NULL
, `version` INTEGER NOT NULL
, `created` DATETIME NOT NULL
, `created_by` INTEGER NOT NULL
, `message` TEXT NOT NULL
, `data` TEXT NOT NULL
)?q_?1tabletest_datatest_data_CREATE TABLE `test_data` (
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `metric1` TEXT NULL
, `metric2` TEXT NULL
, `value_big_int` INTEGER NULL
, `value_double` REAL NULL
, `value_float` REAL NULL
, `value_int` INTEGER NULL
, `time_epoch` INTEGER NOT NULL
, `time_date_time` DATETIME NOT NULL
, `time_time_stamp` DATETIME NOT NULL
)q^;!?indexIDX_annotation_alert_idannotation^CREATE INDEX `IDX_annotation_alert_id` ON `annotation` (`alert_id`)?]W!?SindexIDX_annotation_org_id_epoch_end_epochannotationXCREATE INDEX `IDX_annotation_org_id_epoch_end_epoch` ON `annotation` (`org_id`,`epoch_end`,`epoch`)?H\q!?
                                                                                                                      indexIDX_annotation_org_id_dashboard_id_epoch_end_epochannotationWCREATE INDEX `IDX_annotation_org_id_dashboard_id_epoch_end_epoch` ON `annotation` (`org_id`,`dashboard_id`,`epoch_end`,`epoch`)?ZG!?/indexIDX_annotation_org_id_updatedannotation]CREATE INDEX `IDX_annotation_org_id_updated` ON `annotation` (`org_id`,`updated`)?YG!?/indexIDX_annotation_org_id_createdannotationVCREATE INDEX `IDX_annotation_org_id_created` ON `annotation` (`org_id`,`created`)?.X[)?eindexUQE_annotation_tag_annotation_id_tag_idannotation_tag\CREATE UNIQUE INDEX `UQE_annotation_tag_annotation_id_tag_id` ON `annotation_tag` (`annotation_id`,`tag_id`)?9W))?-tableannotation_tagannotation_tag[CREATE TABLE `annotation_tag` (
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `annotation_id` INTEGER NOT NULL
, `tag_id` INTEGER NOT NULL
gV?
?
 ?
?
?
	?	
3Add index for org_id_epoch_end_epoch on annotation tableCREATE INDEX `IDX_annotation_org_id_epoch_end_epoch` ON `annotation` (`org_id`,`epoch_end`,`epoch`);23Add index for org_id_dashboard_id_epoch_end_epoch on annotation tableCREATE INDEX `IDX_annotation_org_id_dashboard_id_epoch_end_epoch` ON `annotation` (`org_3copy annotation_tag v2 to v3INSERT INTO `annotation_tag` (`annotation_id`12-14 01:03:32?+?E?u> 02023-12-14 01:03:32^?bE]3:32z?ciq2-14 01:03:32??U?1133q?mk]	
, `tag_id`) SELECT `annotation_id`
3create index UQE_annotation_tag_annotation_id_tag_id - Add unique index annotation_tag.annotation_id_tag_id V3CREATE UNIQUE INDEX `UQE_annotation_tag_annotat3Create annotation_tag table v3CREATE TABLE IF NOT EXISTS `annotation_tag` (03:32?X?I?K	
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `annotation_id` INTEGER NOT NULL
, `tag_id` INTEGER NOT NULL
);2023-12-14 01:03:32?
3Add unique index annotation_tag.annotation_id_tag_idCREATE UNIQUE INDEX `UQE_annotation_tag_annotation_id_tag_id` ON `annotation_tag` (`annotation_id`,`tag_i3Create annotation_tag table v2CREATE TABLE IF NOT EXISTS `annotation_tag` (
`annotation_id` INTEGER NOT NULL
, `tag_id` INTEGER NOT NULL
);2023-12-14 01:03:32


mj
  ?
   1
    Q
?	T	
               ??H??"c?y?m?a?
3add unique index team_member_org_id_team_id_user_idCREATE UNIQUE INDEX `UQE_team_member_org_id_team_id_user_id` ON `team_member` (`org_id`,`team_id`,`user_id3create team member tableCREATE TABLE IF NOT EXISTS `team_member` (ON `team_member` (`org_id`);2023-12-14 01:03:33?"=?k	
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `org_id` INTEGER NOT NULL
, `team_id` INTEGER NOT NULL
, `user_id` INTEGER NOT NULL
, `created` DATETIME NOT NULL
, `updated` DATETIME NOT NULL
3create team tableCREATE TABLE IF NOT EXISTS `team` (ON `team` (`org_id`);2023-12-14 01:03:33?q?/?name`);2023-12-14 01:03:33c?|7u	
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `name` TEXT NOT NULL
, `org_id` INTEGER NOT NULL
, `created` DATETIME NOT NULL
, `updated` DATETIME NOT NULL
3save existing dashboard data in dashboard_version table v1INSERT INTO dashboard_version
(
	dashboard_id,
	version,
	parent_version,
	restored_from,
	created,
	created_by,
	message,
	data
)
SELECT
	dashboard.id,
	dashboard.version,
	dashboard.version,
	dashboard.version,
	dashboard.updated,
	COALESCE(dashboard.updated_by, -1),
	'',
	dashboard.data
3add unique index dashboard_version.dashboard_id and dashboard_version.versionCREATE UNIQUE INDEX `UQE_dashboard_version_dashboard_id_version` ON `dashboard_v3create dashboard_version table v1CREATE TABLE IF NOT EXISTS `dashboard_version` (oard_id` ON `dashboard_version` (`dashboard_id`);2023-12-14 01:03:33??O?=	
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `dashboard_id` INTEGER NOT NULL
, `parent_version` INTEGER NOT NULL
, `restored_from` INTEGER NOT NULL
, `version` INTEGER NOT NULL
, `created` DATETIME NOT NULL
, `created_by` INTEGER NOT NULL
, `message` TEXT NOT NULL
, `data` TEXT NOT NULL
3create test_data tableCREATE TABLE IF NOT EXISTS `test_data` (
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `metric1` TEXT NULL
, `metric2` TEXT NULL
, `value_big_int` INTEGER NULL
, `value_double` REAL NULL
, `value_float` REAL NULL
, `value_int` INTEGER NULL
, `time_epoch` INTEGER NOT NULL
, `time_date_time` DATETIME NOT NULL
, `time_time_stamp` DATETIME NOT NULL
);2023-12-14 01:03:33







???'
!!??Editor2017-06-202017-06-20&
-       !!??Viewer2017-06-202017-06-20
 p
  ?
   d
?
3create index IDX_user_auth_auth_module_auth_id - v1CREATE INDEX `IDX_user_auth_auth_module_auth_id` ON `user_auth` (`auth_module`,`auth_id`);2023-12-14 01:033create user auth tableCREATE TABLE IF NOT EXISTS `user_auth` (
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `user_id` INTEGER NOT NULL
, `auth_module` TEXT NOT NULL
, `auth_id` TEXT NOT NULL
, `created` DATETIME NOT NULL
3copy login_attempt v1 to v2INSERT INTO `login_attempt` (`id`empt_tmp_qwerty`2023-12-14 01:03:35?<C?	
, `username`
, `ip_address`) SELECT `id`
, `username`
3create login_attempt v2CREATE TABLE IF NOT EXISTS `login_attempt` (_attempt_username` ON `login_attempt` (`username`);2023-12-14 01:03:35?p;?		
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `username` TEXT NOT NULL
, `ip_address` TEXT NOT NULL
, `created` INTEGER NOT NULL DEFAULT 0
3create login attempt tableCREATE TABLE IF NOT EXISTS `login_attempt` (me` ON `login_attempt` (`username`);2023-12-14 01:03:34?jA?w-14 01:03:34k?a[	
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `username` TEXT NOT NULL
, `ip_address` TEXT NOT NULL
, `created` DATETIME NOT NULL
3create tag tableCREATE TABLE IF NOT EXISTS `tag` (g_key_value` ON `tag` (`key`,`value`);2023-12-14 01:03:34?.-?	
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `key` TEXT NOT NULL
, `value` TEXT NOT NULL
3delete acl rules for deleted dashboards and foldersDELETE FROM dashboard_acl WHERE dashboard_id NOT IN (SELECT id FROM dashboard) AND dashboard_id != -12023-3save default acl rules in dashboard_acl table
INSERT INTO dashboard_acl
	(
		org_id,
		dashboard_id,
		permission,
		role,
		created,
		updated
	)
	VALUES
		(-1,-1, 1,'Viewer','2017-06-20','2017-06-20'),
		(-1,-1, 2,'Editor','2017-06-20','2017-06-20')
3add index dashboard_acl_team_idCREATE INDEX `IDX_dashboard_acl_team_id` ON `dashboard_acl` (`team_id`);2023-12-14 01:03:34??-14 01:03:34??
3add index dashboard_acl_user_idCREATE INDEX `IDX_dashboard_acl_user_id` ON `dashboard_acl` (`user_id`);2023-12-14 01:03:34?9?	
3add unique index dashboard_acl_dashboard_id_team_idCREATE UNIQUE INDEX `UQE_dashboard_acl_dashboard_id_team_id` ON `dashboard_acl` (`dashboard_id`,`team_id`);2023-12-14 01:03:34?9?
3add unique index dashboard_acl_dashboard_id_user_idCREATE UNIQUE INDEX `UQE_dashboard_acl_dashboard_id_user_id` ON `dashboard_acl` (`dashboard_id`,`user_id`)3create dashboard acl tableCREATE TABLE IF NOT EXISTS `dashboard_acl` (shboard_id` ON `dashboard_acl` (`dashboard_id`);2023-12-14 01:03:34?A?	
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `org_id` INTEGER NOT NULL
, `dashboard_id` INTEGER NOT NULL
, `user_id` INTEGER NULL
, `team_id` INTEGER NULL
, `permission` INTEGER NOT NULL DEFAULT 4
, `role` TEXT NULL
, `created` DATETIME NOT NULL
, `updated` DATETIME NOT NULL
);2023-12-14 01:03:34
????	?
dE??	?
 ?
  ;
   ?
    4
?
$	i?W????
?WN	
-$=!?%indexURI+?/indexIDX_user_aut,C+?#indexIDX_user_auth_token_user_iduser_auth_token?CREATE INDEX `IDX_user_auth_token_user_id` ON `user_auth_token` (`user_id`)?"S+?QindexUQE_user_auth_token_prev_auth_tokenuser_auth_token?CREATE UNIQUE INDEX `UQE_user_auth_token_prev_auth_token` ON `user_auth_token` (`prev_auth_token`)?~I+?=indexUQE_user_auth_token_auth_tokenuser_auth_token?CREATE UNIQUE INDEX `UQE_user_auth_token_auth_token` ON `user_auth_token` (`auth_token`)rj;#?indexIDX_team_member_team_idteam_memberkCREATE INDEX `IDX_team_member_team_id` ON `team_member` (`team_id`)?L}++?Mtableuser_auth_tokenuser_auth_token?CREATE TABLE `user_auth_token` (
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `user_id` INTEGER NOT NULL
, `auth_token` TEXT NOT NULL
, `prev_auth_token` TEXT NOT NULL
, `user_agent` TEXT NOT NULL
, `client_ip` TEXT NOT NULL
, `auth_token_seen` INTEGER NOT NULL
, `seen_at` INTEGER NULL
, `rotated_at` INTEGER NOT NULL
, `created_at` INTEGER NOT NULL
, `updated_at` INTEGER NOT NULL
, `revoked_at` INTEGER NULL)?
                             |G#?9indexUQE_server_lock_operation_uidserver_lockCREATE UNIQUE INDEX `UQE_server_lock_operation_uid` ON `server_lock` (`operation_uid`)?R{##?ktableserver_lockserver_lock~CREATE TABLE `server_lock` (
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `operation_uid` TEXT NOT NULL
, `version` INTEGER NOT NULL
, `last_execution` INTEGER NOT NULL
)jz7?
     indexIDX_user_auth_user_iduser_auth}CREATE INDEX `IDX_user_auth_user_id` ON `user_auth` (`user_id`)?yO??indexIDX_user_auth_auth_module_auth_iduser_auth{CREATE INDEX `IDX_user_auth_auth_module_auth_id` ON `user_auth` (`auth_module`,`auth_id`)?|x?Gtableuser_authuser_authxCREATE TABLE `user_auth` (
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `user_id` INTEGER NOT NULL
, `auth_module` TEXT NOT NULL
, `auth_id` TEXT NOT NULL
, `created` DATETIME NOT NULL
, `o_auth_access_token` TEXT NULL, `o_auth_refresh_token` TEXT NULL, `o_auth_token_type` TEXT NULL, `o_auth_expiry` DATETIME NULL, `o_auth_id_token` TEXT NULL)}wA'?indexIDX_login_attempt_usernamelogin_attemptzCREATE INDEX `IDX_login_attempt_username` ON `login_attempt` (`username`)?Vv''?ktablelogin_attemptlogin_attemptyCREATE TABLE `login_attempt` (
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `username` TEXT NOT NULL
, `ip_address` TEXT NOT NULL
, `created` INTEGER NOT NULL DEFAULT 0
indexUQE_tag_key_valuetagwCREATE UNIQUE INDEX `UQE_tag_key_value` ON `tag` (`key`,`value`)?s?utabletagtagvCREATE TABLE `tag` (
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `key` TEXT NOT NULL
, `value` TEXT NOT NULL
)?rE'?'indexIDX_dashboard_acl_permissiondashboard_acluCREATE INDEX `IDX_dashboard_acl_permission` ON `dashboard_acl` (`permission`)qG'?/indexIDX_dashboard_acl_org_id_roledashboard_acltCREATE INDEX `IDX_dashboard_acl_org_id_role` ON `dashboard_acl` (`org_id`,`role`)zp?'?ndexIDX_dashboard_acl_team_iddashboard_aclsCREATE INDEX `IDX_dashboard_acl_team_id` ON `dashboard_acl` (`team_id`)zo?'?ndexIDX_dashboard_acl_user_iddashboard_aclrCREATE INDEX `IDX_dashboard_acl_user_id` ON `dashboard_acl` (`user_id`)?*nY'?aindexUQE_dashboard_acl_dashboard_id_team_iddashboard_aclqCREATE UNIQUE INDEX `UQE_dashboard_acl_dashboard_id_team_id` ON `dashboard_acl` (`dashboard_id`,`team_id`)?*mY'?aindexUQE_dashboard_acl_dashboard_id_user_iddashboard_acloCREATE UNIQUE INDEX `UQE_dashboard_acl_dashboard_id_user_id` ON `dashboard_acl` (`dashboard_id`,`user_id`)?	lI'?/indexIDX_dashboard_acl_dashboard_iddashboard_aclnCREATE INDEX `IDX_dashboard_acl_dashboard_id` ON `dashboard_acl` (`dashboard_id`)?`k''?tabledashboard_acldashboard_acllCREATE TABLE `dashboard_acl` (
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `org_id` INTEGER NOT NULL
, `dashboard_id` INTEGER NOT NULL
, `user_id` INTEGER NULL
, `team_id` INTEGER NULL
, `permission` INTEGER NOT NULL DEFAULT 4
, `role` TEXT NULL
, `created` DATETIME NOT NULL
, `updated` DATETIME NOT NULL
)
????	?
???	
???	
???
   ?Editor
          	?Viewer
???		
??????xadmin10.4.1.1e~??`admin10.4.1.1e~??Hadmin10.4.1.1e~??admin10.4.1.1e?,admin10.4.1.1e?$
??????1admin'adminadmin	admin	admin
&?0?)
 ?
  ?
3recreate alert_definition tableCREATE TABLE IF NOT EXISTS `alert_definition` (
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `org_id` INTEGER NOT NULL
, `title` TEXT NOT NULL
, `condition` TEXT NOT NULL
, `data` TEXT NOT NULL
, `updated` DATETIME NOT NULL
, `interval_seconds` INTEGER NOT NULL DEFAULT 60
, `version` INTEGER NOT NULL DEFAULT 0
, `uid` TEXT NOT NULL DEFAULT 0
3create short_url table v1CREATE TABLE IF NOT EXISTS `short_url` (org_id_uid` ON `short_url` (`org_id`,`uid`);2023-12-14 01:03:36?6???	
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `org_id` INTEGER NOT NULL
, `uid` TEXT NOT NULL
, `path` TEXT NOT NULL
, `created_by` INTEGER NOT NULL
, `created_at` INTEGER NOT NULL
, `last_seen_at` INTEGER NULL
3create cache_data tableCREATE TABLE IF NOT EXISTS `cache_data` (che_data_cache_key` ON `cache_data` (`cache_key`);2023-12-14 01:03:36?X?;?Y	
`cache_key` TEXT PRIMARY KEY NOT NULL
, `data` BLOB NOT NULL
, `expires` INTEGER NOT NULL
, `created_at` INTEGER NOT NULL
3add unique index user_auth_token.prev_auth_tokenCREATE UNIQUE INDEX `UQE_user_auth_token_prev_auth_token` ON `user_auth_token` (`prev_auth_token`);2023-12-143create user auth token tableCREATE TABLE IF NOT EXISTS `user_auth_token` (uth_token_auth_token` ON `user_auth_token` (`auth_token`);2023-12-14 01:03:36?K?E?5
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `user_id` INTEGER NOT NULL
, `auth_token` TEXT NOT NULL
, `prev_auth_token` TEXT NOT NULL
, `user_agent` TEXT NOT NULL
, `client_ip` TEXT NOT NULL
, `auth_token_seen` INTEGER NOT NULL
, `seen_at` INTEGER NULL
, `rotated_at` INTEGER NOT NULL
, `created_at` INTEGER NOT NULL
, `updated_at` INTEGER NOT NULL
3create server_lock tableCREATE TABLE IF NOT EXISTS `server_lock` (_lock_operation_uid` ON `server_lock` (`operation_uid`);2023-12-14 01:03:36?q?=?		
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `operation_uid` TEXT NOT NULL
, `version` INTEGER NOT NULL
, `last_execution` INTEGER NOT NULL
);2023-12-14 01:03:35y?K?
3alter user_auth.auth_id to length 190SELECT 0;2023-12-14 01:03:35LUMN `o_auth_access_token` TEXT NULL 2023-12-14 01:03:35H?WS??	
?jj??%Ccleanup expired auth tokense??}"=cleanup old anon devicese??}%?delete old login attemptse{~%$?delete old login attempts?e?]
????=cleanup old anon devices?delete old login attemptsC	cleanup expired auth tokens





?O?p?|
 ?
  f
?
l	??j???11??tablealert_rule_versionalert_rule_version?CREATE TABLE `alert_rule_version` (
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `rule_org_id` INTEGER NOT NULL
, `rule_uid` TEXT NOT NULL DEFAULT 0
, `rule_namespace_uid` TEXT NOT NULL
, `rule_group` TEXT NOT NULL
, `parent_version` INTEGER NOT NULL
, `restored_from` INTEGER NOT NULL
, `version` INTEGER NOT NULL
, `created` DATETIME NOT NULL
, `title` TEXT NOT NULL
, `condition` TEXT NOT NULL
, `data` TEXT NOT NULL
, `i?e!?oindexIDX_alert_rule_org_id_dashboard_uid_panel_idalert_rule?CREATE INDEX `IDX_alert_rule_org_id_dashboard_uid_panel_id` ON `alert_rule` (`org_id`,`dashboard_uid`,`panel_id`)??C+?#indexIDX_user_auth_token_user_iduser_auth_token?CREATE INDEX `IDX_user_auth_token_user_id` ON `user_auth_token` (`user_id`)?"S+?QindexUQE_user_auth_token_prev_auth_tokenuser_auth_token?CREATE UNIQUE INDEX `UQE_user_auth_token_prev_auth_token` ON `user_auth_token` (`prev_auth_token`)?3?_!?qindexUQE_alert_rule_org_id_namespace_uid_titlealert_rule?CREATE UNIQUE INDEX `UQE_alert_rule_org_id_namespace_uid_title` ON `alert_rule` (`org_id`,`namespace_uid`,`title`)?;?i!?windexIDX_alert_rule_org_id_namespace_uid_rule_groupalert_rule?CREATE INDEX `IDX_alert_rule_org_id_namespace_uid_rule_group` ON `alert_?!?-indexUQE_alert_rule_org_id_uidalert_rule?CREATE UNIQUE INDEX `UQE_alert_rule_org_id_uid` ON `alert_rule` (`org_id`,`uid`)?f?
                                                                                                                                !!?tablealert_rulealert_rule?CREATE TABLE `alert_rule` (
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `org_id` INTEGER NOT NULL
, `title` TEXT NOT NULL
, `condition` TEXT NOT NULL
, `data` TEXT NOT NULL
, `updated` DATETIME NOT NULL
, `interval_seconds` INTEGER NOT NULL DEFAULT 60
, `version` INTEGER NOT NULL DEFAULT 0
, `uid` TEXT NOT NULL DEFAULT 0
, `namespace_uid` TEXT NOT NULL
, `rule_group` TEXT NOT NULL
, `no_data_state` TEXT NOT NULL DEFAULT 'NoData'
, `exec_err_state` TEXT NOT NULL DEFAULT 'Alerting'
, `for` INTEGER NOT NULL DEFAULT 0, `annotations` TEXT NULL, `labels` TEXT NULL, `dashboard_uid` TEXT NULL, `panel_id` INTEGER NULL, `rule_group_idx` INTEGER NOT NULL DEFAULT 1, `is_paused` INTEGER NOT NULL DEFAULT 0)?7?
e)?kindexIDX_alert_instance_rule_org_id_current_statealert_instance?CREATE INDEX `IDX_alert_instance_rule_org_id_current_state` ON `alert_instance` (`rule_org_id`,`current_state`)?T?	w)?indexIDX_alert_instance_rule_org_id_rule_uid_current_statealert_instance?CREATE INDEX `IDX_alert_instance_rule_org_id_rule_uid_current_state` ON `alert_instance` (`rule_org_id`,`rule_uid`,`current_state`)<O)indexsqlite_autoindex_alert_instance_1alert_instance??7?))?'tablealert_instancealert_instance?CREATE TABLE `alert_instance` (
"rule_org_id" INTEGER NOT NULL
, "rule_uid" TEXT NOT NULL DEFAULT 0
, `labels` TEXT NOT NULL
, `labels_hash` TEXT NOT NULL
, `current_state` TEXT NOT NULL
, `current_state_since` INTEGER NOT NULL
, `last_eval_time` INTEGER NOT NULL
, `current_state_end` INTEGER NOT NULL DEFAULT 0, `current_reason` TEXT NULL, PRIMARY KEY ( "rule_org_id","rule_uid",`labels_hash` ))}?=?)indexUQE_short_url_org_id_uidshort_url?CREATE UNIQUE INDEX `UQE_short_url_org_id_uid` ON `short_url` (`org_id`,`uid`)???stableshort_urlshort_url?CREATE TABLE `short_url` (
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `org_id` INTEGER NOT NULL
, `uid` TEXT NOT NULL
, `path` TEXT NOT NULL
, `created_by` INTEGER NOT NULL
, `created_at` INTEGER NOT NULL
, `last_seen_at` INTEGER NULL
)|?=!?%indexUQE_cache_data_cache_keycache_data?CREATE UNIQUE INDEX `UQE_cache_data_cache_key` ON `cache_data` (`cache_key`)4?G!indexsqlite_autoindex_cache_data_1cache_data??9?!!?;tablecache_datacache_data?CREATE TABLE `cache_data` (
`cache_key` TEXT PRIMARY KEY NOT NULL
, `data` BLOB NOT NULL
, `expires` INTEGER NOT NULL
, `created_at` INTEGER NOT NULL
)?
  ?I+?/indexIDX_user_auth_token_revoked_atuser_auth_token?CREATE INDEX `IDX_user_auth_token_revoked_at` ON `user_auth_token` (`revoked_at`)

4N?<
 s
  ?
   &
?
YTL?o??#?P?
3add column current_state_end to alert_instancealter table `alert_instance` ADD COLUMN `current_state_end` INTEGER NOT NULL DEFAULT 0 2023-12-14 01:03:37?P?E?3add index in alert_instance table on def_org_id, current_state columnsCREATE INDEX `IDX_alert_instance_def_org_id_current_state` ON `alert_instance` (`def_or3add index in alert_instance table on def_org_id, def_uid and current_state columnsCREATE INDEX `IDX_alert_instance_def_org_id_def_uid_current_state` ON `aler3create alert_instance tableCREATE TABLE IF NOT EXISTS `alert_instance` (?C?%	
`def_org_id` INTEGER NOT NULL
, `def_uid` TEXT NOT NULL DEFAULT 0
, `labels` TEXT NOT NULL
, `labels_hash` TEXT NOT NULL
, `current_state` TEXT NOT NULL
, `current_state_since` INTEGER NOT NULL
, `last_eval_time` INTEGER NOT NULL
3add index in alert_definition_version table on alert_definition_uid and version columnsCREATE UNIQUE INDEX `UQE_alert_definition_version_alert_definition_uid3add index in alert_definition_version table on alert_definition_id and version columnsCREATE UNIQUE INDEX `UQE_alert_definition_version_alert_definition_id_v3recreate alert_definition_version tableCREATE TABLE IF NOT EXISTS `alert_definition_version` (?{	
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `alert_definition_id` INTEGER NOT NULL
, `alert_definition_uid` TEXT NOT NULL DEFAULT 0
, `parent_version` INTEGER NOT NULL
, `restored_from` INTEGER NOT NULL
, `version` INTEGER NOT NULL
, `created` DATETIME NOT NULL
, `title` TEXT NOT NULL
, `condition` TEXT NOT NULL
, `data` TEXT NOT NULL
, `interval_seconds` INTEGER NOT NULL
3add unique index in alert_definition on org_id and uid columnsCREATE UNIQUE INDEX `UQE_alert_definition_org_id_uid` ON `alert_definition` (`org_id`,`uid`);203add unique index in alert_definition on org_id and title columnsCREATE UNIQUE INDEX `UQE_alert_definition_org_id_title` ON `alert_definition` (`org_id`,`titl3drop index in alert_definition on org_id and title columnsDROP INDEX `IDX_alert_definition_org_id_title`2023-12-14 01:03:36c?? 
3add index in alert_definition on org_id and uid columnsCREATE INDEX `IDX_alert_definition_org_id_uid` ON `alert_definition` (`org_id`,`uid`);2023-12-14 01:033add index in alert_definition on org_id and title columnsCREATE INDEX `IDX_alert_definition_org_id_title` ON `alert_definition` (`org_id`,`title`);2023-12-14 01:03:36
;l?
 ?
3add index in alert_rule on org_id, dashboard_uid and panel_id columnsCREATE INDEX `IDX_alert_rule_org_id_dashboard_uid_panel_id` ON `alert_rule` (`org_id`,`d3add index in alert_rule on org_id, namespase_uid and title columnsCREATE UNIQUE INDEX `UQE_alert_rule_org_id_namespace_uid_title` ON `alert_rule` (`org_id`,`3add index in alert_rule on org_id, namespace_uid, group_uid columnsCREATE INDEX `IDX_alert_rule_org_id_namespace_uid_rule_group` ON `alert_rule` (`org_id`,`n3add index in alert_rule on org_id and title columnsCREATE UNIQUE INDEX `UQE_alert_rule_org_id_title` ON `alert_rule` (`org_id`,`title`);2023-12-14 01:03:38?-3create alert_rule tableCREATE TABLE IF NOT EXISTS `alert_rule` (
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `org_id` INTEGER NOT NULL
, `title` TEXT NOT NULL
, `condition` TEXT NOT NULL
, `data` TEXT NOT NULL
, `updated` DATETIME NOT NULL
, `interval_seconds` INTEGER NOT NULL DEFAULT 60
, `version` INTEGER NOT NULL DEFAULT 0
, `uid` TEXT NOT NULL DEFAULT 0
, `namespace_uid` TEXT NOT NULL
, `rule_group` TEXT NOT NULL
, `no_data_state` TEXT NOT NULL DEFAULT 'NoData'
, `exec_err_state` TEXT NOT NULL DEFAULT 'Alerting'
3add index rule_org_id, current_state on alert_instanceCREATE INDEX `IDX_alert_instance_rule_org_id_current_state` ON `alert_instance` (`rule_org_id`,`current3add index rule_org_id, rule_uid, current_state on alert_instanceCREATE INDEX `IDX_alert_instance_rule_org_id_rule_uid_current_state` ON `alert_instance` (`ru3rename def_org_id to rule_org_id in alert_instanceALTER TABLE alert_instance RENAME COLUMN def_org_id TO rule_org_id;2023-12-14 01:03:37




~
 ?
  l

3add column send_alerts_to in ngalert_configurationalter table `ngalert_configuration` ADD COLUMN `send_alerts_to` INTEGER NOT NULL DEFAULT 0 2023-12-14 01:033add index in ngalert_configuration on org_id columnCREATE UNIQUE INDEX `UQE_ngalert_configuration_org_id` ON `ngalert_configuration` (`org_id`);2023-12-14 013create_ngalert_configuration_tableCREATE TABLE IF NOT EXISTS `ngalert_configuration` (
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `org_id` INTEGER NOT NULL
, `alertmanagers` TEXT NULL
, `created_at` INTEGER NOT NULL
, `updated_at` INTEGER NOT NULL
3add configuration_hash column to alert_configurationalter table `alert_configuration` ADD COLUMN `configuration_hash` TEXT NOT NULL DEFAULT 'not-yet-calculat3add index in alert_configuration table on org_id columnCREATE INDEX `IDX_alert_configuration_org_id` ON `alert_configuration` (`org_id`);2023-12-14 01:03:39?3create_alert_configuration_tableCREATE TABLE IF NOT EXISTS `alert_configuration` (UMN `default` INTEGER NOT NULL DEFAULT 0 2023-12-14 01:03:39??M?A    
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `alertmanager_configuration` TEXT NOT NULL
, `configuration_version` TEXT NOT NULL
, `created_at` INTEGER NOT NULL
3add rule_group_idx column to alert_rule_versionalter table `alert_rule_version` ADD COLUMN `rule_group_idx` INTEGER NOT NULL DEFAULT 1 2023-12-14 01:03:39?[?
3add column labels to alert_rule_versionalter table `alert_rule_version` ADD COLUMN `labels` TEXT NULL 2023-12-14 01:03:39?
3add column annotations to alert_rule_versionalter table `alert_rule_version` ADD COLUMN `annotations` TEXT NULL 2023-12-14 01:03:39?
3add index in alert_rule_version table on rule_org_id, rule_namespace_uid and rule_group columnsCREATE INDEX `IDX_alert_rule_version_rule_org_id_rule_namespac3add index in alert_rule_version table on rule_org_id, rule_uid and version columnsCREATE UNIQUE INDEX `UQE_alert_rule_version_rule_org_id_rule_uid_version` O3create alert_rule_version tableCREATE TABLE IF NOT EXISTS `alert_rule_version` (?K?	
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `rule_org_id` INTEGER NOT NULL
, `rule_uid` TEXT NOT NULL DEFAULT 0
, `rule_namespace_uid` TEXT NOT NULL
, `rule_group` TEXT NOT NULL
, `parent_version` INTEGER NOT NULL
, `restored_from` INTEGER NOT NULL
, `version` INTEGER NOT NULL
, `created` DATETIME NOT NULL
, `title` TEXT NOT NULL
, `condition` TEXT NOT NULL
, `data` TEXT NOT NULL
, `interval_seconds` INTEGER NOT NULL
, `no_data_state` TEXT NOT NULL DEFAULT 'NoData'
, `exec_err_state` TEXT NOT NULL DEFAULT 'Alerting'
);2023-12-14 01:03:38

:
 ?r+#%
      ?
       ]
?	??|?:?I3?=indexUQE_alert_configuration_org_idalert_configuration?CREATE UNIQUE INDEX `UQE_alert_configuration_org_id` ON `alert_configuration` (`org_id`)?Q?CC?'tablealert_configuration_historyalert_configuration_history?CREATE TABLE `alert_configuration_history` (
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `org_id` INTEGER NOT NULL DEFAULT 0
, `alertmanager_configuration` TEXT NOT NULL
, `configuration_hash` TEXT NOT NULL DEFAULT 'not-yet-calculated'
, `configuration_version` TEXT NOT NULL
, `created_at` INTEGER NOT NULL
, `default` INTEGER NOT NULL DEFAULT 0
, `last_applied` INTEGER NOT NULL DEFAULT 0)?5?e!?oindexIDX_alert_rule_org_id_dashboard_uid_panel_idalert_rule?CREATE INDEX `IDX_alert_rule_org_id_dashboard_uid_panel_id` ON `alert_rule` (`org_id`,`dashboard_uid`,`panel_id`)?
                                                                   ?11??tablealert_rule_versionalert_rule_version?CREATE TABLE `alert_rule_version` (
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `rule_org_id` INTEGER NOT NULL
, `rule_uid` TEXT NOT NULL DEFAULT 0
, `rule_namespace_uid` TEXT NOT NULL
, `rule_group` TEXT NOT NULL
, `parent_version` INTEGER NOT NULL
, `restored_from` INTEGER NOT NULL
, `version` INTEGER NOT NULL
, `created` DATETIME NOT NULL
, `title` TEXT NOT NULL
, `condition` TEXT NOT NULL
, `data` TEXT NOT NULL
, `interval_seconds` INTEGER NOT NULL
, `no_data_state` TEXT NOT NULL DEFAULT 'NoData'
, `exec_err_state` TEXT NOT NULL DEFAULT 'Alerting'
, `for` INTEGER NOT NULL DEFAULT 0, `annotations` TEXT NULL, `labels` TEXT NULL, `rule_group_idx` INTEGER NOT NULL DEFAULT 1, `is_paused` INTEGER NOT NULL DEFAULT 0)Be!?oindexIDX_alert_rule_org_id_dashboard_uid_panel_idalert_t?#?indexUQE_alert_image_tokenalert_image?CREATE UNIQUE INDEX `UQE_alert_image_token` ON `alert_image` (`token`)?y?##?7tablealert_imagealert_image?CREATE TABLE `alert_image` (
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `token` TEXT NOT NULL
, `path` TEXT NOT NULL
, `url` TEXT NOT NULL
, `created_at` DATETIME NOT NULL
, `expires_at` DATETIME NOT NULL
)?P?o+?indexUQE_provenance_type_record_type_record_key_org_idprovenance_type?CREATE UNIQUE INDEX `UQE_provenance_type_record_type_record_key_org_id` ON `provenance_type` (`record_type`,`record_key`,`org_id`)?r?++?tableprovenance_typeprovenance_type?CREATE TABLE `provenance_type` (
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `org_id` INTEGER NOT NULL
, `record_key` TEXT NOT NULL
, `record_type` TEXT NOT NULL
, `provenance` TEXT NOT NULL
)??M7?EindexUQE_ngalert_configuration_org_idngalert_configuration?CREATE UNIQUE INDEX `UQE_ngalert_configuration_org_id` ON `ngalert_configuration` (`org_id`)?5?77?tablengalert_configurationngalert_configuration?CREATE TABLE `ngalert_configuration` (
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `org_id` INTEGER NOT NULL
, `alertmanagers` TEXT NULL
, `created_at` INTEGER NOT NULL
, `updated_at` INTEGER NOT NULL
, `send_alerts_to` INTEGER NOT NULL DEFAULT 0)?
                                               ?33?;tablealert_configurationalert_configuration?CREATE TABLE `alert_configuration` (
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `alertmanager_configuration` TEXT NOT NULL
, `configuration_version` TEXT NOT NULL
, `created_at` INTEGER NOT NULL
1??indexIDX_alert_rule_version_rule_org_id_rule_namespace_uid_rule_groupalert_rule_version?CREATE INDEX `IDX_alert_rule_version_rule_org_id_rule_namespace_uid_rule_group` ON `alert_rule_version` (`rule_org_id`,`rule_namespace_uid`,`rule_group`)?Y?s1?indexUQE_alert_rule_version_rule_org_id_rule_uid_versionalert_rule@@?=sion?)REATE UNIQUE IM{EX `UQE_alert_rule_version_rule_org_id_rule_uid_version` ON `alert_rule_version` (`rule_org_id`,`rule_uid`,`version`)
	"alertmanager_config": {
		"route": {
			"receiver": "grafana-default-email",
			"group_by": ["grafana_folder", "alertname"]
		},
		"receivers": [{
			"name": "grafana-default-email",
			"grafana_managed_receiver_configs": [{
				"uid": "",
				"name": "email receiver",
				"type": "email",
				"isDefault": true,
				"settings": {
					"addresses": "<example@email.com>"
				}
			}]
		}]
	}
}
v1ezTqe0528a75784033ae7b15c40851d89484
??		
??
  ?
   _

3add unique index library_element org_id_uidCREATE UNIQUE INDEX `UQE_library_element_org_id_uid` ON `library_element` (`org_id`,`uid`);2023-12-14 01:03:40?w??3add index library_element_connection element_id-kind-connection_idCREATE UNIQUE INDEX `UQE_library_element_connection_element_id_kind_connection_id` ON `libr3create library_element_connection table v1CREATE TABLE IF NOT EXISTS `library_element_connection` (
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `element_id` INTEGER NOT NULL
, `kind` INTEGER NOT NULL
, `connection_id` INTEGER NOT NULL
, `created` DATETIME NOT NULL
, `created_by` INTEGER NOT NULL
);2023-12-14 01:03:40?N?u?
3add index library_element org_id-folder_id-name-kindCREATE UNIQUE INDEX `UQE_library_element_org_id_folder_id_name_kind` ON `library_element` (`org_id`,`fold3create library_element table v1CREATE TABLE IF NOT EXISTS `library_element` (
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `org_id` INTEGER NOT NULL
, `folder_id` INTEGER NOT NULL
, `uid` TEXT NOT NULL
, `name` TEXT NOT NULL
, `kind` INTEGER NOT NULL
, `type` TEXT NOT NULL
, `description` TEXT NOT NULL
, `model` TEXT NOT NULL
, `created` DATETIME NOT NULL
, `created_by` INTEGER NOT NULL
, `updated` DATETIME NOT NULL
, `updated_by` INTEGER NOT NULL
, `version` INTEGER NOT NULL
3add last_applied column to alert_configuration_historyalter table `alert_configuration_history` ADD COLUMN `last_applied` INTEGER NOT NULL DEFAULT 0 2023-12-3add unique index on orgID to alert_configurationCREATE UNIQUE INDEX `UQE_alert_configuration_org_id` ON `alert_configuration` (`org_id`);2023-12-14 01:03:40e3create_alert_configuration_history_tableCREATE TABLE IF NOT EXISTS `alert_configuration_history` (12-14 01:03:40?4?]?ow?wqc	
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `org_id` INTEGER NOT NULL DEFAULT 0
, `alertmanager_configuration` TEXT NOT NULL
, `configuration_hash` TEXT NOT NULL DEFAULT 'not-yet-calculated'
, `configuration_version` TEXT NOT NULL
, `created_at` INTEGER NOT NULL
, `default` INTEGER NOT NULL DEFAULT 0
3create alert_image tableCREATE TABLE IF NOT EXISTS `alert_image` (`UQE_alert_image_token` ON `alert_image` (`token`);2023-12-14 01:03:39??=?U	
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `token` TEXT NOT NULL
, `path` TEXT NOT NULL
, `url` TEXT NOT NULL
, `created_at` DATETIME NOT NULL
, `expires_at` DATETIME NOT NULL
);2023-12-14 01:03:39?^?r	?
3add index to uniquify (record_key, record_type, org_id) columnsCREATE UNIQUE INDEX `UQE_provenance_type_record_type_record_key_org_id` ON `provenance_type` (`record_type`,`record_key`,`org_id`);2023-12-14 01:03:39?
3create provenance_type tableCREATE TABLE IF NOT EXISTS `provenance_type` (
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `org_id` INTEGER NOT NULL
, `record_key` TEXT NOT NULL
, `record_type` TEXT NOT NULL
, `provenance` TEXT NOT NULL
);2023-12-14 01:03:39

;;?B
	?)M	{
	"alertmanager_config": {
		"route": {
			"receiver": "grafana-default-email",
			"group_by": ["grafana_folder", "alertname"]
		},
		"receivers": [{
			"name": "grafana-default-email",
			"grafana_managed_receiver_configs": [{
				"uid": "",
				"name": "email receiver",
				"type": "email",
				"isDefault": true,
				"settings": {
					"addresses": "<example@email.com>"
				}
			}]
		}]
	}
}
e0528a75784033ae7b15c40851d89484v1ezTqezT?

I;




tableteam_roleteam_role?CREATE TABLE `team_role` (ATE INDEX `IDX_team_role_org_id` ON `team_role` (`org_id`)?`?/?
`id` INTEG?5?indexUQE_role_org_id_namerole?CREATE UNIQUE INDEX `UQE_role_org_id_name` ON `role` (`org_id`,`name`)S?,+sindexIDX_role_org_idrole?CREATE INDEX `IDX_role_org_id` ON `role` (`org_id`)?p?+?Atablerolerole?CREATE TABLE `role` (
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `name` TEXT NOT NULL
, `description` TEXT NULL
, `version` INTEGER NOT NULL
, `org_id` INTEGER NOT NULL
, `uid` TEXT NOT NULL
, `created` DATETIME NOT NULL
, `updated` DATETIME NOT NULL
, `display_name` TEXT NULL, `group_name` TEXT NULL, `hidden` INTEGER NOT NULL DEFAULT 0)??I3?=indexUQE_alert_configuration_org_idalert_configuration?CREATE UNIQUE INDEX `UQE_alert_configuration_org_id` ON `alert_configuration` (`org_id`)?!?*S!?YindexUQE_permission_role_id_action_scopepermission?CREATE UNIQUE INDEX `UQE_permission_role_id_action_scope` ON `permission` (`role_id`,`action`,`scope`)o?)9!?indexIDX_permission_role_idpermission?CREATE INDEX `IDX_permission_role_id` ON `permission` (`role_id`)?g?(!!?tablepermissionpermission?CREATE TABLE `permission` (
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `role_id` INTEGER NOT NULL
, `action` TEXT NOT NULL
, `scope` TEXT NOT NULL
, `created` DATETIME NOT NULL
, `updated` DATETIME NOT NULL
, `kind` TEXT NOT NULL DEFAULT '', `attribute` TEXT NOT NULL DEFAULT '', `identifier` TEXT NOT NULL DEFAULT '')??'O?QindexUQE_kv_store_org_id_namespace_keykv_store?CREATE UNIQUE INDEX `UQE_kv_store_org_id_namespace_key` ON `kv_store` (`org_id`,`namespace`,`key`)?
                                                                                                         ?&?gtablekv_storekv_store?CREATE TABLE `kv_store` (
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `org_id` INTEGER NOT NULL
, `namespace` TEXT NOT NULL
, `key` TEXT NOT NULL
, `value` TEXT NOT NULL
, `created` DATETIME NOT NULL
, `updated` DATETIME NOT NULL
)??%_tablesecretssecrets?CREATE TABLE `secrets` (
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `org_id` INTEGER NOT NULL
, `namespace` TEXT NOT NULL
, `type` TEXT NOT NULL
, `value` TEXT NULL
, `created` DATETIME NOT NULL
, `updated` DATETIME NOT NULL
)2?$Eindexsqlite_autoindex_data_keys_1data_keys??+?#?#tabledata_keysdata_keys?CREATE TABLE `data_keys` (
"name" TEXT PRIMARY KEY NOT NULL
, `active` INTEGER NOT NULL
, `scope` TEXT NOT NULL
, `provider` TEXT NOT NULL
, `encrypted_data` BLOB NOT NULL
, `created` DATETIME NOT NULL
, `updated` DATETIME NOT NULL
, "label" TEXT NOT NULL DEFAULT '')??"I+?AindexUQE_library_element_org_id_uidlibrary_element?CREATE UNIQUE INDEX `UQE_library_element_org_id_uid` ON `library_element` (`org_id`,`uid`)?}??A?=indexUQE_library_element_connection_element_id_kind_connection_idlibrary_element_connection?CREATE UNIQUE INDEX `UQE_library_element_connection_element_id_kind_connection_id` ON `library_element_connection` (`element_id`,`kind`,`connection_id`)?:? AA?}tablelibrary_element_connectionlibrary_element_connection?CREATE TABLE `library_element_connection` (
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `element_id` INTEGER NOT NULL
, `kind` INTEGER NOT NULL
, `connection_id` INTEGER NOT NULL
, `created` DATETIME NOT NULL
, `created_by` INTEGER NOT NULL
)?I?i+?	indexUQE_library_element_org_id_folder_id_name_kindlibrary_element?CREATE UNIQUE INDEX `UQE_library_element_org_id_folder_id_name_kind` ON `library_element` (`org_id`,`folder_id`,`name`,`kind`)?f?++?tablelibrary_elementlibrary_element?CREATE TABLE `library_element` (
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `org_id` INTEGER NOT NULL
, `folder_id` INTEGER NOT NULL
, `uid` TEXT NOT NULL
, `name` TEXT NOT NULL
, `kind` INTEGER NOT NULL
, `type` TEXT NOT NULL
, `description` TEXT NOT NULL
, `model` TEXT NOT NULL
, `created` DATETIME NOT NULL
, `created_by` INTEGER NOT NULL
, `updated` DATETIME NOT NULL
, `updated_by` INTEGER NOT NULL
, `version` INTEGER NOT NULL
)

5?
 ?
  R
   ?
    a
.	?	?d?w
3add unique index team_role_org_id_team_id_role_idCREATE UNIQUE INDEX `UQE_team_role_org_id_team_id_role_id` ON `team_role` (`org_id`,`team_id`,`role_id`);2023create team role tableCREATE TABLE IF NOT EXISTS `team_role` (ON `team_role` (`org_id`);2023-12-14 01:03:42?9?+	
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `org_id` INTEGER NOT NULL
, `team_id` INTEGER NOT NULL
, `role_id` INTEGER NOT NULL
, `created` DATETIME NOT NULL
3create role tableCREATE TABLE IF NOT EXISTS `role` ( `display_name` TEXT NULL 2023-12-14 01:03:41?>/?1);2023-12-14 01:03:42c?7u	
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `name` TEXT NOT NULL
, `description` TEXT NULL
, `version` INTEGER NOT NULL
, `org_id` INTEGER NOT NULL
, `uid` TEXT NOT NULL
, `created` DATETIME NOT NULL
, `updated` DATETIME NOT NULL
3add unique index role_id_action_scopeCREATE UNIQUE INDEX `UQE_permission_role_id_action_scope` ON `permission` (`role_id`,`action`,`scope`);2023-12-14 01:03:3create permission tableCREATE TABLE IF NOT EXISTS `permission` (role_id` ON `permission` (`role_id`);2023-12-14 01:03:41?;?Y	
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `role_id` INTEGER NOT NULL
, `action` TEXT NOT NULL
, `scope` TEXT NOT NULL
, `created` DATETIME NOT NULL
, `updated` DATETIME NOT NULL
3update dashboard_uid and panel_id from existing annotationsset dashboard_uid and panel_id migration2023-12-14 01:03:41?%?
3add index kv_store.org_id-namespace-keyCREATE UNIQUE INDEX `UQE_kv_store_org_id_namespace_key` ON `kv_store` (`org_id`,`namespace`,`key`);2023-12-14 01:03:41?/?
3create kv_store table v1CREATE TABLE IF NOT EXISTS `kv_store` (
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `org_id` INTEGER NOT NULL
, `namespace` TEXT NOT NULL
, `key` TEXT NOT NULL
, `value` TEXT NOT NULL
, `created` DATETIME NOT NULL
, `updated` DATETIME NOT NULL
);2023-12-14 01:03:41u?
3create secrets tableCREATE TABLE IF NOT EXISTS `secrets` (RENAME COLUMN `name` TO `id`2023-12-14 01:03:40?'5?}:03:40p?Qu{	
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `org_id` INTEGER NOT NULL
, `namespace` TEXT NOT NULL
, `type` TEXT NOT NULL
, `value` TEXT NULL
, `created` DATETIME NOT NULL
, `updated` DATETIME NOT NULL
3create data_keys tableCREATE TABLE IF NOT EXISTS `data_keys` (
`name` TEXT PRIMARY KEY NOT NULL
, `active` INTEGER NOT NULL
, `scope` TEXT NOT NULL
, `provider` TEXT NOT NULL
, `encrypted_data` BLOB NOT NULL
, `created` DATETIME NOT NULL
, `updated` DATETIME NOT NULL
?;2023-w?J?4 01:?3:40   ??	wk    -53Sinfra.usagestatslast_sent2023-12-22T01:03:58Z2023-12-15 01:03:572023-12-22 01:03:58.253234084+00:-%U33infra.usagesta33alertmanagersilences2023-12-14 01:18:452023-12-14 01:18:4/%533plugin.publickeyslast_updated2023-12-14T01:03:58Z2023-12-14 01:03:582023-12-14 01:03:58?    /5?33plugin.publickeyskey-7e4d0c6a708866e7-----BEGIN PGP PUBLIC KEY BLOCK-----
Version: OpenPGP.js v4.10.1
Comment: https://openpgpjs.org

xpMEXpTXXxMFK4EEACMEIwQBiOUQhvGbDLvndE0fEXaR0908wXzPGFpf0P0Z
HJ06tsq+0higIYHp7WTNJVEZtcwoYLcPRGaa9OQqbUU63BEyZdgAkPTz3RFd
5+TkDWZizDcaVFhzbDd500yTwexrpIrdInwC/jrgs7Zy/15h8KA59XXUkdmT
YB6TR+OA9RKME+dCJozNGUdyYWZhbmEgPGVuZ0BncmFmYW5hLmNvbT7CvAQQ
EwoAIAUCXpTXXwYLCQcIAwIEFQgKAgQWAgEAAhkBAhsDAh4BAAoJEH5NDGpw
iGbnaWoCCQGQ3SQnCkRWrG6XrMkXOKfDTX2ow9fuoErN46BeKmLM4f1EkDZQ
Tpq3SE8+My8B5BIH3SOcBeKzi3S57JHGBdFA+wIJAYWMrJNIvw8GeXne+oUo
NzzACdvfqXAZEp/HFMQhCKfEoWGJE8d2YmwY2+3GufVRTI5lQnZOHLE8L/Vc
1S5MXESjzpcEXpTXXxIFK4EEACMEIwQBtHX/SD5Qm3v4V92qpaIZQgtTX0sT
cFPjYWAHqsQ1iENrYN/vg1wU3ADlYATvydOQYvkTyT/tbDvx2Fse8PL84MQA
YKKQ6AJ3gLVvmeouZdU03YoV4MYaT8KbnJUkZQZkqdz2riOlySNI9CG3oYmv
omjUAtzgAgnCcurfGLZkkMxlmY8DAQoJwqQEGBMKAAkFAl6U118CGwwACgkQ
fk0ManCIZuc0jAIJAVw2xdLr4ZQqPUhubrUyFcqlWoW8dQoQagwO8s8ubmby
KuLA9FWJkfuuRQr+O9gHkDVCez3aism7zmJBqIOi38aNAgjJ3bo6leSS2jR/
x5NqiKVi83tiXDPncDQYPymOnMhW0l7CVA7wj75HrFvvlRI/4MArlbsZ2tBn
N1c5v9v/4h6qeA==
=DNbR
-----END PGP PUBLIC KEY BLOCK-----
2023-12-14 01:03:582023-12-14 01:03:5!7!33datasourcesecretMigrationStatuscompatible2023-12-14 01:03:582023-12-14 01:03:5/3Sngalert.migrationmigratedtrue2023-12-14 01:03:452023-12-14 01:03:57.889511397+00:00f       /K33ngalert.migrationstateKey{"orgId":1,"createdFolders":[]}2023-12-14 01:03:572023-12-14 01:03:5G   %33alertmanagernotifications2023-12-14 01:18:452023-12-14 01:18:45
	?????oK+-infra.usagestatslast_sent	-%infra.usagestatsanonymous_id  %alertmanagersilences	%'alertmanagernotifications/%plugin.publickeyslast_updated/5plugin.publickeyskey-7e4d0c6a708866e7!7datasourcesecretMigrationStatus	/ngalert.migrationstateKe/	ngalert.migrationmigrated






?0??:
.
 ?

?	?	>?@?????8C??9#?indexIDX_correlation_org_idcorrelation?CREATE INDEX `IDX_correlation_org_id` ON `correlation` (`org_id`)?X##?mtablecorrelationcorrelation?CREATE TABLE `correlation` (
`uid` TEXT NOT NULL
, `org_id` INTEGER NOT NULL DEFAULT 0
, `source_uid` TEXT NOT NULL
, `target_uid` TEXT NULL
, `label` TEXT NOT NULL
, `description` TEXT NOT NULL
, `config` TEXT NULL
, `provisioned` INTEGER NOT NULL DEFAULT 0, PRIMARY KEY ( `uid`,`org_id`,`source_uid` ))?e?B11?stablequery_history_starquery_history_star?CREATE TABLE `query_history_star` (
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `query_uid` TEXT NOT NULL
, `user_id` INTEGER NOT NULL
, `org_id` INTEGER NOT NULL DEFAULT 1)???@''?;tablequery_historyquery_history?CREATE TABLE `query_history` (
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `uid` TEXT NOT NULL
, `org_id` INTEGER NOT NULL
, `datasource_uid` TEXT NOT NULL
, `created_by` INTEGER NOT NULL
, `created_at` INTEGER NOT NULL
, `comment` TEXT NOT NULL
, `queries` TEXT NOT NULL
tableteam_roleteam_role?CREATE TABLE `team_role` (DEX `IDX_team_role_org_id` ON `team_role` (`org_id`)?`?/?
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `org_id` INTEGER NOT NULL
, `team_id` INTEGER NOT NULL
, `role_id` INTEGER NOT NULL
, `created` DATETIME NOT NULL
)'85?indexUQE_role_org_id_namerole?CREATE UNIQUE Il?-5?indexUQE_role_org_id_namerole?CREATE UNIQUE INDEX `UQE_role_org_id_name` ON `role` (`org_id`,`name`)S?,+sindexIDX_role_org_idrole?CREATE INDEX `IDX_role_org_id` ON `role` (`org_id`)?6?C]1?iindexUQE_query_history_star_user_id_query_uidquery_history_star?CREATE UNIQUE INDEX `UQE_query_history_star_user_id_query_uid` ON `query_history_star` (`user_id`,`query_uid`)Q?<%uindexUQE_role_uidrole?CREATE UNIQUE INDEX `UQE_role_uid` ON `role` (`uid`)?&?;U%?]indexUQE_builtin_role_org_id_role_id_rolebuiltin_role?CREATE UNIQUE INDEX `UQE_builtin_role_org_id_role_id_role` ON `builtin_role` (`org_id`,`role_id`,`role`)t?:;%?indexIDX_builtin_role_org_idbuiltin_role?CREATE INDEX `IDX_builtin_role_org_id` ON `builtin_role` (`org_id`)n?97%?
                                                                                                                                                       indexIDX_builtin_role_rolebuiltin_role?CREATE INDEX `IDX_builtin_role_role` ON `builtin_role` (`role`)w?8=%?indexIDX_builtin_role_role_idbuiltin_role?CREATE INDEX `IDX_builtin_role_role_id` ON `builtin_role` (`role_id`)?
?7%%?Utablebuiltin_rolebuiltin_role?CREATE TABLE `builtin_role` (
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `role` TEXT NOT NULL
, `role_id` INTEGER NOT NULL
, `created` DATETIME NOT NULL
, `updated` DATETIME NOT NULL
, `org_id` INTEGER NOT NULL DEFAULT 0)k?67?
                                           indexIDX_user_role_user_iduser_role?CREATE INDEX `IDX_user_role_user_id` ON `user_role` (`user_id`)?#?5U?]indexUQE_user_role_org_id_user_id_role_iduser_role?CREATE UNIQUE INDEX `UQE_user_role_org_id_user_id_role_id` ON `user_role` (`org_id`,`user_id`,`role_id`)h?45?indexIDtableuser_roleuser_role?CREATE TABLE `user_role` (_role_org_id` ON `user_role` (`org_id`)?`?3?
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `org_id` INTEGER NOT NULL
, `user_id` INTEGER NOT NULL
, `role_id` INTEGER NOT NULL
, `created` DATETIME NOT NULL
)k?27?
      indexIDX_team_role_team_idteam_role?CREATE INDEX `IDX_team_role_team_id` ON `team_role` (`team_id`)?#?1U?]indexUQE_team_role_org_id_team_id_role_idteam_role?CREATE UNIQUE INDEX `UQE_team_role_org_id_team_id_role_id` ON `team_role` (`org_id`,`team_id`,`role_id`)?3#?indexS?|?IA#?indexIDX_correlation_source_uidcorrelation?CREATE INDEX `IDX_correlation_source_uid` ON `correlation` (`source_uid`)?J?Aq'?indexIDX_query_history_org_id_created_by_datasource_uidquery_history?CREATE INDEX `IDX_query_history_org_id_created_by_datasource_uid` ON `query_history` (`org_id`,`created_by`,`datasource_uid`)x???!?ndexIDX_permission_identifierpermission?CREATE INDEX `IDX_permission_identifier` ON `permission` (`identifier`)
T??
 N
  ?
   S
?
3add index query_history.org_id-created_by-datasource_uidCREATE INDEX `IDX_query_history_org_id_created_by_datasource_uid` ON `query_history` (`org_id`,`creat3create query_history table v1CREATE TABLE IF NOT EXISTS `query_history` (
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `uid` TEXT NOT NULL
, `org_id` INTEGER NOT NULL
, `datasource_uid` TEXT NOT NULL
, `created_by` INTEGER NOT NULL
, `created_at` INTEGER NOT NULL
, `comment` TEXT NOT NULL
, `queries` TEXT NOT NULL
3add unique index builtin_role_role_nameCREATE UNIQUE INDEX `UQE_seed_assignment_builtin_role_role_name` ON `seed_assignment` (`builtin_role`,`role_name`);2023create seed assignment tableCREATE TABLE IF NOT EXISTS `seed_assignment` (
`builtin_role` TEXT NOT NULL
, `role_name` TEXT NOT NULL
3add unique index builtin_role_org_id_role_id_roleCREATE UNIQUE INDEX `UQE_builtin_role_org_id_role_id_role` ON `builtin_role` (`org_id`,`role_id`,`role`);2023add index builtin_role.org_idCREATE INDEX `IDX_builtin_role_org_id` ON `builtin_role` (`org_id`);2023-12-14 01:03:42?
3create builtin role tableCREATE TABLE IF NOT EXISTS `builtin_role` (` ON `builtin_role` (`role_id`);2023-12-14 01:03:42???) 01:03:42v?C?
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `role` TEXT NOT NULL
, `role_id` INTEGER NOT NULL
, `created` DATETIME NOT NULL
, `updated` DATETIME NOT NULL
3add unique index user_role_org_id_user_id_role_idCREATE UNIQUE INDEX `UQE_user_role_org_id_user_id_role_id` ON `user_role` (`org_id`,`user_id`,`role_id`);2023create user role tableCREATE TABLE IF NOT EXISTS `user_role` (ON `user_role` (`org_id`);2023-12-14 01:03:42??+	
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `org_id` INTEGER NOT NULL
, `user_id` INTEGER NOT NULL
, `role_id` INTEGER NOT NULL
, `created` DATETIME NOT NULL
);2023-12-14 01:03:42










nk
 c
  ?
   e
?
?
3create dashboard public config v1CREATE TABLE IF NOT EXISTS `dashboard_public_config` (uid`2023-12-14 01:03:43???O?board_uid`2023-12-14 01:03:43u?Kke	
`uid` TEXT PRIMARY KEY NOT NULL
, `dashboard_uid` TEXT NOT NULL
, `org_id` INTEGER NOT NULL
, `time_settings` TEXT NOT NULL
, `refresh_rate` INTEGER NOT NULL DEFAULT 30
, `template_variables` TEXT NULL
3create entity_events tableCREATE TABLE IF NOT EXISTS `entity_event` (
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `entity_id` TEXT NOT NULL
, `event_type` TEXT NOT NULL
, `created` INTEGER NOT NULL
3copy correlation v1 to v2INSERT INTO `correlation` (`uid`ion_tmp_qwerty`2023-12-14 01:03:43????1LT 0 2023-12-14 01:03:43b?GCg	
, `source_uid`
, `target_uid`
, `label`
, `description`
, `config`) SELECT `uid`
, `source_uid`
, `target_uid`
, `label`
, `description`
3create correlation v2CREATE TABLE IF NOT EXISTS `correlation` (ion_uid` ON `correlation` (`uid`);2023-12-14 01:03:43?E?7?7-12-14 01:03:43|?W?	
`uid` TEXT NOT NULL
, `org_id` INTEGER NOT NULL DEFAULT 0
, `source_uid` TEXT NOT NULL
, `target_uid` TEXT NULL
, `label` TEXT NOT NULL
, `description` TEXT NOT NULL
, `config` TEXT NULL
3create correlation table v1CREATE TABLE IF NOT EXISTS `correlation` (elation` (`uid`);2023-12-14 01:03:43??C?/3-12-14 01:03:43q?A?3:43k?@a[	
`uid` TEXT NOT NULL
, `source_uid` TEXT NOT NULL
, `target_uid` TEXT NULL
, `label` TEXT NOT NULL
, `description` TEXT NOT NULL
3add index query_history.user_id-query_uidCREATE UNIQUE INDEX `UQE_query_history_star_user_id_query_uid` ON `query_history_star` (`user_id`,`query_uid`);2023-3create query_history_star table v1CREATE TABLE IF NOT EXISTS `query_history_star` (
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `query_uid` TEXT NOT NULL
, `user_id` INTEGER NOT NULL
);2023-12-14 01:03:43

?

?a(???1
       ?
        ?

         X
?	A?V?`???##?Wtableanon_deviceanon_device?CREATE TABLE `anon_device` (
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `client_ip` TEXT NOT NULL
, `created_at` DATETIME NOT NULL
, `device_id` TEXT NOT NULL
, `updated_at` DATETIME NOT NULL
, `user_agent` TEXT NOT NULL
)??_Q?UindexUQE_folder_title_parent_uid_org_idfolder?CREATE UNIQUE INDEX `UQE_folder_title_parent_uid_org_id` ON `folder` (`title`,`parent_uid`,`org_id`)q?^7?indexUQE_folder_uid_org_idfolder?CREATE UNIQUE INDEX `UQE_folder_uid_org_id` ON `folder` (`uid`,`org_id`)?]E?+indexIDX_folder_parent_uid_org_idfolder?CREATE INDEX `IDX_folder_parent_uid_org_id` ON `folder` (`parent_uid`,`org_id`)??\?tablefolderfolder?CREATE TABLE `folder` (
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `uid` TEXT NOT NULL
, `org_id` INTEGER NOT NULL
, `title` TEXT NOT NULL
, `description` TEXT NULL
, `parent_uid` TEXT NULL
, `created` DATETIME NOT NULL
, `updated` DATETIME NOT NULL
)?2?[a+?cindexUQE_seed_assignment_builtin_role_role_nameseed_assignment?CREATE UNIQp?J9#?indexIDX_correlation_org_idcorrelation?CREATE INDEX `IDX_correlation_org_id` ON `correlation` (`org_id`)|?IA#?indexIDX_correlation_source_uidcorrelation?CREATE INDEX `IDX_correlation_source_uid` ON `correlation` (`source_uid`)g?H3#?indexIDX_correlation_uidcorrelation?CREATE INDEX `IDX_correlation_uid` ON `correlation` (`uid`)6?GI#indexsqlite_autoindex_correlation_1correlationтT?F##?mtablecorrelationcorrelation?CREATE TABLE `correlation` (
`uid` TEXT NOT NULL
, `org_id` INTEGER NOT NULL DEFAULT 0
, `source_uid` TEXT NOT NULL
, `target_uid` TEXT NULL
, `label` TEXT NOT NULL
, `description` TEXT NOT NULL
, `config` TEXT NULL
, `provisioned` INTEGER NOT NULL DEFAULT 0, PRIMARY KEY ( `uid`,`org_id`,`source_uid` ))??T?Utablefile_metafile_meta?CREATE TABLE `file_meta` (
`path_hash` TEXT NOT NULL
, `key` TEXT NOT NULL
, `value` TEXT NOT NULL
indexUQE_file_path_hashfile?CREATE UNIQUE INDEX `UQE_file_path_hash` ON `file` (`path_hash`)?r?Q?Etablefilefile?CREATE TABLE `file` ()d?R1?
`path` TEXT NOT NULL
, `path_hash` TEXT NOT NULL
, `parent_folder_path_hash` TEXT NOT NULL
, `contents` BLOB NOT NULL
, `etag` TEXT NOT NULL
, `cache_control` TEXT NOT NULL
, `content_disposition` TEXT NOT NULL
, `updated` DATETIME NOT NULL
, `created` DATETIME NOT NULL
, `size` INTEGER NOT NULL
, `mime_type` TEXT NOT NULL
)?+?P]-?WindexUQE_dashboard_public_config_access_tokendashboard_public?CREATE UNIQUE INDEX `UQE_dashboard_public_config_access_token` ON "dashboard_public" (`access_token`)?>?Om-?mindexIDX_dashboard_public_config_org_id_dashboard_uiddashboard_public?CREATE INDEX `IDX_dashboard_public_config_org_id_dashboard_uid` ON "dashboard_public" (`org_id`,`dashboard_uid`)??NK-?3indexUQE_dashboard_public_config_uiddashboard_public?CREATE UNIQUE INDEX `UQE_dashboard_public_config_uid` ON "dashboard_public" (`uid`)@?MS-indexsqlite_autoindex_dashboard_public_1dashboard_publicׄ<?L--?)tabledashboard_publicdashboard_public?CREATE TABLE "dashboard_public" (
`uid` TEXT PRIMARY KEY NOT NULL
, `dashboard_uid` TEXT NOT NULL
, `org_id` INTEGER NOT NULL
, `time_settings` TEXT NULL
, `template_variables` TEXT NULL
, `access_token` TEXT NOT NULL
, `created_by` INTEGER NOT NULL
, `updated_by` INTEGER NULL
, `created_at` DATETIME NOT NULL
, `updated_at` DATETIME NULL
, `is_enabled` INTEGER NOT NULL DEFAULT 0
, `annotations_enabled` INTEGER NOT NULL DEFAULT 0, `time_selection_enabled` INTEGER NOT NULL DEFAULT 0, `share` TEXT NOT NULL DEFAULT 'public')?K?K%%?Wtableentity_evententity_event?CREATE TABLE `entity_event` (
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `entity_id` TEXT NOT NULL
, `event_type` TEXT NOT NULL
, `created` INTEGER NOT NULL
)

6?
 ?
  !
   ?	?	b??d?3?$?
3create file_meta tableCREATE TABLE IF NOT EXISTS `file_meta` (
`path_hash` TEXT NOT NULL
, `key` TEXT NOT NULL
, `value` TEXT NOT NULL
3file table idx: parent_folder_path_hash fast folder retrievalCREATE INDEX `IDX_file_parent_folder_path_hash` ON `file` (`parent_folder_path_hash`);2023-12-143create file tableCREATE TABLE IF NOT EXISTS `file` (UQE_file_path_hash` ON `file` (`path_hash`);2023-12-14 01:03:44??/?c	
`path` TEXT NOT NULL
, `path_hash` TEXT NOT NULL
, `parent_folder_path_hash` TEXT NOT NULL
, `contents` BLOB NOT NULL
, `etag` TEXT NOT NULL
, `cache_control` TEXT NOT NULL
, `content_disposition` TEXT NOT NULL
, `updated` DATETIME NOT NULL
, `created` DATETIME NOT NULL
, `size` INTEGER NOT NULL
, `mime_type` TEXT NOT NULL
);2023-12-14 01:03:44?
3create index UQE_dashboard_public_config_access_token - v2CREATE UNIQUE INDEX `UQE_dashboard_public_config_access_token` ON `dashboard_public_config` (`acces3create index IDX_dashboard_public_config_org_id_dashboard_uid - v2CREATE INDEX `IDX_dashboard_public_config_org_id_dashboard_uid` ON `dashboard_public_config3create index UQE_dashboard_public_config_uid - v2CREATE UNIQUE INDEX `UQE_dashboard_public_config_uid` ON `dashboard_public_config` (`uid`);2023-12-14 01:03:3Recreate dashboard public config v2CREATE TABLE IF NOT EXISTS `dashboard_public_config` (
`uid` TEXT PRIMARY KEY NOT NULL
, `dashboard_uid` TEXT NOT NULL
, `org_id` INTEGER NOT NULL
, `time_settings` TEXT NULL
, `template_variables` TEXT NULL
, `access_token` TEXT NOT NULL
, `created_by` INTEGER NOT NULL
, `updated_by` INTEGER NULL
, `created_at` DATETIME NOT NULL
, `updated_at` DATETIME NULL
, `is_enabled` INTEGER NOT NULL DEFAULT 0
3create index IDX_dashboard_public_config_org_id_dashboard_uid - v1CREATE INDEX `IDX_dashboard_public_config_org_id_dashboard_uid` ON `dashboard_public_config3create index UQE_dashboard_public_config_uid - v1CREATE UNIQUE INDEX `UQE_dashboard_public_config_uid` ON `dashboard_public_config` (`uid`);2023-12-14 01:03:3recreate dashboard public config v1CREATE TABLE IF NOT EXISTS `dashboard_public_config` (
`uid` TEXT PRIMARY KEY NOT NULL
, `dashboard_uid` TEXT NOT NULL
, `org_id` INTEGER NOT NULL
, `time_settings` TEXT NOT NULL
, `refresh_rate` INTEGER NOT NULL DEFAULT 30
, `template_variables` TEXT NULL
);2023-12-14 01:03:43
???




x.??4
?
 9
  ?
   ?

3Add unique index for title, parent_uid, and org_idCREATE UNIQUE INDEX `UQE_folder_title_parent_uid_org_id` ON `folder` (`title`,`parent_uid`,`org_id`);2023-13Add unique index for folder.title and folder.parent_uidCREATE UNIQUE INDEX `UQE_folder_title_parent_uid` ON `folder` (`title`,`parent_uid`);2023-12-14 01:03:3create folder tableCREATE TABLE IF NOT EXISTS `folder` (uid_org_id` ON `folder` (`parent_uid`,`org_id`);2023-12-14 01:03:44???3?/-14 01:03:44??=?-	
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `uid` TEXT NOT NULL
, `org_id` INTEGER NOT NULL
, `title` TEXT NOT NULL
, `description` TEXT NULL
, `parent_uid` TEXT NULL
, `created` DATETIME NOT NULL
, `updated` DATETIME NOT NULL
3add unique index builtin_role_action_scopeCREATE UNIQUE INDEX `UQE_seed_assignment_builtin_role_action_scope` ON `seed_assignment` (`builtin_role`,`action`,`3add unique index builtin_role_name backCREATE UNIQUE INDEX `UQE_seed_assignment_builtin_role_role_name` ON `seed_assignment` (`builtin_role`,`role_name`);2023update seed_assignment role_name column to nullableALTER TABLE seed_assignment ADD COLUMN tmp_role_name VARCHAR(190) DEFAULT NULL;
UPDATE seed_assignment SET tmp_role_name = role_name;
ALTER TABLE seed_assignment DROP COLUMN role_name;
3file table idx: path keyCREATE UNIQUE INDEX `UQE_file_meta_path_hash_key` ON `file_meta` (`path_hash`,`key`);2023-12-14 01:03:44U] 01:03:44y?S?	
??



??A
 ?

  ?
3create signing_key tableCREATE TABLE IF NOT EXISTS `signing_key` (g_key_key_id` ON `signing_key` (`key_id`);2023-12-14 01:03:45?=?Y	
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `key_id` TEXT NOT NULL
, `private_key` TEXT NOT NULL
, `added_at` DATETIME NOT NULL
, `expires_at` DATETIME NULL
, `alg` TEXT NOT NULL
3create anon_device tableCREATE TABLE IF NOT EXISTS `anon_device` (n_device_device_id` ON `anon_device` (`device_id`);2023-12-14 01:03:45?'=?u	
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `client_ip` TEXT NOT NULL
, `created_at` DATETIME NOT NULL
, `device_id` TEXT NOT NULL
, `updated_at` DATETIME NOT NULL
, `user_agent` TEXT NOT NULL
);2023-12-14 01:03:45
sv?3
 ?
grafana-84bc59ff4f-vxgqz:/usr/share/grafana$ cat /var/lib/grafana/grafana.db
SQLite format 3@  ????._
                        ??????????????
                                      ^
                                       ?n?R?s=?indexIDX_dashboard_account_iddashboardCREATE INDEX `IDX_dashboard_account_id` ON `dashboard` (`account_id`)?*?#tabledashboarddashboardCREATE TABLE `dashboard` (
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `version` INTEGER NOT NULL
, `slug` TEXT NOT NULL
, `title` TEXT NOT NULL
, `data` TEXT NOT NULL
, `account_id` INTEGER NOT NULL
, `created` DATETIME NOT NULL
, `updated` DATETIME NOT NULL
)f5?indexIDX_org_user_user_idorg_userCREATE INDEX `IDX_org_user_user_id` ON `org_user` (`user_id`)?C?5indexUQE_org_user_org_id_user_idorg_userCREATE UNIQUE INDEX `UQE_org_user_org_id_user_id` ON `org_user` (`org_id`,`user_id`)c3?indexIDX_org_user_org_idorg_userCREATE INDEX `IDX_org_user_org_id` ON `org_user` (`org_id`)?g?5tableorgorgCREATE TABLE `org` (
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `version` INTEGER NOT NULL
, `name` TEXT NOT NULL
, `address1` TEXT NULL
, `address2` TEXT NULL
, `city` TEXT NULL
, `state` TEXT NULL
, `zip_code` TEXT NULL
, `country` TEXT NULL
, `billing_email` TEXT NULL
, `created` DATETIME NOT NULL
, `updated` DATETIME NOT NULL
5?indexIDX_temp_user_statustemp_userCREATE INDEX `IDX_temp_user_status` ON `temp_user` (`status`)`
                                                                                                  1indexIDX_temp_user_codetemp_user	CREATE INDEX `IDX_temp_user_code` ON `temp_user` (`code`)g
                                    5?indexIDX_temp_user_org_idtemp_userCREATE INDEX `IDX_temp_user_org_id` ON `temp_user` (`org_id`)?^	?
                                                                                                                                         tabletemp_usertemp_user
  CREATE TABLE `temp_user` (
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `org_id` INTEGER NOT NULL
, `version` INTEGER NOT NULL
, `email` TEXT NOT NULL
, `name` TEXT NULL
, `role` TEXT NULL
, `code` TEXT NOT NULL
, `status` TEXT NOT NULL
, `invited_by_user_id` INTEGER NULL
, `email_sent` INTEGER NOT NULL
, `email_sent_on` DATETIME NULL
, `remote_addr` TEXT NULL
, `created` INTEGER NOT NULL DEFAULT 0
, `updated` INTEGER NOT NULL DEFAULT 0
)?R?tableuseruserCREATE TABLE `user` (
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `version` INTEGER NOT NULL
, `login` TEXT NOT NULL
, `email` TEXT NOT NULL
, `name` TEXT NULL
, `password` TEXT NULL
, `salt` TEXT NULL
, `rands` TEXT NULL
, `company` TEXT NULL
, `org_id` INTEGER NOT NULL
, `is_admin` INTEGER NOT NULL
, `email_verified` INTEGER NULL
, `theme` TEXT NULL
, `created` DATETIME NOT NULL
, `updated` DATETIME NOT NULL
, `help_flags1` INTEGER NOT NULL DEFAULT 0, `last_seen_at` DATETIME NULL, `is_disabled` INTEGER NOT NULL DEFAULT 0, is_service_account BOOLEAN DEFAULT 0)V)}indexUQE_user_emailuserCREATE UNIQUE INDEX `UQE_user_email` ON `user` (`email`)V)}indexUQE_user_loginuserCREATE UNIQUE INDEX `UQE_user_login` ON `user` (`login`)
 {O%uindexUQE_org_nameorgCREATE UNIQUE INDEX `UQE_org_name` ON `org` (`name`)d
CREATE INDEX `IDX_temp_user_email` ON `temp_user` (`email`)d5?
                                                              indexIDX_user_login_emailuserCREATE INDEX `IDX_user_login_email` ON `user` (`login`,`email`)??t?;tableorg_userorg_userCREATE TABLE `org_user` (
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `org_id` INTEGER NOT NULL
, `user_id` INTEGER NOT NULL
, `role` TEXT NOT NULL
, `created` DATETIME NOT NULL
, `updated` DATETIME NOT NULL
)?G?=indexUQE_star_user_id_dashboard_idstarCREATE UNIQUE INDEX `UQE_star_user_id_dashboard_id` ON `star` (`user_id`,`dashboard_id`)?tablestarstaCREATE TABLE `star` (
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `user_id` INTEGER NOT NULL
, `dashboard_id` INTEGER NOT NULL
)P++Ytablesqlite_sequencesqlite_sequenceCREATE TABLE sqlite_sequence(name,seq)?''?Atablemigration_logmigration_logCREATE TABLE `migration_log` (
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `migration_id` TEXT NOT NULL
, `sql` TEXT NOT NULL
3create temp user table v1-7CREATE TABLE IF NOT EXISTS `temp_user` (???C?	
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `org_id` INTEGER NOT NULL
, `version` INTEGER NOT NULL
, `email` TEXT NOT NULL
, `name` TEXT NULL
, `role` TEXT NULL
, `code` TEXT NOT NULL
, `status` TEXT NOT NULL
, `invited_by_user_id` INTEGER NULL
, `email_sent` INTEGER NOT NULL
, `email_sent_on` DATETIME NULL
, `remote_addr` TEXT NULL
, `created` DATETIME NOT NULL
, `updated` DATETIME NOT NULL
3Update is_service_account column to nullableALTER TABLE user ADD COLUMN tmp_service_account BOOLEAN DEFAULT 0;
UPDATE user SET tmp_service_account = is_service_account;
ALTER TABLE user DROP COLUMN is_service_account;
3Add column help_flags1 to user tablealter table `user` ADD COLUMN `help_flags1` INTEGER NOT NULL DEFAULT 0 2023-12-14 01:03:19N1:03:20K?
3Drop old table user_v1DROP TABLE IF EXISTS `user_v1`2023-12-14 01:03:19?v                                                      9I	
3copy data_source v1 to v2INSERT INTO `user` (`version`                  ??	
, `name`
, `is_admin`
, `email`
, `password`
, `salt`
, `rands`
, `login`
, `org_id`
, `updated`
, `id`
, `company`
, `created`) SELECT `version`
, `name`
, `is_admin`
, `email`
, `password`
, `salt`
, `rands`
, `login`
, `account_id`
, `updated`
, `id`
, `company`
, `created` FROM `user_v1`2023-12-14 01:03:19s
3create user table v2CREATE TABLE IF NOT EXISTS `user` (E_user_login` ON `user` (`login`);2023-12-14 01:03:195?uM	
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `version` INTEGER NOT NULL
, `login` TEXT NOT NULL
, `email` TEXT NOT NULL
, `name` TEXT NULL
, `password` TEXT NULL
, `salt` TEXT NULL
, `rands` TEXT NULL
, `company` TEXT NULL
, `org_id` INTEGER NOT NULL
, `is_admin` INTEGER NOT NULL
, `email_verified` INTEGER NULL
, `theme` TEXT NULL
, `created` DATETIME NOT NULL
, `updated` DATETIME NOT NULL
3create user tableCREATE TABLE IF NOT EXISTS `user` (user_login` ON `user` (`login`);2023-12-14 01:03:19?/?     
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `version` INTEGER NOT NULL
, `login` TEXT NOT NULL
, `email` TEXT NOT NULL
, `name` TEXT NULL
, `password` TEXT NULL
, `salt` TEXT NULL
, `rands` TEXT NULL
, `company` TEXT NULL
, `account_id` INTEGER NOT NULL
, `is_admin` INTEGER NOT NULL
, `created` DATETIME NOT NULL
, `updated` DATETIME NOT NULL
3create migration_log tableCREATE TABLE IF NOT EXISTS `migration_log` (
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `migration_id` TEXT NOT NULL
,?~؃a̓M??6??????p??]??H|?3m?`?Z?sP?ZE?B:?-1?*{!_H
                                                -
????????zdQ?+?	????
                    'login_attempt

kv_store	#server_lockC	alert_configuration_history3	alert_configuration    folder
        kv_store                                                                             	org_user	org?
                seed_assignment	login_attempt
'dashboard_acl	dashboard_versioannotation_tag'migration_log
pi_keydashboard_provisioning
                           dashboard
                                   temp_user	useralert_rule_tag
??+	adminadmin@localhost
adminadmin@localhost5719a164a0381efb3760fcfa207c36d2a6bc81f0e6e01a4b36b41ab6fc1f400efc13a9cf6e05e11b6feca8a47d0394425f20Y0iSnIYZAz4rCBAFBX7B2023-12-14 01:03:452023-12-14 01:03:452013-12-14 01:03:45
??+	admin@localhost
,?
 ?
  L
   ?
    ?
3create temp user table v1-7CREATE TABLE IF NOT EXISTS `temp_user` (
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `org_id` INTEGER NOT NULL
, `version` INTEGER NOT NULL
, `email` TEXT NOT NULL
, `name` TEXT NULL
, `role` TEXT NULL
, `code` TEXT NOT NULL
, `status` TEXT NOT NULL
, `invited_by_user_id` INTEGER NULL
, `email_sent` INTEGER NOT NULL
, `email_sent_on` DATETIME NULL
, `remote_addr` TEXT NULL
, `created` DATETIME NOT NULL
, `updated` DATETIME NOT NULL
3Update is_service_account column to nullableALTER TABLE user ADD COLUMN tmp_service_account BOOLEAN DEFAULT 0;
UPDATE user SET tmp_service_account = is_service_account;
ALTER TABLE user DROP COLUMN is_service_account;
3Add column help_flags1 to user tablealter table `user` ADD COLUMN `help_flags1` INTEGER NOT NULL DEFAULT 0 2023-12-14 01:03:19N1:03:20K?
3Drop old table user_v1DROP TABLE IF EXISTS `user_v1`2023-12-14 01:03:19?v                                                      9I	
3copy data_source v1 to v2INSERT INTO `user` (`version`                  ??	
, `name`
, `is_admin`
, `email`
, `password`
, `salt`
, `rands`
, `login`
, `org_id`
, `updated`
, `id`
, `company`
, `created`) SELECT `version`
, `name`
, `is_admin`
, `email`
, `password`
, `salt`
, `rands`
, `login`
, `account_id`
, `updated`
, `id`
, `company`
, `created` FROM `user_v1`2023-12-14 01:03:19s
3create user table v2CREATE TABLE IF NOT EXISTS `user` (E_user_login` ON `user` (`login`);2023-12-14 01:03:195?uM	
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `version` INTEGER NOT NULL
, `login` TEXT NOT NULL
, `email` TEXT NOT NULL
, `name` TEXT NULL
, `password` TEXT NULL
, `salt` TEXT NULL
, `rands` TEXT NULL
, `company` TEXT NULL
, `org_id` INTEGER NOT NULL
, `is_admin` INTEGER NOT NULL
, `email_verified` INTEGER NULL
, `theme` TEXT NULL
, `created` DATETIME NOT NULL
, `updated` DATETIME NOT NULL
3create user tableCREATE TABLE IF NOT EXISTS `user` (user_login` ON `user` (`login`);2023-12-14 01:03:19?/?     
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `version` INTEGER NOT NULL
, `login` TEXT NOT NULL
, `email` TEXT NOT NULL
, `name` TEXT NULL
, `password` TEXT NULL
, `salt` TEXT NULL
, `rands` TEXT NULL
, `company` TEXT NULL
, `account_id` INTEGER NOT NULL
, `is_admin` INTEGER NOT NULL
, `created` DATETIME NOT NULL
, `updated` DATETIME NOT NULL
3create migration_log tableCREATE TABLE IF NOT EXISTS `migration_log` (
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `migration_id` TEXT NOT NULL
, `sql` TEXT NOT NULL
, `success` INTEGER NOT NULL
, `error` TEXT NOT NULL
, `timestamp` DATETIME NOT NULL
S??023-12-14 01:03:19
 ?
  ?
   4
3create org_user table v1CREATE TABLE IF NOT EXISTS `org_user` (_org_id` ON `org_user` (`org_id`);2023-12-14 01:03:22?=?Y	
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `org_id` INTEGER NOT NULL
, `user_id` INTEGER NOT NULL
, `role` TEXT NOT NULL
, `created` DATETIME NOT NULL
, `updated` DATETIME NOT NULL
3create org table v1CREATE TABLE IF NOT EXISTS `org` (E_org_name` ON `org` (`name`);2023-12-14 01:03:22?3?S	
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `version` INTEGER NOT NULL
, `name` TEXT NOT NULL
, `address1` TEXT NULL
, `address2` TEXT NULL
, `city` TEXT NULL
, `state` TEXT NULL
, `zip_code` TEXT NULL
, `country` TEXT NULL
, `billing_email` TEXT NULL
, `created` DATETIME NOT NULL
, `updated` DATETIME NOT NULL
3create star tableCREATE TABLE IF NOT EXISTS `star` (QUE INDEX `UQE_star_user_id_dashboard_id` ON `star` (`user_id`,`dashboard_id`);2023-12-14 01:03:22?A/?7	
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `user_id` INTEGER NOT NULL
, `dashboard_id` INTEGER NOT NULL
3copy temp_user v1 to v2INSERT INTO `temp_user` (`version`tmp_qwerty`2023-12-14 01:03:21?;?U1:03:22^&?c	
, `name`
, `email_sent`
, `email_sent_on`
, `code`
, `status`
, `invited_by_user_id`
, `remote_addr`
, `id`
, `org_id`
, `email`
, `role`) SELECT `version`
, `name`
, `email_sent`
, `email_sent_on`
, `code`
, `status`
, `invited_by_user_id`
, `remote_addr`
, `id`
, `org_id`
, `email`
3create temp_user v2CREATE TABLE IF NOT EXISTS `temp_user` (_user_email` ON `temp_user` (`email`);2023-12-14 01:03:21?|3?)?	
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `org_id` INTEGER NOT NULL
, `version` INTEGER NOT NULL
, `email` TEXT NOT NULL
, `name` TEXT NULL
, `role` TEXT NULL
, `code` TEXT NOT NULL
, `status` TEXT NOT NULL
, `invited_by_user_id` INTEGER NULL
, `email_sent` INTEGER NOT NULL
, `email_sent_on` DATETIME NULL
, `remote_addr` TEXT NULL
, `created` INTEGER NOT NULL DEFAULT 0
, `updated` INTEGER NOT NULL DEFAULT 0
3create index IDX_temp_user_email - v1-7CREATE INDEX `IDX_temp_user_email` ON `temp_user` (`email`);2023-12-14 01:03:20:20[?:21_UO	



33Main Org.2023-12-14 01:03:452023-12-14 01:03:45
??
??2     Main Org33Admin2023-12-14 01:03:452023-12-14 01:03:45
??		
???T    		
 }
  ?
   [
3drop table dashboard_v1DROP TABLE IF EXISTS `dashboard_v1`2023-12-14 01:03:23?ated_by` INTEGER NULL 2023-12-14 01:03:23H?W23-12-14 01:03:24tDO24?U?5	
3copy dashboard v1 to v2INSERT INTO `dashboard` (`data`
, `org_id`
, `created`
, `updated`
, `id`
, `version`
, `slug`
, `title`) SELECT `data`
, `account_id`
, `created`
, `updated`
, `id`
, `version`
, `slug`
3create dashboard v2CREATE TABLE IF NOT EXISTS `dashboard` (hboard_org_id` ON `dashboard` (`org_id`);2023-12-14 01:03:23?D3?92023-12-14 01:03:23Y?		
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `version` INTEGER NOT NULL
, `slug` TEXT NOT NULL
, `title` TEXT NOT NULL
, `data` TEXT NOT NULL
, `org_id` INTEGER NOT NULL
, `created` DATETIME NOT NULL
, `updated` DATETIME NOT NULL
3add unique index dashboard_tag.dasboard_id_termCREATE UNIQUE INDEX `UQE_dashboard_tag_dashboard_id_term` ON `dashboard_tag` (`dashboard_id`,`term`);2023-12-13create dashboard_tag tableCREATE TABLE IF NOT EXISTS `dashboard_tag` (
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `dashboard_id` INTEGER NOT NULL
, `term` TEXT NOT NULL
3create dashboard tableCREATE TABLE IF NOT EXISTS `dashboard` (unt_id` ON `dashboard` (`account_id`);2023-12-14 01:03:23?K9?Aslug`);2023-12-14 01:03:23I?	
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `version` INTEGER NOT NULL
, `slug` TEXT NOT NULL
, `title` TEXT NOT NULL
, `data` TEXT NOT NULL
, `account_id` INTEGER NOT NULL
, `created` DATETIME NOT NULL
, `updated` DATETIME NOT NULL
3create index UQE_org_user_org_id_user_id - v1CREATE UNIQUE INDEX `UQE_org_user_org_id_user_id` ON `org_user` (`org_id`,`user_id`);2023-12-14 01:03:22
??		



W?R
?
?
 q
  ?=
??
  ^
   ?n???O
         ?
          W?G?=indexUQE_dashboard_account_id_slugdashboardCREATE UNIQUE INDEX `UQE_dashboard_account_id_slug` ON `dashboard` (`account_id`,`slug`)s=?indexIDX_dashboard_account_iddashboardCREATE INDEX `IDX_dashboard_account_id` ON `dashboard` (`account_id`)?*?#tabledashboarddashboardCREATE TABLE `dashboard` (
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `version` I
             W?''?tabledashboard_tagdashboard_tagCREATE TABLE `dashboard_tag` (
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `dashboard_id` INTEGER NOT NULL
, `term` TEXT NOT NULL
)f5?indexIDX_org_user_user_idorg_userCREATE INDEX `IDX_org_user_user_id` ON `org_user` (`user_id`)?C?5indexUQE_org_user_org_id_user_idorg_userCREATE UNIQUE INDEX `UQE_org_user_org_id_user_id` ON `org_user` (`org_id`,`user_id`)c3?indexIDX_org_user_org_idorg_userCREATE INDEX `IDX_org_user_org_id` ON `org_user` (`org_id`)?g?5tableorgorgCREATE TABLE `org` (
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `version` INTEGER NOT NULL
, `name` TEXT NOT NULL
, `address1` TEXT NULL
, `address2` TEXT NULL
, `city` TEXT NULL
, `state` TEXT NULL
, `zip_code` TEXT NULL
, `country` TEXT NULL
, `billing_email` TEXT NULL
, `created` DATETIME NOT NULL
, `updated` DATETIME NOT NULL
5?indexIDX_temp_user_statustemp_userCREATE INDEX `IDX_temp_user_status` ON `temp_user` (`status`)`
                                                                                                  1indexIDX_temp_user_codetemp_user	CREATE INDEX `IDX_temp_user_code` ON `temp_user` (`code`)g
                                    5?indexIDX_temp_user_org_idtemp_userCREATE INDEX `IDX_temp_user_org_id` ON `temp_user` (`org_id`)?^	?
                                                                                                                                         tabletemp_usertemp_user
  CREATE TABLE `temp_user` (
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `org_id` INTEGER NOT NULL
, `version` INTEGER NOT NULL
, `email` TEXT NOT NULL
, `name` TEXT NULL
, `role` TEXT NULL
, `code` TEXT NOT NULL
, `status` TEXT NOT NULL
, `invited_by_user_id` INTEGER NULL
, `email_sent` INTEGER NOT NULL
, `email_sent_on` DATETIME NULL
, `remote_addr` TEXT NULL
, `created` INTEGER NOT NULL DEFAULT 0
, `updated` INTEGER NOT NULL DEFAULT 0
)?R?tableuseruserCREATE TABLE `user` (
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `version` INTEGER NOT NULL
, `login` TEXT NOT NULL
, `email` TEXT NOT NULL
, `name` TEXT NULL
, `password` TEXT NULL
, `salt` TEXT NULL
, `rands` TEXT NULL
, `company` TEXT NULL
, `org_id` INTEGER NOT NULL
, `is_admin` INTEGER NOT NULL
, `email_verified` INTEGER NULL
, `theme` TEXT NULL
, `created` DATETIME NOT NULL
, `updated` DATETIME NOT NULL
, `help_flags1` INTEGER NOT NULL DEFAULT 0, `last_seen_at` DATETIME NULL, `is_disabled` INTEGER NOT NULL DEFAULT 0, is_service_account BOOLEAN DEFAULT 0)V)}indexUQE_user_emailuserCREATE UNIQUE INDEX `UQE_user_email` ON `user` (`email`)V)}indexUQE_user_loginuserCREATE UNIQUE INDEX `UQE_user_login` ON `user` (`login`)
 {O%uindexUQE_org_nameorgCREATE UNIQUE INDEX `UQE_org_name` ON `org` (`name`)d
CREATE INDEX `IDX_temp_user_email` ON `temp_user` (`email`)d5?
                                                              indexIDX_user_login_emailuserCREATE INDEX `IDX_user_login_email` ON `user` (`login`,`email`)??t?;tableorg_userorg_userCREATE TABLE `org_user` (
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `org_id` INTEGER NOT NULL
, `user_id` INTEGER NOT NULL
, `role` TEXT NOT NULL
, `created` DATETIME NOT NULL
, `updated` DATETIME NOT NULL
)?G?=indexUQE_star_user_id_dashboard_idstarCREATE UNIQUE INDEX `UQE_star_user_id_dashboard_id` ON `star` (`user_id`,`dashboard_id`)?tablestarstaCREATE TABLE `star` (
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `user_id` INTEGER NOT NULL
, `dashboard_id` INTEGER NOT NULL
)P++Ytablesqlite_sequencesqlite_sequenceCREATE TABLE sqlite_sequence(name,seq)?''?Atablemigration_logmigration_logCREATE TABLE `migration_log` (
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `migration_id` TEXT NOT NULL
, `sql` TEXT NOT NULL
, `success` INTEGER NOT NULL
, `error` TEXT NOT NULL
, `timestamp` DATETIME NOT NULL
Z?
 ?
  d
   ?
    Z
?	?F?0?l?UI
                 7^]+indUtableapi_keyapi_key0CREATE TABLE `api_key` (
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `org_id` INTEGER NOT NULL
, `name` TEXT NOT NULL
, `key` TEXT NOT NULL
, `role` TEXT NOT NULL
, `created` DATETIME NOT NULL
, `updated` DATETIME NOT NULL
, `expires` INTEGER NULL, `service_account_id` INTEGER NULL, `last_used_at` DATETIME NULL, `is_revoked` INTEGER NULL DEFAULT 0)?-O#??indexIDX_data_source_org_id_is_defaultdata_source-CREATE INDEX `IDX_data_source_org_id_is_default` ON `data_source` (`org_id`,`is_default`)?,A#?1indexUQE_data_source_org_id_uiddata_source(CREATE UNIQUE INDEX `UQE_data_source_org_id_uid` ON `data_source` (`org_id`,`uid`)?0''?tabledashboard_tagdashboard_tagCREATE TABLE `dashboard_tag` (
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `dashboard_id` INTEGER NOT NULL
, `term` TEXT NOT NULL
)?+C#?5indexUQE_data_source_org_id_namedata_source,CREATE UNIQUE INDEX `UQE_data_source_org_id_name` ON `data_source` (`org_id`,`name`)o*9#?indexIDX_data_source_org_iddata_source)CREATE INDEX `IDX_data_source_org_id` ON `data_source` (`org_id`)?")##?
                                                                                            tabledata_sourcedata_source+CREATE TABLE `data_source` (
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `org_id` INTEGER NOT NULL
, `version` INTEGER NOT NULL
, `type` TEXT NOT NULL
, `name` TEXT NOT NULL
, `access` TEXT NOT NULL
, `url` TEXT NOT NULL
, `password` TEXT NULL
, `user` TEXT NULL
, `database` TEXT NULL
, `basic_auth` INTEGER NOT NULL
, `basic_auth_user` TEXT NULL
, `basic_auth_password` TEXT NULL
, `is_default` INTEGER NOT NULL
, `json_data` TEXT NULL
, `created` DATETIME NOT NULL
, `updated` DATETIME NOT NULL
, `with_credentials` INTEGER NOT NULL DEFAULT 0, `secure_json_data` TEXT NULL, `read_only` INTEGER NULL, `uid` TEXT NOT NULL DEFAULT 0)p';?indexIDX_dashboard_is_folderdashboard'CREATE INDEX `IDX_dashboard_is_folder` ON `dashboard` (`is_folder`)d&3?indexIDX_dashboard_titledashboard#CREATE INDEX `IDX_dashboard_title` ON `dashboard` (`title`)?>%e9?kindexIDX_dashboard_provisioning_dashboard_id_namedashboard_provisioning&CREATE INDEX `IDX_dashboard_provisioning_dashboard_id_name` ON `dashboard_provisioning` (`dashboard_id`,`name`)?-$[9?SindexIDX_dashboard_provisioning_dashboard_iddashboard_provisioning%CREATE INDEX `IDX_dashboard_provisioning_dashboard_id` ON `dashboard_provisioning` (`dashboard_id`)?##99?atabledashboard_provisioningdashboard_provisioning$CREATE TABLE `dashboard_provisioning` (
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `dashboard_id` INTEGER NULL
, `name` TEXT NOT NULL
, `external_id` TEXT NOT NULL
, `updated` INTEGER NOT NULL DEFAULT 0
, `check_sum` TEXT NULL)?"!U?]indexUQE_dashboard_org_id_folder_id_titledashboard CREATE UNIQUE INDEX `UQE_dashboard_org_id_folder_id_title` ON `dashboard` (`org_id`,`folder_id`,`title`)| =?)indexUQE_dashboard_org_id_uiddashboard"CREATE UNIQUE INDEX `UQE_dashboard_org_id_uid` ON `dashboard` (`org_id`,`uid`)?	I'?/indexIDX_dashboard_tag_dashboard_iddashboard_tagCREATE INDEX `IDX_dashboard_tag_dashboard_id` ON `dashboard_tag` (`dashboard_id`)?I?3indexIDX_dashboard_org_id_plugin_iddashboardCREATE INDEX `IDX_dashboard_org_id_plugin_id` ON `dashboard` (`org_id`,`plugin_id`)j7?
                                                                                                       indexIDX_dashboard_gnet_iddashboardCREATE INDEX `IDX_dashboard_gnet_id` ON `dashboard` (`gnet_id`)g?indexIDX_dashboard_org_iddashboardCREATE INDEX `IDX_dashboard_org_id` ON `dashboard` (`org_id`)?:?CtabledashboarddashboardCREATE TABLE `dashboard` (
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `version` INTEGER NOT NULL
, `slug` TEXT NOT NULL
, `title` TEXT NOT NULL
, `data` TEXT NOT NULL
, `org_id` INTEGER NOT NULL
, `created` DATETIME NOT NULL
, `updated` DATETIME NOT NULL
, `updated_by` INTEGER NULL, `created_by` INTEGER NULL, `gnet_id` INTEGER NULL, `plugin_id` TEXT NULL, `folder_id` INTEGER NOT NULL DEFAULT 0, `is_folder` INTEGER NOT NULL DEFAULT 0, `has_acl` INTEGER NOT NULL DEFAULT 0, `uid` TEXT NULL, `is_public` INTEGER NOT NULL DEFAULT 0)

?w?j
 ?
  ?
   F
    ?
3create data_source tableCREATE TABLE IF NOT EXISTS `data_source` (
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `account_id` INTEGER NOT NULL
, `version` INTEGER NOT NULL
, `type` TEXT NOT NULL
, `name` TEXT NOT NULL
, `access` TEXT NOT NULL
, `url` TEXT NOT NULL
, `password` TEXT NULL
, `user` TEXT NULL
, `database` TEXT NULL
, `basic_auth` INTEGER NOT NULL
, `basic_auth_user` TEXT NULL
, `basic_auth_password` TEXT NULL
, `is_default` INTEGER NOT NULL
, `created` DATETIME NOT NULL
, `updated` DATETIME NOT NULL
3delete stars for deleted dashboardsDELETE FROM star WHERE dashboard_id NOT IN (SELECT id FROM dashboard)2023-12-14 01:03:25?   
3copy dashboard_provisioning v1 to v2INSERT INTO `dashboard_provisioning` (`id`ning_tmp_qwerty`2023-12-14 01:03:25?sU?u2-14 01:03:25tG? 
, `dashboard_id`
, `name`
, `external_id`) SELECT `id`
, `dashboard_id`
, `name`
3create index IDX_dashboard_provisioning_dashboard_id_name - v2CREATE INDEX `IDX_dashboard_provisioning_dashboard_id_name` ON `dashboard_provisioning` (`dashb3create index IDX_dashboard_provisioning_dashboard_id - v2CREATE INDEX `IDX_dashboard_provisioning_dashboard_id` ON `dashboard_provisioning` (`dashboard_id`);3create dashboard_provisioning v2CREATE TABLE IF NOT EXISTS `dashboard_provisioning` (
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `dashboard_id` INTEGER NULL
, `name` TEXT NOT NULL
, `external_id` TEXT NOT NULL
, `updated` INTEGER NOT NULL DEFAULT 0
3Rename table dashboard_provisioning to dashboard_provisioning_tmp_qwerty - v1ALTER TABLE `dashboard_provisioning` RENAME TO `dashboard_provisioning_tmp_qwert3create dashboard_provisioningCREATE TABLE IF NOT EXISTS `dashboard_provisioning` (
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `dashboard_id` INTEGER NULL
, `name` TEXT NOT NULL
, `external_id` TEXT NOT NULL
, `updated` DATETIME NOT NULL
3Add unique index for dashboard_org_id_title_folder_idCREATE UNIQUE INDEX `UQE_dashboard_org_id_folder_id_title` ON `dashboard` (`org_id`,`folder_id`,`title`)3Add column folder_id in dashboardalter table `dashboard` ADD COLUMN `folder_id` INTEGER NOT NULL DEFAULT 0 2023-12-14 01:03:24O?!:03:24}W?	






nx?d
 -
?
3create api_key tableCREATE TABLE IF NOT EXISTS `api_key` (unt_id` ON `api_key` (`account_id`);2023-12-14 01:03:27?(5?;2023-12-14 01:03:27k7?	
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `account_id` INTEGER NOT NULL
, `name` TEXT NOT NULL
, `key` TEXT NOT NULL
, `role` TEXT NOT NULL
, `created` DATETIME NOT NULL
, `updated` DATETIME NOT NULL
3add unique index datasource_org_id_is_defaultCREATE INDEX `IDX_data_source_org_id_is_default` ON `data_source` (`org_id`,`is_default`);2023-12-14 01:03:27?Y?3Add uid columnalter table `data_source` ADD COLUMN `uid` TEXT NOT NULL DEFAULT 0 2023-12-14 01:03:26uC? (`org_id`,`uid`);2023-12-14 01:03:26Wq-g	
3create data_source table v2CREATE TABLE IF NOT EXISTS `data_source` (_org_id` ON `data_source` (`org_id`);2023-12-14 01:03:25?>C?;2023-12-14 01:03:25?]?	
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `org_id` INTEGER NOT NULL
, `version` INTEGER NOT NULL
, `type` TEXT NOT NULL
, `name` TEXT NOT NULL
, `access` TEXT NOT NULL
, `url` TEXT NOT NULL
, `password` TEXT NULL
, `user` TEXT NULL
, `database` TEXT NULL
, `basic_auth` INTEGER NOT NULL
, `basic_auth_user` TEXT NULL
, `basic_auth_password` TEXT NULL
, `is_default` INTEGER NOT NULL
, `json_data` TEXT NULL
, `created` DATETIME NOT NULL
, `updated` DATETIME NOT NULL
3add unique index data_source.account_id_nameCREATE UNIQUE INDEX `UQE_data_source_account_id_name` ON `data_source` (`account_id`,`name`);2023-12-14 01:03:25?3add index data_source.account_idCREATE INDEX `IDX_data_source_account_id` ON `data_source` (`account_id`);2023-12-14 01:03:25


N?[
 b


  ?
   R
?
>	?	7???
3create quota table v1CREATE TABLE IF NOT EXISTS `quota` (
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `org_id` INTEGER NULL
, `user_id` INTEGER NULL
, `target` TEXT NOT NULL
, `limit` INTEGER NOT NULL
, `created` DATETIME NOT NULL
, `updated` DATETIME NOT NULL
3Change dashboard_encrypted column to MEDIUMBLOBSELECT 0;2023-12-14 01:03:28?
3Add column external_delete_url to dashboard_snapshots tablealter table `dashboard_snapshot` ADD COLUMN `external_delete_url` TEXT NULL 2023-12-14 01:03:28P?m3create index IDX_dashboard_snapshot_user_id - v5CREATE INDEX `IDX_dashboard_snapshot_user_id` ON `dashboard_snapshot` (`user_id`);2023-12-14 01:03:28?-?
3create index UQE_dashboard_snapshot_delete_key - v5CREATE UNIQUE INDEX `UQE_dashboard_snapshot_delete_key` ON `dashboard_snapshot` (`delete_key`);2023-12-14 01:03:28??
3create index UQE_dashboard_snapshot_key - v5CREATE UNIQUE INDEX `UQE_dashboard_snapshot_key` ON `dashboard_snapshot` (`key`);2023-12-14 01:03:28?Z?
3create dashboard_snapshot table v5 #2CREATE TABLE IF NOT EXISTS `dashboard_snapshot` (
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `name` TEXT NOT NULL
, `key` TEXT NOT NULL
, `delete_key` TEXT NOT NULL
, `org_id` INTEGER NOT NULL
, `user_id` INTEGER NOT NULL
, `external` INTEGER NOT NULL
, `external_url` TEXT NOT NULL
, `dashboard` TEXT NOT NULL
, `expires` DATETIME NOT NULL
, `created` DATETIME NOT NULL
, `updated` DATETIME NOT NULL
3create dashboard_snapshot table v4CREATE TABLE IF NOT EXISTS `dashboard_snapshot` (-14 01:03:28?Q?	
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `name` TEXT NOT NULL
, `key` TEXT NOT NULL
, `dashboard` TEXT NOT NULL
, `expires` DATETIME NOT NULL
, `created` DATETIME NOT NULL
, `updated` DATETIME NOT NULL
3copy api_key v1 to v2INSERT INTO `api_key` (`key`i_key_v1`2023-12-14 01:03:27?h7?}L 2023-12-14 01:03:27E?E+4 01:03:28n?E}-12-14 01:03:28}K?    
, `role`
, `created`
, `updated`
, `id`
, `org_id`
, `name`) SELECT `key`
, `role`
, `created`
, `updated`
, `id`
, `account_id`
3create api_key table v2CREATE TABLE IF NOT EXISTS `api_key` (_org_id` ON `api_key` (`org_id`);2023-12-14 01:03:27?';?w2023-12-14 01:03:27wO?	
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `org_id` INTEGER NOT NULL
, `name` TEXT NOT NULL
, `key` TEXT NOT NULL
, `role` TEXT NOT NULL
, `created` DATETIME NOT NULL
, `updated` DATETIME NOT NULL
*k2023-12-14 01:03:27
 ?
?
$	??]????????'=?!tableplaylistplaylist?CREATE TABLE `playlist` (
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `name` TEXT NOT NULL
, `interval` TEXT NOT NULL
, `org_id` INTEGER NOT NULL
, `created_at` INTEGER NOT NULL DEFAULT 0, `updated_at` INTEGER NOT NULL DEFAULT 0, `uid` TEXT NOT NULL DEFAULT 0)?$?##?tablepreferencespreferencesACREATE TABLE `preferences` (
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `org_id` INTEGER NOT NULL
, `user_id` INTEGER NOT NULL
, `version` INTEGER NOT NULL
, `home_dashboard_id` INTEGER NOT NULL
, `timezone` TEXT NOT NULL
, `theme` TEXT NOT NULL
, `created` DATETIME NOT NULL
, `updated` DATETIME NOT NULL
, `team_id` INTEGER NULL, `week_start` TEXT NULL, `json_data` TEXT NULL)?z>''?3tableplaylist_itemplaylist_item@CREATE TABLE `playlist_item` (
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `playlist_id` INTEGER NOT NULL
, `type` TEXT NOT NULL
, `value` TEXT NOT NULL
, `title` TEXT NOT NULL
, `order` INTEGER NOT NULL
)-<Andexsqlite_autoindex_session_1session>;gtablesessionsession=CREATE TABLE `session` (
`key` TEXT PRIMARY KEY NOT NULL
, `data` BLOB NOT NULL
, `expiry` INTEGER NOT NULL
)?":S)?UindexUQE_plugin_setting_org_id_plugin_idplugin_setting<CREATE UNIQUE INDEX `UQE_plugin_setting_org_id_plugin_id` ON `plugin_setting` (`org_id`,`plugin_id`)?v9))?'tableplugin_settingplugin_setting;CREATE TABLE `plugin_setting` (
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `org_id` INTEGER NULL
, `plugin_id` TEXT NOT NULL
, `enabled` INTEGER NOT NULL
, `pinned` INTEGER NOT NULL
, `json_data` TEXT NULL
, `secure_json_data` TEXT NULL
, `created` DATETIME NOT NULL
, `updated` DATETIME NOT NULL
, `plugin_version` TEXT NULL)?8K?IindexUQE_quota_org_id_user_id_targetquota9CREATE UNIQUE INDEX `UQE_quota_org_id_user_id_target` ON `quota` (`org_id`,`user_id`,`target`)?7?_tablequotaquota8CREATE TABLE `quota` (
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `org_id` INTEGER NULL
, `user_id` INTEGER NULL
, `target` TEXT NOT NULL
, `limit` INTEGER NOT NULL
, `created` DATETIME NOT NULL
, `updated` DATETIME NOT NULL
)?6I1?/indexIDX_dashboard_snapshot_user_iddashboard_snapshot7CREATE INDEX `IDX_dashboard_snapshot_user_id` ON `dashboard_snapshot` (`user_id`)?5O1?IindexUQE_dashboard_snapshot_delete_keydashboard_snapshot6CREATE UNIQUE INDEX `UQE_dashboard_snapshot_delete_key` ON `dashboard_snapshot` (`delete_key`)?	4A1?-indexUQE_dashboard_snapshot_keydashboard_snapshot5CREATE UNIQUE INDEX `UQE_dashboard_snapshot_key` ON `dashboard_snapshot` (`key`)?~311?'tabledashboard_snapshotdashboard_snapshot.CREATE TABLE `dashboard_snapshot` (
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `name` TEXT NOT NULL
, `key` TEXT NOT NULL
, `delete_key` TEXT NOT NULL
, `org_id` INTEGER NOT NULL
, `user_id` INTEGER NOT NULL
, `external` INTEGER NOT NULL
, `external_url` TEXT NOT NULL
, `dashboard` TEXT NOT NULL
, `expires` DATETIME NOT NULL
, `created` DATETIME NOT NULL
, `updated` DATETIME NOT NULL
, `external_delete_url` TEXT NULL, `dashboard_encrypted` BLOB NULL)w2;%indexUQE_api_key_org_id_nameapi_key4CREATE UNIQUE INDEX `UQE_api_key_org_id_name` ON `api_key` (`org_id`,`name`)]1+indexUQE_api_key_keyapi_key3CREATE UNIQUE INDEX `UQE_api_key_key` ON `api_key` (`key`)^01indexIDX_api_key_org_idapi_key/CREATE INDEX `IDX_api_key_org_id` ON `api_key` (`org_id`)?/Utableapi_keyapi_key0CREATE TABLE `api_key` (
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `org_id` INTEGER NOT NULL
, `name` TEXT NOT NULL
, `key` TEXT NOT NULL
, `role` TEXT NOT NULL
, `created` DATETIME NOT NULL
, `updated` DATETIME NOT NULL
, `expires` INTEGER NULL, `service_account_id` INTEGER NULL, `last_used_at` DATETIME NULL, `is_revoked` INTEGER NULL DEFAULT 0)?-O#??indexIDX_data_source_org_id_is_defaultdata_source-CREATE INDEX `IDX_data_source_org_id_is_default` ON `data_source` (`org_id`,`is_default`)





1Q
?
 ?
  J
   ?
    L
?
3create preferences table v3CREATE TABLE IF NOT EXISTS `preferences` (?`team_id` INTEGER NULL 2023-12-14 01:03:29I?&M+x?O?      
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `org_id` INTEGER NOT NULL
, `user_id` INTEGER NOT NULL
, `version` INTEGER NOT NULL
, `home_dashboard_id` INTEGER NOT NULL
, `timezone` TEXT NOT NULL
, `theme` TEXT NOT NULL
, `created` DATETIME NOT NULL
, `updated` DATETIME NOT NULL
3create playlist item table v2CREATE TABLE IF NOT EXISTS `playlist_item` (at` INTEGER NOT NULL DEFAULT 0 2023-12-14 01:03:29K? Q+	
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `playlist_id` INTEGER NOT NULL
, `type` TEXT NOT NULL
, `value` TEXT NOT NULL
, `title` TEXT NOT NULL
, `order` INTEGER NOT NULL
3create playlist table v2CREATE TABLE IF NOT EXISTS `playlist` (
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `name` TEXT NOT NULL
, `interval` TEXT NOT NULL
, `org_id` INTEGER NOT NULL
3create session tableCREATE TABLE IF NOT EXISTS `session` (t`2023-12-14 01:03:28?+5?:03:29V?K	
`key` TEXT PRIMARY KEY NOT NULL
, `data` BLOB NOT NULL
, `expiry` INTEGER NOT NULL
3Update plugin_setting table charset-- NOT REQUIRED2023-12-14 01:03:28?
3create index UQE_plugin_setting_org_id_plugin_id - v1CREATE UNIQUE INDEX `UQE_plugin_setting_org_id_plugin_id` ON `plugin_setting` (`org_id`,`plugin_id`);2023create plugin_setting tableCREATE TABLE IF NOT EXISTS `plugin_setting` (
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `org_id` INTEGER NULL
, `plugin_id` TEXT NOT NULL
, `enabled` INTEGER NOT NULL
, `pinned` INTEGER NOT NULL
, `json_data` TEXT NULL
, `secure_json_data` TEXT NULL
, `created` DATETIME NOT NULL
, `updated` DATETIME NOT NULL
3create index UQE_quota_org_id_user_id_target - v1CREATE UNIQUE INDEX `UQE_quota_org_id_user_id_target` ON `quota` (`org_id`,`user_id`,`target`);2023-12-14 01:03:28



I
 ?
  k
   ?
    J
?
3create notification_journal table v1CREATE TABLE IF NOT EXISTS `alert_notification_journal` (
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `org_id` INTEGER NOT NULL
, `alert_id` INTEGER NOT NULL
, `notifier_id` INTEGER NOT NULL
, `sent_at` INTEGER NOT NULL
, `success` INTEGER NOT NULL
3add index alert_notification org_id & nameCREATE UNIQUE INDEX `UQE_alert_notification_org_id_name` ON `alert_notification` (`org_id`,`name`);2023-12-14 01:033create alert_notification table v1CREATE TABLE IF NOT EXISTS `alert_notification` (ER NOT NULL DEFAULT 0 2023-12-14 01:03:30?B?Q?? 2023-12-14 01:03:30??=?3	
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `org_id` INTEGER NOT NULL
, `name` TEXT NOT NULL
, `type` TEXT NOT NULL
, `settings` TEXT NOT NULL
, `created` DATETIME NOT NULL
, `updated` DATETIME NOT NULL
3copy alert_rule_tag v1 to v2INSERT INTO `alert_rule_tag` (`alert_id`2023-12-14 01:03:30?!?E?a	
, `tag_id`) SELECT `alert_id`
3create index UQE_alert_rule_tag_alert_id_tag_id - Add unique index alert_rule_tag.alert_id_tag_id V2CREATE UNIQUE INDEX `UQE_alert_rule_tag_alert_id_tag_id` 3Create alert_rule_tag table v2CREATE TABLE IF NOT EXISTS `alert_rule_tag` (
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `alert_id` INTEGER NOT NULL
, `tag_id` INTEGER NOT NULL
);2023-12-14 01:03:30?
3Add unique index alert_rule_tag.alert_id_tag_idCREATE UNIQUE INDEX `UQE_alert_rule_tag_alert_id_tag_id` ON `alert_rule_tag` (`alert_id`,`tag_id`);2023-12-14 3Create alert_rule_tag table v1CREATE TABLE IF NOT EXISTS `alert_rule_tag` (
`alert_id` INTEGER NOT NULL
, `tag_id` INTEGER NOT NULL
3create alert table v1CREATE TABLE IF NOT EXISTS `alert` (d_id` ON `alert` (`org_id`,`id`);2023-12-14 01:03:29?3?7??07u	
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `version` INTEGER NOT NULL
, `dashboard_id` INTEGER NOT NULL
, `panel_id` INTEGER NOT NULL
, `org_id` INTEGER NOT NULL
, `name` TEXT NOT NULL
, `message` TEXT NOT NULL
, `state` TEXT NOT NULL
, `settings` TEXT NOT NULL
, `frequency` INTEGER NOT NULL
, `handler` INTEGER NOT NULL
, `severity` TEXT NOT NULL
, `silenced` INTEGER NOT NULL
, `execution_error` TEXT NOT NULL
, `eval_data` TEXT NULL
, `eval_date` DATETIME NULL
, `new_state_date` DATETIME NOT NULL
, `state_changes` INTEGER NOT NULL
, `created` DATETIME NOT NULL
, `updated` DATETIME NOT NULL
);2023-12-14 01:03:29
B?


  ?
   U
?	???C?B?9	A!?#indexIDX_annotation_org_id_typeannotationUCREATE INDEX `IDX_annotation_org_id_type` ON `annotation` (`org_id`,`type`)QI!?3indexIDX_annotation_org_id_alert_idannotationTCREATE INDEX `IDX_annotation_org_id_alert_id` ON `annotation` (`org_id`,`alert_id`)?zP!!??tableannotationannotationSCREATE TABLE `annotation` (
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `org_id` INTEGER NOT NULL
, `alert_id` INTEGER NULL
, `user_id` INTEGER NULL
, `dashboard_id` INTEGER NULL
, `panel_id` INTEGER NULL
, `category_id` INTEGER NULL
, `type` TEXT NOT NULL
, `title` TEXT NOT NULL
, `text` TEXT NOT NULL
, `metric` TEXT NULL
, `prev_state` TEXT NOT NULL
, `new_state` TEXT NOT NULL
, `data` TEXT NOT NULL
, `epoch` INTEGER NOT NULL
, `region_id` INTEGER NULL DEFAULT 0, `tags` TEXT NULL, `created` INTEGER NULL DEFAULT 0, `updated` INTEGER NULL DEFAULT 0, `epoch_end` INTEGER NOT NULL DEFAULT 0)?OC)?#indexIDX_alert_rule_tag_alert_idalert_rule_tagRCREATE INDEX `IDX_alert_rule_tag_alert_id` ON `alert_rule_tag` (`alert_id`)?)NW=?KindexIDX_alert_notification_state_alert_idalert_notification_stateMCREATE INDEX `IDX_alert_notification_state_alert_id` ON `alert_notification_state` (`alert_id`)? MO1?MindexUQE_alert_notification_org_id_uidalert_notificationQCREATE UNIQUE INDEX `UQE_alert_notification_org_id_uid` ON `alert_notification` (`org_id`,`uid`)?mL}=?-indexUQE_alert_notification_state_org_id_alert_id_notifier_idalert_notification_stateOCREATE UNIQUE INDEX `UQE_alert_notification_state_org_id_alert_id_notifier_id` ON `alert_notification_state` (`org_id`,`alert_id`,`notifier_id`)?~K==?tablealert_notification_statealert_notification_stateNCREATE TABLE `alert_notification_state` (
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `org_id` INTEGER NOT NULL
, `alert_id` INTEGER NOT NULL
, `notifier_id` INTEGER NOT NULL
, `state` TEXT NOT NULL
, `version` INTEGER NOT NULL
, `updated_at` INTEGER NOT NULL
, `alert_rule_state_updated_version` INTEGER NOT NULL
)?vI11?tablealert_notificationalert_notificationJCREATE TABLE `alert_notification` (
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `org_id` INTEGER NOT NULL
, `name` TEXT NOT NULL
, `type` TEXT NOT NULL
, `settings` TEXT NOT NULL
, `created` DATETIME NOT NULL
, `updated` DATETIME NOT NULL
, `is_default` INTEGER NOT NULL DEFAULT 0, `frequency` INTEGER NULL, `send_reminder` INTEGER NULL DEFAULT 0, `disable_resolve_message` INTEGER NOT NULL DEFAULT 0, `uid` TEXT NULL, `secure_settings` TEXT NULL)?HQ)?QindexUQE_alert_rule_tag_alert_id_tag_idalert_rule_tagLCREATE UNIQUE INDEX `UQE_alert_rule_tag_alert_id_tag_id` ON `alert_rule_tag` (`alert_id`,`tag_id`)?4G))?#tablealert_rule_tagalert_rule_tagKCREATE TABLE `alert_rule_tag` (
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `alert_id` INTEGER NOT NULL
, `tag_id` INTEGER NOT NULL
)iE9?indexIDX_alert_dashboard_idalertICREATE INDEX `IDX_alert_dashboard_id` ON `alert` (`dashboard_id`)SD+sindexIDX_alert_statealertHCREATE INDEX `IDX_alert_state` ON `alert` (`state`)bC3?indexIDX_alert_org_id_idalertFCREATE INDEX `IDX_alert_org_id_id` ON `alert` (`org_id`,`id`)?B?tablealertalertDCREATE TABLE `alert` (
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `version` INTEGER NOT NULL
, `dashboard_id` INTEGER NOT NULL
, `panel_id` INTEGER NOT NULL
, `org_id` INTEGER NOT NULL
, `name` TEXT NOT NULL
, `message` TEXT NOT NULL
, `state` TEXT NOT NULL
, `settings` TEXT NOT NULL
, `frequency` INTEGER NOT NULL
, `handler` INTEGER NOT NULL
, `severity` TEXT NOT NULL
, `silenced` INTEGER NOT NULL
, `execution_error` TEXT NOT NULL
, `eval_data` TEXT NULL
, `eval_date` DATETIME NULL
, `new_state_date` DATETIME NOT NULL
, `state_changes` INTEGER NOT NULL
, `created` DATETIME NOT NULL
, `updated` DATETIME NOT NULL
, `for` INTEGER NULL)rA;#?indexIDX_preferences_user_idpreferencesCCREATE INDEX `IDX_preferences_user_id` ON `preferences` (`user_id`)o@9#?indexIDX_preferences_org_idpreferencesBCREATE INDEX `IDX_preferences_org_id` ON `preferences` (`org_id`)




}?

?
 :
?	?	??c	
3Drop category_id indexDROP INDEX `IDX_annotation_org_id_category_id`2023-12-14 01:03:31?2023-12-14 01:03:31^?Y9i	
3add index annotation 3 v3CREATE INDEX `IDX_annotation_org_id_dashboard_id_panel_id_epoch` ON `annotation` (`org_id`,`dashboard_id`,`panel_id`,`epoch`);2023-13create annotation table v5CREATE TABLE IF NOT EXISTS `annotation` (id` ON `annotation` (`org_id`,`alert_id`);2023-12-14 01:03:31?{?A?1????%	
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `org_id` INTEGER NOT NULL
, `alert_id` INTEGER NULL
, `user_id` INTEGER NULL
, `dashboard_id` INTEGER NULL
, `panel_id` INTEGER NULL
, `category_id` INTEGER NULL
, `type` TEXT NOT NULL
, `title` TEXT NOT NULL
, `text` TEXT NOT NULL
, `metric` TEXT NULL
, `prev_state` TEXT NOT NULL
, `new_state` TEXT NOT NULL
, `data` TEXT NOT NULL
, `epoch` INTEGER NOT NULL
3Add non-unique index alert_notification_state_alert_idCREATE INDEX `IDX_alert_notification_state_alert_id` ON `alert_notification_state` (`alert_id`);2023-123Add unique index alert_notification_org_id_uidCREATE UNIQUE INDEX `UQE_alert_notification_org_id_uid` ON `alert_notification` (`org_id`,`uid`);2023-12-14 01:3add index alert_notification_state org_id & alert_id & notifier_idCREATE UNIQUE INDEX `UQE_alert_notification_state_org_id_alert_id_notifier_id` ON `alert_no3create alert_notification_state table v1CREATE TABLE IF NOT EXISTS `alert_notification_state` (
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `org_id` INTEGER NOT NULL
, `alert_id` INTEGER NOT NULL
, `notifier_id` INTEGER NOT NULL
, `state` TEXT NOT NULL
, `version` INTEGER NOT NULL
, `updated_at` INTEGER NOT NULL
, `alert_rule_state_updated_version` INTEGER NOT NULL
3add index notification_journal org_id & alert_id & notifier_idCREATE INDEX `IDX_alert_notification_journal_org_id_alert_id_notifier_id` ON `alert_notification_journal` (`org_id`,`alert_id`,`notifier_id`);2023-12-14 01:03:31






??RD?
?
 ?

  ?
[`
  ?5???i??7g##?5tableteam_memberteam_m?I'?/indexIDX_dashboard_acl_dashboard_iddasRH''?tabledashboard_acldashboard_acllCREATE TABLE `dashboard_acl` (
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `org_id` INTEGER NOT NULL
, `dashboard_id` INTEGER NOT NULLt;#?indexIDX_team_member_team_idteam_memberkCREATE INDEX `IDX_team_member_team_id` ON `team_member` (`team_id`)?*iY#?eindexUQE_team_member_org_id_team_id_user_idteam_memberjCREATE UNIQUE INDEX `UQE_team_member_org_id_team_id_user_id` ON `team_member` (`org_id`,`team_id`,`user_id`)oh9#?indexIDX_team_member_org_idteam_memberiCREATE INDEX `IDX_team_member_org_id` ON `team_member` (`org_id`)?7g##?5tableteam_memberteam_memberhCREATE TABLE `team_member` (
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `org_id` INTEGER NOT NULL
, `team_id` INTEGER NOT NULL
, `user_id` INTEGER NOT NULL
, `created` DATETIME NOT NULL
, `updated` DATETIME NOT NULL
, `external` INTEGER NULL, `permission` INTEGER NULL)hf3?indexUQE_team_org_id_uidteamgCREATE UNIQUE INDEX `UQE_team_org_id_uid` ON `team` (`org_id`,`uid`)ke5?indexUQE_team_org_id_nameteamfCREATE UNIQUE INDEX `UQE_team_org_id_name` ON `team` (`org_id`,`name`)Rd+sindexIDX_team_org_idteameCREATE INDEX `IDX_team_org_id` ON `team` (`org_id`)?oc?AtableteamteamdCREATE TABLE `team` (
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `name` TEXT NOT NULL
, `org_id` INTEGER NOT NULL
, `created` DATETIME NOT NULL
, `updated` DATETIME NOT NULL
, `uid` TEXT NULL, `email` TEXT NULL)|RA!?#indexIDX_annotation_org_id_typeannotationUCREATE INDEX `IDX_annotation_org_id_type` ON `annotation` (`org_id`,`type`)QI!?3indexIDX_annotation_org_id_alert_idannotationTCREATE INDEX `IDX_annotation_org_id_alert_id` ON `annotation` (`org_id`,`alert_id`)?:ba/?qindexUQE_dashboard_version_dashboard_id_versiondashboard_versioncCREATE UNIQUE INDEX `UQE_dashboard_version_dashboard_id_version` ON `dashboard_version` (`dashboard_id`,`version`)?aQ/??indexIDX_dashboard_version_dashboard_iddashboard_versionbCREATE INDEX `IDX_dashboard_version_dashboard_id` ON `dashboard_version` (`dashboard_id`)?x`//?tabledashboard_versiondashboard_versionaCREATE TABLE `dashboard_version` (
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `dashboard_id` INTEGER NOT NULL
, `parent_version` INTEGER NOT NULL
, `restored_from` INTEGER NOT NULL
, `version` INTEGER NOT NULL
, `created` DATETIME NOT NULL
, `created_by` INTEGER NOT NULL
, `message` TEXT NOT NULL
, `data` TEXT NOT NULL
)?q_?1tabletest_datatest_data_CREATE TABLE `test_data` (
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `metric1` TEXT NULL
, `metric2` TEXT NULL
, `value_big_int` INTEGER NULL
, `value_double` REAL NULL
, `value_float` REAL NULL
, `value_int` INTEGER NULL
, `time_epoch` INTEGER NOT NULL
, `time_date_time` DATETIME NOT NULL
, `time_time_stamp` DATETIME NOT NULL
)q^;!?indexIDX_annotation_alert_idannotation^CREATE INDEX `IDX_annotation_alert_id` ON `annotation` (`alert_id`)?]W!?SindexIDX_annotation_org_id_epoch_end_epochannotationXCREATE INDEX `IDX_annotation_org_id_epoch_end_epoch` ON `annotation` (`org_id`,`epoch_end`,`epoch`)?H\q!?
                                                                                                                      indexIDX_annotation_org_id_dashboard_id_epoch_end_epochannotationWCREATE INDEX `IDX_annotation_org_id_dashboard_id_epoch_end_epoch` ON `annotation` (`org_id`,`dashboard_id`,`epoch_end`,`epoch`)?ZG!?/indexIDX_annotation_org_id_updatedannotation]CREATE INDEX `IDX_annotation_org_id_updated` ON `annotation` (`org_id`,`updated`)?YG!?/indexIDX_annotation_org_id_createdannotationVCREATE INDEX `IDX_annotation_org_id_created` ON `annotation` (`org_id`,`created`)?.X[)?eindexUQE_annotation_tag_annotation_id_tag_idannotation_tag\CREATE UNIQUE INDEX `UQE_annotation_tag_annotation_id_tag_id` ON `annotation_tag` (`annotation_id`,`tag_id`)?9W))?-tableannotation_tagannotation_tag[CREATE TABLE `annotation_tag` (
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `annotation_id` INTEGER NOT NULL
, `tag_id` INTEGER NOT NULL
gV?
?
 ?
?
?
	?	
3Add index for org_id_epoch_end_epoch on annotation tableCREATE INDEX `IDX_annotation_org_id_epoch_end_epoch` ON `annotation` (`org_id`,`epoch_end`,`epoch`);23Add index for org_id_dashboard_id_epoch_end_epoch on annotation tableCREATE INDEX `IDX_annotation_org_id_dashboard_id_epoch_end_epoch` ON `annotation` (`org_3copy annotation_tag v2 to v3INSERT INTO `annotation_tag` (`annotation_id`12-14 01:03:32?+?E?u> 02023-12-14 01:03:32^?bE]3:32z?ciq2-14 01:03:32??U?1133q?mk]	
, `tag_id`) SELECT `annotation_id`
3create index UQE_annotation_tag_annotation_id_tag_id - Add unique index annotation_tag.annotation_id_tag_id V3CREATE UNIQUE INDEX `UQE_annotation_tag_annotat3Create annotation_tag table v3CREATE TABLE IF NOT EXISTS `annotation_tag` (03:32?X?I?K	
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `annotation_id` INTEGER NOT NULL
, `tag_id` INTEGER NOT NULL
);2023-12-14 01:03:32?
3Add unique index annotation_tag.annotation_id_tag_idCREATE UNIQUE INDEX `UQE_annotation_tag_annotation_id_tag_id` ON `annotation_tag` (`annotation_id`,`tag_i3Create annotation_tag table v2CREATE TABLE IF NOT EXISTS `annotation_tag` (
`annotation_id` INTEGER NOT NULL
, `tag_id` INTEGER NOT NULL
);2023-12-14 01:03:32


mj
  ?
   1
    Q
?	T	
               ??H??"c?y?m?a?
3add unique index team_member_org_id_team_id_user_idCREATE UNIQUE INDEX `UQE_team_member_org_id_team_id_user_id` ON `team_member` (`org_id`,`team_id`,`user_id3create team member tableCREATE TABLE IF NOT EXISTS `team_member` (ON `team_member` (`org_id`);2023-12-14 01:03:33?"=?k	
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `org_id` INTEGER NOT NULL
, `team_id` INTEGER NOT NULL
, `user_id` INTEGER NOT NULL
, `created` DATETIME NOT NULL
, `updated` DATETIME NOT NULL
3create team tableCREATE TABLE IF NOT EXISTS `team` (ON `team` (`org_id`);2023-12-14 01:03:33?q?/?name`);2023-12-14 01:03:33c?|7u	
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `name` TEXT NOT NULL
, `org_id` INTEGER NOT NULL
, `created` DATETIME NOT NULL
, `updated` DATETIME NOT NULL
3save existing dashboard data in dashboard_version table v1INSERT INTO dashboard_version
(
	dashboard_id,
	version,
	parent_version,
	restored_from,
	created,
	created_by,
	message,
	data
)
SELECT
	dashboard.id,
	dashboard.version,
	dashboard.version,
	dashboard.version,
	dashboard.updated,
	COALESCE(dashboard.updated_by, -1),
	'',
	dashboard.data
3add unique index dashboard_version.dashboard_id and dashboard_version.versionCREATE UNIQUE INDEX `UQE_dashboard_version_dashboard_id_version` ON `dashboard_v3create dashboard_version table v1CREATE TABLE IF NOT EXISTS `dashboard_version` (oard_id` ON `dashboard_version` (`dashboard_id`);2023-12-14 01:03:33??O?=	
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `dashboard_id` INTEGER NOT NULL
, `parent_version` INTEGER NOT NULL
, `restored_from` INTEGER NOT NULL
, `version` INTEGER NOT NULL
, `created` DATETIME NOT NULL
, `created_by` INTEGER NOT NULL
, `message` TEXT NOT NULL
, `data` TEXT NOT NULL
3create test_data tableCREATE TABLE IF NOT EXISTS `test_data` (
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `metric1` TEXT NULL
, `metric2` TEXT NULL
, `value_big_int` INTEGER NULL
, `value_double` REAL NULL
, `value_float` REAL NULL
, `value_int` INTEGER NULL
, `time_epoch` INTEGER NOT NULL
, `time_date_time` DATETIME NOT NULL
, `time_time_stamp` DATETIME NOT NULL
);2023-12-14 01:03:33







???'
!!??Editor2017-06-202017-06-20&
-       !!??Viewer2017-06-202017-06-20
 p
  ?
   d
?
3create index IDX_user_auth_auth_module_auth_id - v1CREATE INDEX `IDX_user_auth_auth_module_auth_id` ON `user_auth` (`auth_module`,`auth_id`);2023-12-14 01:033create user auth tableCREATE TABLE IF NOT EXISTS `user_auth` (
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `user_id` INTEGER NOT NULL
, `auth_module` TEXT NOT NULL
, `auth_id` TEXT NOT NULL
, `created` DATETIME NOT NULL
3copy login_attempt v1 to v2INSERT INTO `login_attempt` (`id`empt_tmp_qwerty`2023-12-14 01:03:35?<C?	
, `username`
, `ip_address`) SELECT `id`
, `username`
3create login_attempt v2CREATE TABLE IF NOT EXISTS `login_attempt` (_attempt_username` ON `login_attempt` (`username`);2023-12-14 01:03:35?p;?		
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `username` TEXT NOT NULL
, `ip_address` TEXT NOT NULL
, `created` INTEGER NOT NULL DEFAULT 0
3create login attempt tableCREATE TABLE IF NOT EXISTS `login_attempt` (me` ON `login_attempt` (`username`);2023-12-14 01:03:34?jA?w-14 01:03:34k?a[	
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `username` TEXT NOT NULL
, `ip_address` TEXT NOT NULL
, `created` DATETIME NOT NULL
3create tag tableCREATE TABLE IF NOT EXISTS `tag` (g_key_value` ON `tag` (`key`,`value`);2023-12-14 01:03:34?.-?	
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `key` TEXT NOT NULL
, `value` TEXT NOT NULL
3delete acl rules for deleted dashboards and foldersDELETE FROM dashboard_acl WHERE dashboard_id NOT IN (SELECT id FROM dashboard) AND dashboard_id != -12023-3save default acl rules in dashboard_acl table
INSERT INTO dashboard_acl
	(
		org_id,
		dashboard_id,
		permission,
		role,
		created,
		updated
	)
	VALUES
		(-1,-1, 1,'Viewer','2017-06-20','2017-06-20'),
		(-1,-1, 2,'Editor','2017-06-20','2017-06-20')
3add index dashboard_acl_team_idCREATE INDEX `IDX_dashboard_acl_team_id` ON `dashboard_acl` (`team_id`);2023-12-14 01:03:34??-14 01:03:34??
3add index dashboard_acl_user_idCREATE INDEX `IDX_dashboard_acl_user_id` ON `dashboard_acl` (`user_id`);2023-12-14 01:03:34?9?	
3add unique index dashboard_acl_dashboard_id_team_idCREATE UNIQUE INDEX `UQE_dashboard_acl_dashboard_id_team_id` ON `dashboard_acl` (`dashboard_id`,`team_id`);2023-12-14 01:03:34?9?
3add unique index dashboard_acl_dashboard_id_user_idCREATE UNIQUE INDEX `UQE_dashboard_acl_dashboard_id_user_id` ON `dashboard_acl` (`dashboard_id`,`user_id`)3create dashboard acl tableCREATE TABLE IF NOT EXISTS `dashboard_acl` (shboard_id` ON `dashboard_acl` (`dashboard_id`);2023-12-14 01:03:34?A?	
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `org_id` INTEGER NOT NULL
, `dashboard_id` INTEGER NOT NULL
, `user_id` INTEGER NULL
, `team_id` INTEGER NULL
, `permission` INTEGER NOT NULL DEFAULT 4
, `role` TEXT NULL
, `created` DATETIME NOT NULL
, `updated` DATETIME NOT NULL
);2023-12-14 01:03:34
????	?
dE??	?
 ?
  ;
   ?
    4
?
$	i?W????
?WN	
-$=!?%indexURI+?/indexIDX_user_aut,C+?#indexIDX_user_auth_token_user_iduser_auth_token?CREATE INDEX `IDX_user_auth_token_user_id` ON `user_auth_token` (`user_id`)?"S+?QindexUQE_user_auth_token_prev_auth_tokenuser_auth_token?CREATE UNIQUE INDEX `UQE_user_auth_token_prev_auth_token` ON `user_auth_token` (`prev_auth_token`)?~I+?=indexUQE_user_auth_token_auth_tokenuser_auth_token?CREATE UNIQUE INDEX `UQE_user_auth_token_auth_token` ON `user_auth_token` (`auth_token`)rj;#?indexIDX_team_member_team_idteam_memberkCREATE INDEX `IDX_team_member_team_id` ON `team_member` (`team_id`)?L}++?Mtableuser_auth_tokenuser_auth_token?CREATE TABLE `user_auth_token` (
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `user_id` INTEGER NOT NULL
, `auth_token` TEXT NOT NULL
, `prev_auth_token` TEXT NOT NULL
, `user_agent` TEXT NOT NULL
, `client_ip` TEXT NOT NULL
, `auth_token_seen` INTEGER NOT NULL
, `seen_at` INTEGER NULL
, `rotated_at` INTEGER NOT NULL
, `created_at` INTEGER NOT NULL
, `updated_at` INTEGER NOT NULL
, `revoked_at` INTEGER NULL)?
                             |G#?9indexUQE_server_lock_operation_uidserver_lockCREATE UNIQUE INDEX `UQE_server_lock_operation_uid` ON `server_lock` (`operation_uid`)?R{##?ktableserver_lockserver_lock~CREATE TABLE `server_lock` (
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `operation_uid` TEXT NOT NULL
, `version` INTEGER NOT NULL
, `last_execution` INTEGER NOT NULL
)jz7?
     indexIDX_user_auth_user_iduser_auth}CREATE INDEX `IDX_user_auth_user_id` ON `user_auth` (`user_id`)?yO??indexIDX_user_auth_auth_module_auth_iduser_auth{CREATE INDEX `IDX_user_auth_auth_module_auth_id` ON `user_auth` (`auth_module`,`auth_id`)?|x?Gtableuser_authuser_authxCREATE TABLE `user_auth` (
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `user_id` INTEGER NOT NULL
, `auth_module` TEXT NOT NULL
, `auth_id` TEXT NOT NULL
, `created` DATETIME NOT NULL
, `o_auth_access_token` TEXT NULL, `o_auth_refresh_token` TEXT NULL, `o_auth_token_type` TEXT NULL, `o_auth_expiry` DATETIME NULL, `o_auth_id_token` TEXT NULL)}wA'?indexIDX_login_attempt_usernamelogin_attemptzCREATE INDEX `IDX_login_attempt_username` ON `login_attempt` (`username`)?Vv''?ktablelogin_attemptlogin_attemptyCREATE TABLE `login_attempt` (
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `username` TEXT NOT NULL
, `ip_address` TEXT NOT NULL
, `created` INTEGER NOT NULL DEFAULT 0
indexUQE_tag_key_valuetagwCREATE UNIQUE INDEX `UQE_tag_key_value` ON `tag` (`key`,`value`)?s?utabletagtagvCREATE TABLE `tag` (
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `key` TEXT NOT NULL
, `value` TEXT NOT NULL
)?rE'?'indexIDX_dashboard_acl_permissiondashboard_acluCREATE INDEX `IDX_dashboard_acl_permission` ON `dashboard_acl` (`permission`)qG'?/indexIDX_dashboard_acl_org_id_roledashboard_acltCREATE INDEX `IDX_dashboard_acl_org_id_role` ON `dashboard_acl` (`org_id`,`role`)zp?'?ndexIDX_dashboard_acl_team_iddashboard_aclsCREATE INDEX `IDX_dashboard_acl_team_id` ON `dashboard_acl` (`team_id`)zo?'?ndexIDX_dashboard_acl_user_iddashboard_aclrCREATE INDEX `IDX_dashboard_acl_user_id` ON `dashboard_acl` (`user_id`)?*nY'?aindexUQE_dashboard_acl_dashboard_id_team_iddashboard_aclqCREATE UNIQUE INDEX `UQE_dashboard_acl_dashboard_id_team_id` ON `dashboard_acl` (`dashboard_id`,`team_id`)?*mY'?aindexUQE_dashboard_acl_dashboard_id_user_iddashboard_acloCREATE UNIQUE INDEX `UQE_dashboard_acl_dashboard_id_user_id` ON `dashboard_acl` (`dashboard_id`,`user_id`)?	lI'?/indexIDX_dashboard_acl_dashboard_iddashboard_aclnCREATE INDEX `IDX_dashboard_acl_dashboard_id` ON `dashboard_acl` (`dashboard_id`)?`k''?tabledashboard_acldashboard_acllCREATE TABLE `dashboard_acl` (
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `org_id` INTEGER NOT NULL
, `dashboard_id` INTEGER NOT NULL
, `user_id` INTEGER NULL
, `team_id` INTEGER NULL
, `permission` INTEGER NOT NULL DEFAULT 4
, `role` TEXT NULL
, `created` DATETIME NOT NULL
, `updated` DATETIME NOT NULL
)
????	?
???	
???	
???
   ?Editor
          	?Viewer
???		
p?????p
       Admin10.4.1.1e?<
admin10.4.1.1e?2	admin10.4.1.1e?admin10.4.1.1e?Oadmin10.4.1.1e?,admin10.4.1.1e?$
???????	Admin
             	admin
	admin		admin   admin	admin
&?0?)
 ?
  ?
3recreate alert_definition tableCREATE TABLE IF NOT EXISTS `alert_definition` (
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `org_id` INTEGER NOT NULL
, `title` TEXT NOT NULL
, `condition` TEXT NOT NULL
, `data` TEXT NOT NULL
, `updated` DATETIME NOT NULL
, `interval_seconds` INTEGER NOT NULL DEFAULT 60
, `version` INTEGER NOT NULL DEFAULT 0
, `uid` TEXT NOT NULL DEFAULT 0
3create short_url table v1CREATE TABLE IF NOT EXISTS `short_url` (org_id_uid` ON `short_url` (`org_id`,`uid`);2023-12-14 01:03:36?6???	
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `org_id` INTEGER NOT NULL
, `uid` TEXT NOT NULL
, `path` TEXT NOT NULL
, `created_by` INTEGER NOT NULL
, `created_at` INTEGER NOT NULL
, `last_seen_at` INTEGER NULL
3create cache_data tableCREATE TABLE IF NOT EXISTS `cache_data` (che_data_cache_key` ON `cache_data` (`cache_key`);2023-12-14 01:03:36?X?;?Y	
`cache_key` TEXT PRIMARY KEY NOT NULL
, `data` BLOB NOT NULL
, `expires` INTEGER NOT NULL
, `created_at` INTEGER NOT NULL
3add unique index user_auth_token.prev_auth_tokenCREATE UNIQUE INDEX `UQE_user_auth_token_prev_auth_token` ON `user_auth_token` (`prev_auth_token`);2023-12-143create user auth token tableCREATE TABLE IF NOT EXISTS `user_auth_token` (uth_token_auth_token` ON `user_auth_token` (`auth_token`);2023-12-14 01:03:36?K?E?5
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `user_id` INTEGER NOT NULL
, `auth_token` TEXT NOT NULL
, `prev_auth_token` TEXT NOT NULL
, `user_agent` TEXT NOT NULL
, `client_ip` TEXT NOT NULL
, `auth_token_seen` INTEGER NOT NULL
, `seen_at` INTEGER NULL
, `rotated_at` INTEGER NOT NULL
, `created_at` INTEGER NOT NULL
, `updated_at` INTEGER NOT NULL
3create server_lock tableCREATE TABLE IF NOT EXISTS `server_lock` (_lock_operation_uid` ON `server_lock` (`operation_uid`);2023-12-14 01:03:36?q?=?		
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `operation_uid` TEXT NOT NULL
, `version` INTEGER NOT NULL
, `last_execution` INTEGER NOT NULL
);2023-12-14 01:03:35y?K?
3alter user_auth.auth_id to length 190SELECT 0;2023-12-14 01:03:35LUMN `o_auth_access_token` TEXT NULL 2023-12-14 01:03:35H?WS??	
?jj??%Ccleanup expired auth tokense??}"=cleanup old anon devicese??}%?delete old login attemptse{~%$?delete old login attempts?e?]
????=cleanup old anon devices?delete old login attemptsC	cleanup expired auth tokens





?O?p?|
 ?
  f
?
l	??j???11??tablealert_rule_versionalert_rule_version?CREATE TABLE `alert_rule_version` (
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `rule_org_id` INTEGER NOT NULL
, `rule_uid` TEXT NOT NULL DEFAULT 0
, `rule_namespace_uid` TEXT NOT NULL
, `rule_group` TEXT NOT NULL
, `parent_version` INTEGER NOT NULL
, `restored_from` INTEGER NOT NULL
, `version` INTEGER NOT NULL
, `created` DATETIME NOT NULL
, `title` TEXT NOT NULL
, `condition` TEXT NOT NULL
, `data` TEXT NOT NULL
, `i?e!?oindexIDX_alert_rule_org_id_dashboard_uid_panel_idalert_rule?CREATE INDEX `IDX_alert_rule_org_id_dashboard_uid_panel_id` ON `alert_rule` (`org_id`,`dashboard_uid`,`panel_id`)??C+?#indexIDX_user_auth_token_user_iduser_auth_token?CREATE INDEX `IDX_user_auth_token_user_id` ON `user_auth_token` (`user_id`)?"S+?QindexUQE_user_auth_token_prev_auth_tokenuser_auth_token?CREATE UNIQUE INDEX `UQE_user_auth_token_prev_auth_token` ON `user_auth_token` (`prev_auth_token`)?3?_!?qindexUQE_alert_rule_org_id_namespace_uid_titlealert_rule?CREATE UNIQUE INDEX `UQE_alert_rule_org_id_namespace_uid_title` ON `alert_rule` (`org_id`,`namespace_uid`,`title`)?;?i!?windexIDX_alert_rule_org_id_namespace_uid_rule_groupalert_rule?CREATE INDEX `IDX_alert_rule_org_id_namespace_uid_rule_group` ON `alert_?!?-indexUQE_alert_rule_org_id_uidalert_rule?CREATE UNIQUE INDEX `UQE_alert_rule_org_id_uid` ON `alert_rule` (`org_id`,`uid`)?f?
                                                                                                                                !!?tablealert_rulealert_rule?CREATE TABLE `alert_rule` (
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `org_id` INTEGER NOT NULL
, `title` TEXT NOT NULL
, `condition` TEXT NOT NULL
, `data` TEXT NOT NULL
, `updated` DATETIME NOT NULL
, `interval_seconds` INTEGER NOT NULL DEFAULT 60
, `version` INTEGER NOT NULL DEFAULT 0
, `uid` TEXT NOT NULL DEFAULT 0
, `namespace_uid` TEXT NOT NULL
, `rule_group` TEXT NOT NULL
, `no_data_state` TEXT NOT NULL DEFAULT 'NoData'
, `exec_err_state` TEXT NOT NULL DEFAULT 'Alerting'
, `for` INTEGER NOT NULL DEFAULT 0, `annotations` TEXT NULL, `labels` TEXT NULL, `dashboard_uid` TEXT NULL, `panel_id` INTEGER NULL, `rule_group_idx` INTEGER NOT NULL DEFAULT 1, `is_paused` INTEGER NOT NULL DEFAULT 0)?7?
e)?kindexIDX_alert_instance_rule_org_id_current_statealert_instance?CREATE INDEX `IDX_alert_instance_rule_org_id_current_state` ON `alert_instance` (`rule_org_id`,`current_state`)?T?	w)?indexIDX_alert_instance_rule_org_id_rule_uid_current_statealert_instance?CREATE INDEX `IDX_alert_instance_rule_org_id_rule_uid_current_state` ON `alert_instance` (`rule_org_id`,`rule_uid`,`current_state`)<O)indexsqlite_autoindex_alert_instance_1alert_instance??7?))?'tablealert_instancealert_instance?CREATE TABLE `alert_instance` (
"rule_org_id" INTEGER NOT NULL
, "rule_uid" TEXT NOT NULL DEFAULT 0
, `labels` TEXT NOT NULL
, `labels_hash` TEXT NOT NULL
, `current_state` TEXT NOT NULL
, `current_state_since` INTEGER NOT NULL
, `last_eval_time` INTEGER NOT NULL
, `current_state_end` INTEGER NOT NULL DEFAULT 0, `current_reason` TEXT NULL, PRIMARY KEY ( "rule_org_id","rule_uid",`labels_hash` ))}?=?)indexUQE_short_url_org_id_uidshort_url?CREATE UNIQUE INDEX `UQE_short_url_org_id_uid` ON `short_url` (`org_id`,`uid`)???stableshort_urlshort_url?CREATE TABLE `short_url` (
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `org_id` INTEGER NOT NULL
, `uid` TEXT NOT NULL
, `path` TEXT NOT NULL
, `created_by` INTEGER NOT NULL
, `created_at` INTEGER NOT NULL
, `last_seen_at` INTEGER NULL
)|?=!?%indexUQE_cache_data_cache_keycache_data?CREATE UNIQUE INDEX `UQE_cache_data_cache_key` ON `cache_data` (`cache_key`)4?G!indexsqlite_autoindex_cache_data_1cache_data??9?!!?;tablecache_datacache_data?CREATE TABLE `cache_data` (
`cache_key` TEXT PRIMARY KEY NOT NULL
, `data` BLOB NOT NULL
, `expires` INTEGER NOT NULL
, `created_at` INTEGER NOT NULL
)?
  ?I+?/indexIDX_user_auth_token_revoked_atuser_auth_token?CREATE INDEX `IDX_user_auth_token_revoked_at` ON `user_auth_token` (`revoked_at`)

4N?<
 s
  ?
   &
?
YTL?o??#?P?
3add column current_state_end to alert_instancealter table `alert_instance` ADD COLUMN `current_state_end` INTEGER NOT NULL DEFAULT 0 2023-12-14 01:03:37?P?E?3add index in alert_instance table on def_org_id, current_state columnsCREATE INDEX `IDX_alert_instance_def_org_id_current_state` ON `alert_instance` (`def_or3add index in alert_instance table on def_org_id, def_uid and current_state columnsCREATE INDEX `IDX_alert_instance_def_org_id_def_uid_current_state` ON `aler3create alert_instance tableCREATE TABLE IF NOT EXISTS `alert_instance` (?C?%	
`def_org_id` INTEGER NOT NULL
, `def_uid` TEXT NOT NULL DEFAULT 0
, `labels` TEXT NOT NULL
, `labels_hash` TEXT NOT NULL
, `current_state` TEXT NOT NULL
, `current_state_since` INTEGER NOT NULL
, `last_eval_time` INTEGER NOT NULL
3add index in alert_definition_version table on alert_definition_uid and version columnsCREATE UNIQUE INDEX `UQE_alert_definition_version_alert_definition_uid3add index in alert_definition_version table on alert_definition_id and version columnsCREATE UNIQUE INDEX `UQE_alert_definition_version_alert_definition_id_v3recreate alert_definition_version tableCREATE TABLE IF NOT EXISTS `alert_definition_version` (?{	
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `alert_definition_id` INTEGER NOT NULL
, `alert_definition_uid` TEXT NOT NULL DEFAULT 0
, `parent_version` INTEGER NOT NULL
, `restored_from` INTEGER NOT NULL
, `version` INTEGER NOT NULL
, `created` DATETIME NOT NULL
, `title` TEXT NOT NULL
, `condition` TEXT NOT NULL
, `data` TEXT NOT NULL
, `interval_seconds` INTEGER NOT NULL
3add unique index in alert_definition on org_id and uid columnsCREATE UNIQUE INDEX `UQE_alert_definition_org_id_uid` ON `alert_definition` (`org_id`,`uid`);203add unique index in alert_definition on org_id and title columnsCREATE UNIQUE INDEX `UQE_alert_definition_org_id_title` ON `alert_definition` (`org_id`,`titl3drop index in alert_definition on org_id and title columnsDROP INDEX `IDX_alert_definition_org_id_title`2023-12-14 01:03:36c?? 
3add index in alert_definition on org_id and uid columnsCREATE INDEX `IDX_alert_definition_org_id_uid` ON `alert_definition` (`org_id`,`uid`);2023-12-14 01:033add index in alert_definition on org_id and title columnsCREATE INDEX `IDX_alert_definition_org_id_title` ON `alert_definition` (`org_id`,`title`);2023-12-14 01:03:36
;l?
 ?
3add index in alert_rule on org_id, dashboard_uid and panel_id columnsCREATE INDEX `IDX_alert_rule_org_id_dashboard_uid_panel_id` ON `alert_rule` (`org_id`,`d3add index in alert_rule on org_id, namespase_uid and title columnsCREATE UNIQUE INDEX `UQE_alert_rule_org_id_namespace_uid_title` ON `alert_rule` (`org_id`,`3add index in alert_rule on org_id, namespace_uid, group_uid columnsCREATE INDEX `IDX_alert_rule_org_id_namespace_uid_rule_group` ON `alert_rule` (`org_id`,`n3add index in alert_rule on org_id and title columnsCREATE UNIQUE INDEX `UQE_alert_rule_org_id_title` ON `alert_rule` (`org_id`,`title`);2023-12-14 01:03:38?-3create alert_rule tableCREATE TABLE IF NOT EXISTS `alert_rule` (
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `org_id` INTEGER NOT NULL
, `title` TEXT NOT NULL
, `condition` TEXT NOT NULL
, `data` TEXT NOT NULL
, `updated` DATETIME NOT NULL
, `interval_seconds` INTEGER NOT NULL DEFAULT 60
, `version` INTEGER NOT NULL DEFAULT 0
, `uid` TEXT NOT NULL DEFAULT 0
, `namespace_uid` TEXT NOT NULL
, `rule_group` TEXT NOT NULL
, `no_data_state` TEXT NOT NULL DEFAULT 'NoData'
, `exec_err_state` TEXT NOT NULL DEFAULT 'Alerting'
3add index rule_org_id, current_state on alert_instanceCREATE INDEX `IDX_alert_instance_rule_org_id_current_state` ON `alert_instance` (`rule_org_id`,`current3add index rule_org_id, rule_uid, current_state on alert_instanceCREATE INDEX `IDX_alert_instance_rule_org_id_rule_uid_current_state` ON `alert_instance` (`ru3rename def_org_id to rule_org_id in alert_instanceALTER TABLE alert_instance RENAME COLUMN def_org_id TO rule_org_id;2023-12-14 01:03:37




~
 ?
  l

3add column send_alerts_to in ngalert_configurationalter table `ngalert_configuration` ADD COLUMN `send_alerts_to` INTEGER NOT NULL DEFAULT 0 2023-12-14 01:033add index in ngalert_configuration on org_id columnCREATE UNIQUE INDEX `UQE_ngalert_configuration_org_id` ON `ngalert_configuration` (`org_id`);2023-12-14 013create_ngalert_configuration_tableCREATE TABLE IF NOT EXISTS `ngalert_configuration` (
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `org_id` INTEGER NOT NULL
, `alertmanagers` TEXT NULL
, `created_at` INTEGER NOT NULL
, `updated_at` INTEGER NOT NULL
3add configuration_hash column to alert_configurationalter table `alert_configuration` ADD COLUMN `configuration_hash` TEXT NOT NULL DEFAULT 'not-yet-calculat3add index in alert_configuration table on org_id columnCREATE INDEX `IDX_alert_configuration_org_id` ON `alert_configuration` (`org_id`);2023-12-14 01:03:39?3create_alert_configuration_tableCREATE TABLE IF NOT EXISTS `alert_configuration` (UMN `default` INTEGER NOT NULL DEFAULT 0 2023-12-14 01:03:39??M?A    
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `alertmanager_configuration` TEXT NOT NULL
, `configuration_version` TEXT NOT NULL
, `created_at` INTEGER NOT NULL
3add rule_group_idx column to alert_rule_versionalter table `alert_rule_version` ADD COLUMN `rule_group_idx` INTEGER NOT NULL DEFAULT 1 2023-12-14 01:03:39?[?
3add column labels to alert_rule_versionalter table `alert_rule_version` ADD COLUMN `labels` TEXT NULL 2023-12-14 01:03:39?
3add column annotations to alert_rule_versionalter table `alert_rule_version` ADD COLUMN `annotations` TEXT NULL 2023-12-14 01:03:39?
3add index in alert_rule_version table on rule_org_id, rule_namespace_uid and rule_group columnsCREATE INDEX `IDX_alert_rule_version_rule_org_id_rule_namespac3add index in alert_rule_version table on rule_org_id, rule_uid and version columnsCREATE UNIQUE INDEX `UQE_alert_rule_version_rule_org_id_rule_uid_version` O3create alert_rule_version tableCREATE TABLE IF NOT EXISTS `alert_rule_version` (?K?	
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `rule_org_id` INTEGER NOT NULL
, `rule_uid` TEXT NOT NULL DEFAULT 0
, `rule_namespace_uid` TEXT NOT NULL
, `rule_group` TEXT NOT NULL
, `parent_version` INTEGER NOT NULL
, `restored_from` INTEGER NOT NULL
, `version` INTEGER NOT NULL
, `created` DATETIME NOT NULL
, `title` TEXT NOT NULL
, `condition` TEXT NOT NULL
, `data` TEXT NOT NULL
, `interval_seconds` INTEGER NOT NULL
, `no_data_state` TEXT NOT NULL DEFAULT 'NoData'
, `exec_err_state` TEXT NOT NULL DEFAULT 'Alerting'
);2023-12-14 01:03:38

:
 ?r+#%
      ?
       ]
?	??|?:?I3?=indexUQE_alert_configuration_org_idalert_configuration?CREATE UNIQUE INDEX `UQE_alert_configuration_org_id` ON `alert_configuration` (`org_id`)?Q?CC?'tablealert_configuration_historyalert_configuration_history?CREATE TABLE `alert_configuration_history` (
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `org_id` INTEGER NOT NULL DEFAULT 0
, `alertmanager_configuration` TEXT NOT NULL
, `configuration_hash` TEXT NOT NULL DEFAULT 'not-yet-calculated'
, `configuration_version` TEXT NOT NULL
, `created_at` INTEGER NOT NULL
, `default` INTEGER NOT NULL DEFAULT 0
, `last_applied` INTEGER NOT NULL DEFAULT 0)?5?e!?oindexIDX_alert_rule_org_id_dashboard_uid_panel_idalert_rule?CREATE INDEX `IDX_alert_rule_org_id_dashboard_uid_panel_id` ON `alert_rule` (`org_id`,`dashboard_uid`,`panel_id`)?
                                                                   ?11??tablealert_rule_versionalert_rule_version?CREATE TABLE `alert_rule_version` (
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `rule_org_id` INTEGER NOT NULL
, `rule_uid` TEXT NOT NULL DEFAULT 0
, `rule_namespace_uid` TEXT NOT NULL
, `rule_group` TEXT NOT NULL
, `parent_version` INTEGER NOT NULL
, `restored_from` INTEGER NOT NULL
, `version` INTEGER NOT NULL
, `created` DATETIME NOT NULL
, `title` TEXT NOT NULL
, `condition` TEXT NOT NULL
, `data` TEXT NOT NULL
, `interval_seconds` INTEGER NOT NULL
, `no_data_state` TEXT NOT NULL DEFAULT 'NoData'
, `exec_err_state` TEXT NOT NULL DEFAULT 'Alerting'
, `for` INTEGER NOT NULL DEFAULT 0, `annotations` TEXT NULL, `labels` TEXT NULL, `rule_group_idx` INTEGER NOT NULL DEFAULT 1, `is_paused` INTEGER NOT NULL DEFAULT 0)Be!?oindexIDX_alert_rule_org_id_dashboard_uid_panel_idalert_t?#?indexUQE_alert_image_tokenalert_image?CREATE UNIQUE INDEX `UQE_alert_image_token` ON `alert_image` (`token`)?y?##?7tablealert_imagealert_image?CREATE TABLE `alert_image` (
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `token` TEXT NOT NULL
, `path` TEXT NOT NULL
, `url` TEXT NOT NULL
, `created_at` DATETIME NOT NULL
, `expires_at` DATETIME NOT NULL
)?P?o+?indexUQE_provenance_type_record_type_record_key_org_idprovenance_type?CREATE UNIQUE INDEX `UQE_provenance_type_record_type_record_key_org_id` ON `provenance_type` (`record_type`,`record_key`,`org_id`)?r?++?tableprovenance_typeprovenance_type?CREATE TABLE `provenance_type` (
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `org_id` INTEGER NOT NULL
, `record_key` TEXT NOT NULL
, `record_type` TEXT NOT NULL
, `provenance` TEXT NOT NULL
)??M7?EindexUQE_ngalert_configuration_org_idngalert_configuration?CREATE UNIQUE INDEX `UQE_ngalert_configuration_org_id` ON `ngalert_configuration` (`org_id`)?5?77?tablengalert_configurationngalert_configuration?CREATE TABLE `ngalert_configuration` (
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `org_id` INTEGER NOT NULL
, `alertmanagers` TEXT NULL
, `created_at` INTEGER NOT NULL
, `updated_at` INTEGER NOT NULL
, `send_alerts_to` INTEGER NOT NULL DEFAULT 0)?
                                               ?33?;tablealert_configurationalert_configuration?CREATE TABLE `alert_configuration` (
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `alertmanager_configuration` TEXT NOT NULL
, `configuration_version` TEXT NOT NULL
, `created_at` INTEGER NOT NULL
1??indexIDX_alert_rule_version_rule_org_id_rule_namespace_uid_rule_groupalert_rule_version?CREATE INDEX `IDX_alert_rule_version_rule_org_id_rule_namespace_uid_rule_group` ON `alert_rule_version` (`rule_org_id`,`rule_namespace_uid`,`rule_group`)?Y?s1?indexUQE_alert_rule_version_rule_org_id_rule_uid_versionalert_rule@@?=sion?)REATE UNIQUE IM{EX `UQE_alert_rule_version_rule_org_id_rule_uid_version` ON `alert_rule_version` (`rule_org_id`,`rule_uid`,`version`)
	"alertmanager_config": {
		"route": {
			"receiver": "grafana-default-email",
			"group_by": ["grafana_folder", "alertname"]
		},
		"receivers": [{
			"name": "grafana-default-email",
			"grafana_managed_receiver_configs": [{
				"uid": "",
				"name": "email receiver",
				"type": "email",
				"isDefault": true,
				"settings": {
					"addresses": "<example@email.com>"
				}
			}]
		}]
	}
}
v1ezTqe0528a75784033ae7b15c40851d89484
??		
??
  ?
   _

3add unique index library_element org_id_uidCREATE UNIQUE INDEX `UQE_library_element_org_id_uid` ON `library_element` (`org_id`,`uid`);2023-12-14 01:03:40?w??3add index library_element_connection element_id-kind-connection_idCREATE UNIQUE INDEX `UQE_library_element_connection_element_id_kind_connection_id` ON `libr3create library_element_connection table v1CREATE TABLE IF NOT EXISTS `library_element_connection` (
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `element_id` INTEGER NOT NULL
, `kind` INTEGER NOT NULL
, `connection_id` INTEGER NOT NULL
, `created` DATETIME NOT NULL
, `created_by` INTEGER NOT NULL
);2023-12-14 01:03:40?N?u?
3add index library_element org_id-folder_id-name-kindCREATE UNIQUE INDEX `UQE_library_element_org_id_folder_id_name_kind` ON `library_element` (`org_id`,`fold3create library_element table v1CREATE TABLE IF NOT EXISTS `library_element` (
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `org_id` INTEGER NOT NULL
, `folder_id` INTEGER NOT NULL
, `uid` TEXT NOT NULL
, `name` TEXT NOT NULL
, `kind` INTEGER NOT NULL
, `type` TEXT NOT NULL
, `description` TEXT NOT NULL
, `model` TEXT NOT NULL
, `created` DATETIME NOT NULL
, `created_by` INTEGER NOT NULL
, `updated` DATETIME NOT NULL
, `updated_by` INTEGER NOT NULL
, `version` INTEGER NOT NULL
3add last_applied column to alert_configuration_historyalter table `alert_configuration_history` ADD COLUMN `last_applied` INTEGER NOT NULL DEFAULT 0 2023-12-3add unique index on orgID to alert_configurationCREATE UNIQUE INDEX `UQE_alert_configuration_org_id` ON `alert_configuration` (`org_id`);2023-12-14 01:03:40e3create_alert_configuration_history_tableCREATE TABLE IF NOT EXISTS `alert_configuration_history` (12-14 01:03:40?4?]?ow?wqc	
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `org_id` INTEGER NOT NULL DEFAULT 0
, `alertmanager_configuration` TEXT NOT NULL
, `configuration_hash` TEXT NOT NULL DEFAULT 'not-yet-calculated'
, `configuration_version` TEXT NOT NULL
, `created_at` INTEGER NOT NULL
, `default` INTEGER NOT NULL DEFAULT 0
3create alert_image tableCREATE TABLE IF NOT EXISTS `alert_image` (`UQE_alert_image_token` ON `alert_image` (`token`);2023-12-14 01:03:39??=?U	
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `token` TEXT NOT NULL
, `path` TEXT NOT NULL
, `url` TEXT NOT NULL
, `created_at` DATETIME NOT NULL
, `expires_at` DATETIME NOT NULL
);2023-12-14 01:03:39?^?r	?
3add index to uniquify (record_key, record_type, org_id) columnsCREATE UNIQUE INDEX `UQE_provenance_type_record_type_record_key_org_id` ON `provenance_type` (`record_type`,`record_key`,`org_id`);2023-12-14 01:03:39?
3create provenance_type tableCREATE TABLE IF NOT EXISTS `provenance_type` (
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `org_id` INTEGER NOT NULL
, `record_key` TEXT NOT NULL
, `record_type` TEXT NOT NULL
, `provenance` TEXT NOT NULL
);2023-12-14 01:03:39

;;?B
	?)M	{
	"alertmanager_config": {
		"route": {
			"receiver": "grafana-default-email",
			"group_by": ["grafana_folder", "alertname"]
		},
		"receivers": [{
			"name": "grafana-default-email",
			"grafana_managed_receiver_configs": [{
				"uid": "",
				"name": "email receiver",
				"type": "email",
				"isDefault": true,
				"settings": {
					"addresses": "<example@email.com>"
				}
			}]
		}]
	}
}
e0528a75784033ae7b15c40851d89484v1ezTqezT?

I;




tableteam_roleteam_role?CREATE TABLE `team_role` (ATE INDEX `IDX_team_role_org_id` ON `team_role` (`org_id`)?`?/?
`id` INTEG?5?indexUQE_role_org_id_namerole?CREATE UNIQUE INDEX `UQE_role_org_id_name` ON `role` (`org_id`,`name`)S?,+sindexIDX_role_org_idrole?CREATE INDEX `IDX_role_org_id` ON `role` (`org_id`)?p?+?Atablerolerole?CREATE TABLE `role` (
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `name` TEXT NOT NULL
, `description` TEXT NULL
, `version` INTEGER NOT NULL
, `org_id` INTEGER NOT NULL
, `uid` TEXT NOT NULL
, `created` DATETIME NOT NULL
, `updated` DATETIME NOT NULL
, `display_name` TEXT NULL, `group_name` TEXT NULL, `hidden` INTEGER NOT NULL DEFAULT 0)??I3?=indexUQE_alert_configuration_org_idalert_configuration?CREATE UNIQUE INDEX `UQE_alert_configuration_org_id` ON `alert_configuration` (`org_id`)?!?*S!?YindexUQE_permission_role_id_action_scopepermission?CREATE UNIQUE INDEX `UQE_permission_role_id_action_scope` ON `permission` (`role_id`,`action`,`scope`)o?)9!?indexIDX_permission_role_idpermission?CREATE INDEX `IDX_permission_role_id` ON `permission` (`role_id`)?g?(!!?tablepermissionpermission?CREATE TABLE `permission` (
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `role_id` INTEGER NOT NULL
, `action` TEXT NOT NULL
, `scope` TEXT NOT NULL
, `created` DATETIME NOT NULL
, `updated` DATETIME NOT NULL
, `kind` TEXT NOT NULL DEFAULT '', `attribute` TEXT NOT NULL DEFAULT '', `identifier` TEXT NOT NULL DEFAULT '')??'O?QindexUQE_kv_store_org_id_namespace_keykv_store?CREATE UNIQUE INDEX `UQE_kv_store_org_id_namespace_key` ON `kv_store` (`org_id`,`namespace`,`key`)?
                                                                                                         ?&?gtablekv_storekv_store?CREATE TABLE `kv_store` (
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `org_id` INTEGER NOT NULL
, `namespace` TEXT NOT NULL
, `key` TEXT NOT NULL
, `value` TEXT NOT NULL
, `created` DATETIME NOT NULL
, `updated` DATETIME NOT NULL
)??%_tablesecretssecrets?CREATE TABLE `secrets` (
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `org_id` INTEGER NOT NULL
, `namespace` TEXT NOT NULL
, `type` TEXT NOT NULL
, `value` TEXT NULL
, `created` DATETIME NOT NULL
, `updated` DATETIME NOT NULL
)2?$Eindexsqlite_autoindex_data_keys_1data_keys??+?#?#tabledata_keysdata_keys?CREATE TABLE `data_keys` (
"name" TEXT PRIMARY KEY NOT NULL
, `active` INTEGER NOT NULL
, `scope` TEXT NOT NULL
, `provider` TEXT NOT NULL
, `encrypted_data` BLOB NOT NULL
, `created` DATETIME NOT NULL
, `updated` DATETIME NOT NULL
, "label" TEXT NOT NULL DEFAULT '')??"I+?AindexUQE_library_element_org_id_uidlibrary_element?CREATE UNIQUE INDEX `UQE_library_element_org_id_uid` ON `library_element` (`org_id`,`uid`)?}??A?=indexUQE_library_element_connection_element_id_kind_connection_idlibrary_element_connection?CREATE UNIQUE INDEX `UQE_library_element_connection_element_id_kind_connection_id` ON `library_element_connection` (`element_id`,`kind`,`connection_id`)?:? AA?}tablelibrary_element_connectionlibrary_element_connection?CREATE TABLE `library_element_connection` (
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `element_id` INTEGER NOT NULL
, `kind` INTEGER NOT NULL
, `connection_id` INTEGER NOT NULL
, `created` DATETIME NOT NULL
, `created_by` INTEGER NOT NULL
)?I?i+?	indexUQE_library_element_org_id_folder_id_name_kindlibrary_element?CREATE UNIQUE INDEX `UQE_library_element_org_id_folder_id_name_kind` ON `library_element` (`org_id`,`folder_id`,`name`,`kind`)?f?++?tablelibrary_elementlibrary_element?CREATE TABLE `library_element` (
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `org_id` INTEGER NOT NULL
, `folder_id` INTEGER NOT NULL
, `uid` TEXT NOT NULL
, `name` TEXT NOT NULL
, `kind` INTEGER NOT NULL
, `type` TEXT NOT NULL
, `description` TEXT NOT NULL
, `model` TEXT NOT NULL
, `created` DATETIME NOT NULL
, `created_by` INTEGER NOT NULL
, `updated` DATETIME NOT NULL
, `updated_by` INTEGER NOT NULL
, `version` INTEGER NOT NULL
)

5?
 ?
  R
   ?
    a
.	?	?d?w
3add unique index team_role_org_id_team_id_role_idCREATE UNIQUE INDEX `UQE_team_role_org_id_team_id_role_id` ON `team_role` (`org_id`,`team_id`,`role_id`);2023create team role tableCREATE TABLE IF NOT EXISTS `team_role` (ON `team_role` (`org_id`);2023-12-14 01:03:42?9?+	
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `org_id` INTEGER NOT NULL
, `team_id` INTEGER NOT NULL
, `role_id` INTEGER NOT NULL
, `created` DATETIME NOT NULL
3create role tableCREATE TABLE IF NOT EXISTS `role` ( `display_name` TEXT NULL 2023-12-14 01:03:41?>/?1);2023-12-14 01:03:42c?7u	
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `name` TEXT NOT NULL
, `description` TEXT NULL
, `version` INTEGER NOT NULL
, `org_id` INTEGER NOT NULL
, `uid` TEXT NOT NULL
, `created` DATETIME NOT NULL
, `updated` DATETIME NOT NULL
3add unique index role_id_action_scopeCREATE UNIQUE INDEX `UQE_permission_role_id_action_scope` ON `permission` (`role_id`,`action`,`scope`);2023-12-14 01:03:3create permission tableCREATE TABLE IF NOT EXISTS `permission` (role_id` ON `permission` (`role_id`);2023-12-14 01:03:41?;?Y	
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `role_id` INTEGER NOT NULL
, `action` TEXT NOT NULL
, `scope` TEXT NOT NULL
, `created` DATETIME NOT NULL
, `updated` DATETIME NOT NULL
3update dashboard_uid and panel_id from existing annotationsset dashboard_uid and panel_id migration2023-12-14 01:03:41?%?
3add index kv_store.org_id-namespace-keyCREATE UNIQUE INDEX `UQE_kv_store_org_id_namespace_key` ON `kv_store` (`org_id`,`namespace`,`key`);2023-12-14 01:03:41?/?
3create kv_store table v1CREATE TABLE IF NOT EXISTS `kv_store` (
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `org_id` INTEGER NOT NULL
, `namespace` TEXT NOT NULL
, `key` TEXT NOT NULL
, `value` TEXT NOT NULL
, `created` DATETIME NOT NULL
, `updated` DATETIME NOT NULL
);2023-12-14 01:03:41u?
3create secrets tableCREATE TABLE IF NOT EXISTS `secrets` (RENAME COLUMN `name` TO `id`2023-12-14 01:03:40?'5?}:03:40p?Qu{	
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `org_id` INTEGER NOT NULL
, `namespace` TEXT NOT NULL
, `type` TEXT NOT NULL
, `value` TEXT NULL
, `created` DATETIME NOT NULL
, `updated` DATETIME NOT NULL
3create data_keys tableCREATE TABLE IF NOT EXISTS `data_keys` (
`name` TEXT PRIMARY KEY NOT NULL
, `active` INTEGER NOT NULL
, `scope` TEXT NOT NULL
, `provider` TEXT NOT NULL
, `encrypted_data` BLOB NOT NULL
, `created` DATETIME NOT NULL
, `updated` DATETIME NOT NULL
?;2023-w?J?4 01:?3:40   ??	wk    -53Sinfra.usagestatslast_sent2023-12-22T01:03:58Z2023-12-15 01:03:572023-12-22 01:03:58.253234084+00:-%U33infra.usagesta33alertmanagersilences2023-12-14 01:18:452023-12-14 01:18:4/%533plugin.publickeyslast_updated2023-12-14T01:03:58Z2023-12-14 01:03:582023-12-14 01:03:58?    /5?33plugin.publickeyskey-7e4d0c6a708866e7-----BEGIN PGP PUBLIC KEY BLOCK-----
Version: OpenPGP.js v4.10.1
Comment: https://openpgpjs.org

xpMEXpTXXxMFK4EEACMEIwQBiOUQhvGbDLvndE0fEXaR0908wXzPGFpf0P0Z
HJ06tsq+0higIYHp7WTNJVEZtcwoYLcPRGaa9OQqbUU63BEyZdgAkPTz3RFd
5+TkDWZizDcaVFhzbDd500yTwexrpIrdInwC/jrgs7Zy/15h8KA59XXUkdmT
YB6TR+OA9RKME+dCJozNGUdyYWZhbmEgPGVuZ0BncmFmYW5hLmNvbT7CvAQQ
EwoAIAUCXpTXXwYLCQcIAwIEFQgKAgQWAgEAAhkBAhsDAh4BAAoJEH5NDGpw
iGbnaWoCCQGQ3SQnCkRWrG6XrMkXOKfDTX2ow9fuoErN46BeKmLM4f1EkDZQ
Tpq3SE8+My8B5BIH3SOcBeKzi3S57JHGBdFA+wIJAYWMrJNIvw8GeXne+oUo
NzzACdvfqXAZEp/HFMQhCKfEoWGJE8d2YmwY2+3GufVRTI5lQnZOHLE8L/Vc
1S5MXESjzpcEXpTXXxIFK4EEACMEIwQBtHX/SD5Qm3v4V92qpaIZQgtTX0sT
cFPjYWAHqsQ1iENrYN/vg1wU3ADlYATvydOQYvkTyT/tbDvx2Fse8PL84MQA
YKKQ6AJ3gLVvmeouZdU03YoV4MYaT8KbnJUkZQZkqdz2riOlySNI9CG3oYmv
omjUAtzgAgnCcurfGLZkkMxlmY8DAQoJwqQEGBMKAAkFAl6U118CGwwACgkQ
fk0ManCIZuc0jAIJAVw2xdLr4ZQqPUhubrUyFcqlWoW8dQoQagwO8s8ubmby
KuLA9FWJkfuuRQr+O9gHkDVCez3aism7zmJBqIOi38aNAgjJ3bo6leSS2jR/
x5NqiKVi83tiXDPncDQYPymOnMhW0l7CVA7wj75HrFvvlRI/4MArlbsZ2tBn
N1c5v9v/4h6qeA==
=DNbR
-----END PGP PUBLIC KEY BLOCK-----
2023-12-14 01:03:582023-12-14 01:03:5!7!33datasourcesecretMigrationStatuscompatible2023-12-14 01:03:582023-12-14 01:03:5/3Sngalert.migrationmigratedtrue2023-12-14 01:03:452023-12-14 01:03:57.889511397+00:00f       /K33ngalert.migrationstateKey{"orgId":1,"createdFolders":[]}2023-12-14 01:03:572023-12-14 01:03:5G   %33alertmanagernotifications2023-12-14 01:18:452023-12-14 01:18:45
	?????oK+-infra.usagestatslast_sent	-%infra.usagestatsanonymous_id  %alertmanagersilences	%'alertmanagernotifications/%plugin.publickeyslast_updated/5plugin.publickeyskey-7e4d0c6a708866e7!7datasourcesecretMigrationStatus	/ngalert.migrationstateKe/	ngalert.migrationmigrated






?0??:
.
 ?

?	?	>?@?????8C??9#?indexIDX_correlation_org_idcorrelation?CREATE INDEX `IDX_correlation_org_id` ON `correlation` (`org_id`)?X##?mtablecorrelationcorrelation?CREATE TABLE `correlation` (
`uid` TEXT NOT NULL
, `org_id` INTEGER NOT NULL DEFAULT 0
, `source_uid` TEXT NOT NULL
, `target_uid` TEXT NULL
, `label` TEXT NOT NULL
, `description` TEXT NOT NULL
, `config` TEXT NULL
, `provisioned` INTEGER NOT NULL DEFAULT 0, PRIMARY KEY ( `uid`,`org_id`,`source_uid` ))?e?B11?stablequery_history_starquery_history_star?CREATE TABLE `query_history_star` (
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `query_uid` TEXT NOT NULL
, `user_id` INTEGER NOT NULL
, `org_id` INTEGER NOT NULL DEFAULT 1)???@''?;tablequery_historyquery_history?CREATE TABLE `query_history` (
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `uid` TEXT NOT NULL
, `org_id` INTEGER NOT NULL
, `datasource_uid` TEXT NOT NULL
, `created_by` INTEGER NOT NULL
, `created_at` INTEGER NOT NULL
, `comment` TEXT NOT NULL
, `queries` TEXT NOT NULL
tableteam_roleteam_role?CREATE TABLE `team_role` (DEX `IDX_team_role_org_id` ON `team_role` (`org_id`)?`?/?
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `org_id` INTEGER NOT NULL
, `team_id` INTEGER NOT NULL
, `role_id` INTEGER NOT NULL
, `created` DATETIME NOT NULL
)'85?indexUQE_role_org_id_namerole?CREATE UNIQUE Il?-5?indexUQE_role_org_id_namerole?CREATE UNIQUE INDEX `UQE_role_org_id_name` ON `role` (`org_id`,`name`)S?,+sindexIDX_role_org_idrole?CREATE INDEX `IDX_role_org_id` ON `role` (`org_id`)?6?C]1?iindexUQE_query_history_star_user_id_query_uidquery_history_star?CREATE UNIQUE INDEX `UQE_query_history_star_user_id_query_uid` ON `query_history_star` (`user_id`,`query_uid`)Q?<%uindexUQE_role_uidrole?CREATE UNIQUE INDEX `UQE_role_uid` ON `role` (`uid`)?&?;U%?]indexUQE_builtin_role_org_id_role_id_rolebuiltin_role?CREATE UNIQUE INDEX `UQE_builtin_role_org_id_role_id_role` ON `builtin_role` (`org_id`,`role_id`,`role`)t?:;%?indexIDX_builtin_role_org_idbuiltin_role?CREATE INDEX `IDX_builtin_role_org_id` ON `builtin_role` (`org_id`)n?97%?
                                                                                                                                                       indexIDX_builtin_role_rolebuiltin_role?CREATE INDEX `IDX_builtin_role_role` ON `builtin_role` (`role`)w?8=%?indexIDX_builtin_role_role_idbuiltin_role?CREATE INDEX `IDX_builtin_role_role_id` ON `builtin_role` (`role_id`)?
?7%%?Utablebuiltin_rolebuiltin_role?CREATE TABLE `builtin_role` (
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `role` TEXT NOT NULL
, `role_id` INTEGER NOT NULL
, `created` DATETIME NOT NULL
, `updated` DATETIME NOT NULL
, `org_id` INTEGER NOT NULL DEFAULT 0)k?67?
                                           indexIDX_user_role_user_iduser_role?CREATE INDEX `IDX_user_role_user_id` ON `user_role` (`user_id`)?#?5U?]indexUQE_user_role_org_id_user_id_role_iduser_role?CREATE UNIQUE INDEX `UQE_user_role_org_id_user_id_role_id` ON `user_role` (`org_id`,`user_id`,`role_id`)h?45?indexIDtableuser_roleuser_role?CREATE TABLE `user_role` (_role_org_id` ON `user_role` (`org_id`)?`?3?
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `org_id` INTEGER NOT NULL
, `user_id` INTEGER NOT NULL
, `role_id` INTEGER NOT NULL
, `created` DATETIME NOT NULL
)k?27?
      indexIDX_team_role_team_idteam_role?CREATE INDEX `IDX_team_role_team_id` ON `team_role` (`team_id`)?#?1U?]indexUQE_team_role_org_id_team_id_role_idteam_role?CREATE UNIQUE INDEX `UQE_team_role_org_id_team_id_role_id` ON `team_role` (`org_id`,`team_id`,`role_id`)?3#?indexS?|?IA#?indexIDX_correlation_source_uidcorrelation?CREATE INDEX `IDX_correlation_source_uid` ON `correlation` (`source_uid`)?J?Aq'?indexIDX_query_history_org_id_created_by_datasource_uidquery_history?CREATE INDEX `IDX_query_history_org_id_created_by_datasource_uid` ON `query_history` (`org_id`,`created_by`,`datasource_uid`)x???!?ndexIDX_permission_identifierpermission?CREATE INDEX `IDX_permission_identifier` ON `permission` (`identifier`)
T??
 N
  ?
   S
?
3add index query_history.org_id-created_by-datasource_uidCREATE INDEX `IDX_query_history_org_id_created_by_datasource_uid` ON `query_history` (`org_id`,`creat3create query_history table v1CREATE TABLE IF NOT EXISTS `query_history` (
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `uid` TEXT NOT NULL
, `org_id` INTEGER NOT NULL
, `datasource_uid` TEXT NOT NULL
, `created_by` INTEGER NOT NULL
, `created_at` INTEGER NOT NULL
, `comment` TEXT NOT NULL
, `queries` TEXT NOT NULL
3add unique index builtin_role_role_nameCREATE UNIQUE INDEX `UQE_seed_assignment_builtin_role_role_name` ON `seed_assignment` (`builtin_role`,`role_name`);2023create seed assignment tableCREATE TABLE IF NOT EXISTS `seed_assignment` (
`builtin_role` TEXT NOT NULL
, `role_name` TEXT NOT NULL
3add unique index builtin_role_org_id_role_id_roleCREATE UNIQUE INDEX `UQE_builtin_role_org_id_role_id_role` ON `builtin_role` (`org_id`,`role_id`,`role`);2023add index builtin_role.org_idCREATE INDEX `IDX_builtin_role_org_id` ON `builtin_role` (`org_id`);2023-12-14 01:03:42?
3create builtin role tableCREATE TABLE IF NOT EXISTS `builtin_role` (` ON `builtin_role` (`role_id`);2023-12-14 01:03:42???) 01:03:42v?C?
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `role` TEXT NOT NULL
, `role_id` INTEGER NOT NULL
, `created` DATETIME NOT NULL
, `updated` DATETIME NOT NULL
3add unique index user_role_org_id_user_id_role_idCREATE UNIQUE INDEX `UQE_user_role_org_id_user_id_role_id` ON `user_role` (`org_id`,`user_id`,`role_id`);2023create user role tableCREATE TABLE IF NOT EXISTS `user_role` (ON `user_role` (`org_id`);2023-12-14 01:03:42??+	
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `org_id` INTEGER NOT NULL
, `user_id` INTEGER NOT NULL
, `role_id` INTEGER NOT NULL
, `created` DATETIME NOT NULL
);2023-12-14 01:03:42










nk
 c
  ?
   e
?
?
3create dashboard public config v1CREATE TABLE IF NOT EXISTS `dashboard_public_config` (uid`2023-12-14 01:03:43???O?board_uid`2023-12-14 01:03:43u?Kke	
`uid` TEXT PRIMARY KEY NOT NULL
, `dashboard_uid` TEXT NOT NULL
, `org_id` INTEGER NOT NULL
, `time_settings` TEXT NOT NULL
, `refresh_rate` INTEGER NOT NULL DEFAULT 30
, `template_variables` TEXT NULL
3create entity_events tableCREATE TABLE IF NOT EXISTS `entity_event` (
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `entity_id` TEXT NOT NULL
, `event_type` TEXT NOT NULL
, `created` INTEGER NOT NULL
3copy correlation v1 to v2INSERT INTO `correlation` (`uid`ion_tmp_qwerty`2023-12-14 01:03:43????1LT 0 2023-12-14 01:03:43b?GCg	
, `source_uid`
, `target_uid`
, `label`
, `description`
, `config`) SELECT `uid`
, `source_uid`
, `target_uid`
, `label`
, `description`
3create correlation v2CREATE TABLE IF NOT EXISTS `correlation` (ion_uid` ON `correlation` (`uid`);2023-12-14 01:03:43?E?7?7-12-14 01:03:43|?W?	
`uid` TEXT NOT NULL
, `org_id` INTEGER NOT NULL DEFAULT 0
, `source_uid` TEXT NOT NULL
, `target_uid` TEXT NULL
, `label` TEXT NOT NULL
, `description` TEXT NOT NULL
, `config` TEXT NULL
3create correlation table v1CREATE TABLE IF NOT EXISTS `correlation` (elation` (`uid`);2023-12-14 01:03:43??C?/3-12-14 01:03:43q?A?3:43k?@a[	
`uid` TEXT NOT NULL
, `source_uid` TEXT NOT NULL
, `target_uid` TEXT NULL
, `label` TEXT NOT NULL
, `description` TEXT NOT NULL
3add index query_history.user_id-query_uidCREATE UNIQUE INDEX `UQE_query_history_star_user_id_query_uid` ON `query_history_star` (`user_id`,`query_uid`);2023-3create query_history_star table v1CREATE TABLE IF NOT EXISTS `query_history_star` (
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `query_uid` TEXT NOT NULL
, `user_id` INTEGER NOT NULL
);2023-12-14 01:03:43

?

?a(???1
       ?
        ?

         X
?	A?V?`???##?Wtableanon_deviceanon_device?CREATE TABLE `anon_device` (
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `client_ip` TEXT NOT NULL
, `created_at` DATETIME NOT NULL
, `device_id` TEXT NOT NULL
, `updated_at` DATETIME NOT NULL
, `user_agent` TEXT NOT NULL
)??_Q?UindexUQE_folder_title_parent_uid_org_idfolder?CREATE UNIQUE INDEX `UQE_folder_title_parent_uid_org_id` ON `folder` (`title`,`parent_uid`,`org_id`)q?^7?indexUQE_folder_uid_org_idfolder?CREATE UNIQUE INDEX `UQE_folder_uid_org_id` ON `folder` (`uid`,`org_id`)?]E?+indexIDX_folder_parent_uid_org_idfolder?CREATE INDEX `IDX_folder_parent_uid_org_id` ON `folder` (`parent_uid`,`org_id`)??\?tablefolderfolder?CREATE TABLE `folder` (
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `uid` TEXT NOT NULL
, `org_id` INTEGER NOT NULL
, `title` TEXT NOT NULL
, `description` TEXT NULL
, `parent_uid` TEXT NULL
, `created` DATETIME NOT NULL
, `updated` DATETIME NOT NULL
)?2?[a+?cindexUQE_seed_assignment_builtin_role_role_nameseed_assignment?CREATE UNIQp?J9#?indexIDX_correlation_org_idcorrelation?CREATE INDEX `IDX_correlation_org_id` ON `correlation` (`org_id`)|?IA#?indexIDX_correlation_source_uidcorrelation?CREATE INDEX `IDX_correlation_source_uid` ON `correlation` (`source_uid`)g?H3#?indexIDX_correlation_uidcorrelation?CREATE INDEX `IDX_correlation_uid` ON `correlation` (`uid`)6?GI#indexsqlite_autoindex_correlation_1correlationтT?F##?mtablecorrelationcorrelation?CREATE TABLE `correlation` (
`uid` TEXT NOT NULL
, `org_id` INTEGER NOT NULL DEFAULT 0
, `source_uid` TEXT NOT NULL
, `target_uid` TEXT NULL
, `label` TEXT NOT NULL
, `description` TEXT NOT NULL
, `config` TEXT NULL
, `provisioned` INTEGER NOT NULL DEFAULT 0, PRIMARY KEY ( `uid`,`org_id`,`source_uid` ))??T?Utablefile_metafile_meta?CREATE TABLE `file_meta` (
`path_hash` TEXT NOT NULL
, `key` TEXT NOT NULL
, `value` TEXT NOT NULL
indexUQE_file_path_hashfile?CREATE UNIQUE INDEX `UQE_file_path_hash` ON `file` (`path_hash`)?r?Q?Etablefilefile?CREATE TABLE `file` ()d?R1?
`path` TEXT NOT NULL
, `path_hash` TEXT NOT NULL
, `parent_folder_path_hash` TEXT NOT NULL
, `contents` BLOB NOT NULL
, `etag` TEXT NOT NULL
, `cache_control` TEXT NOT NULL
, `content_disposition` TEXT NOT NULL
, `updated` DATETIME NOT NULL
, `created` DATETIME NOT NULL
, `size` INTEGER NOT NULL
, `mime_type` TEXT NOT NULL
)?+?P]-?WindexUQE_dashboard_public_config_access_tokendashboard_public?CREATE UNIQUE INDEX `UQE_dashboard_public_config_access_token` ON "dashboard_public" (`access_token`)?>?Om-?mindexIDX_dashboard_public_config_org_id_dashboard_uiddashboard_public?CREATE INDEX `IDX_dashboard_public_config_org_id_dashboard_uid` ON "dashboard_public" (`org_id`,`dashboard_uid`)??NK-?3indexUQE_dashboard_public_config_uiddashboard_public?CREATE UNIQUE INDEX `UQE_dashboard_public_config_uid` ON "dashboard_public" (`uid`)@?MS-indexsqlite_autoindex_dashboard_public_1dashboard_publicׄ<?L--?)tabledashboard_publicdashboard_public?CREATE TABLE "dashboard_public" (
`uid` TEXT PRIMARY KEY NOT NULL
, `dashboard_uid` TEXT NOT NULL
, `org_id` INTEGER NOT NULL
, `time_settings` TEXT NULL
, `template_variables` TEXT NULL
, `access_token` TEXT NOT NULL
, `created_by` INTEGER NOT NULL
, `updated_by` INTEGER NULL
, `created_at` DATETIME NOT NULL
, `updated_at` DATETIME NULL
, `is_enabled` INTEGER NOT NULL DEFAULT 0
, `annotations_enabled` INTEGER NOT NULL DEFAULT 0, `time_selection_enabled` INTEGER NOT NULL DEFAULT 0, `share` TEXT NOT NULL DEFAULT 'public')?K?K%%?Wtableentity_evententity_event?CREATE TABLE `entity_event` (
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `entity_id` TEXT NOT NULL
, `event_type` TEXT NOT NULL
, `created` INTEGER NOT NULL
)

6?
 ?
  !
   ?	?	b??d?3?$?
3create file_meta tableCREATE TABLE IF NOT EXISTS `file_meta` (
`path_hash` TEXT NOT NULL
, `key` TEXT NOT NULL
, `value` TEXT NOT NULL
3file table idx: parent_folder_path_hash fast folder retrievalCREATE INDEX `IDX_file_parent_folder_path_hash` ON `file` (`parent_folder_path_hash`);2023-12-143create file tableCREATE TABLE IF NOT EXISTS `file` (UQE_file_path_hash` ON `file` (`path_hash`);2023-12-14 01:03:44??/?c	
`path` TEXT NOT NULL
, `path_hash` TEXT NOT NULL
, `parent_folder_path_hash` TEXT NOT NULL
, `contents` BLOB NOT NULL
, `etag` TEXT NOT NULL
, `cache_control` TEXT NOT NULL
, `content_disposition` TEXT NOT NULL
, `updated` DATETIME NOT NULL
, `created` DATETIME NOT NULL
, `size` INTEGER NOT NULL
, `mime_type` TEXT NOT NULL
);2023-12-14 01:03:44?
3create index UQE_dashboard_public_config_access_token - v2CREATE UNIQUE INDEX `UQE_dashboard_public_config_access_token` ON `dashboard_public_config` (`acces3create index IDX_dashboard_public_config_org_id_dashboard_uid - v2CREATE INDEX `IDX_dashboard_public_config_org_id_dashboard_uid` ON `dashboard_public_config3create index UQE_dashboard_public_config_uid - v2CREATE UNIQUE INDEX `UQE_dashboard_public_config_uid` ON `dashboard_public_config` (`uid`);2023-12-14 01:03:3Recreate dashboard public config v2CREATE TABLE IF NOT EXISTS `dashboard_public_config` (
`uid` TEXT PRIMARY KEY NOT NULL
, `dashboard_uid` TEXT NOT NULL
, `org_id` INTEGER NOT NULL
, `time_settings` TEXT NULL
, `template_variables` TEXT NULL
, `access_token` TEXT NOT NULL
, `created_by` INTEGER NOT NULL
, `updated_by` INTEGER NULL
, `created_at` DATETIME NOT NULL
, `updated_at` DATETIME NULL
, `is_enabled` INTEGER NOT NULL DEFAULT 0
3create index IDX_dashboard_public_config_org_id_dashboard_uid - v1CREATE INDEX `IDX_dashboard_public_config_org_id_dashboard_uid` ON `dashboard_public_config3create index UQE_dashboard_public_config_uid - v1CREATE UNIQUE INDEX `UQE_dashboard_public_config_uid` ON `dashboard_public_config` (`uid`);2023-12-14 01:03:3recreate dashboard public config v1CREATE TABLE IF NOT EXISTS `dashboard_public_config` (
`uid` TEXT PRIMARY KEY NOT NULL
, `dashboard_uid` TEXT NOT NULL
, `org_id` INTEGER NOT NULL
, `time_settings` TEXT NOT NULL
, `refresh_rate` INTEGER NOT NULL DEFAULT 30
, `template_variables` TEXT NULL
);2023-12-14 01:03:43
???




x.??4
?
 9
  ?
   ?

3Add unique index for title, parent_uid, and org_idCREATE UNIQUE INDEX `UQE_folder_title_parent_uid_org_id` ON `folder` (`title`,`parent_uid`,`org_id`);2023-13Add unique index for folder.title and folder.parent_uidCREATE UNIQUE INDEX `UQE_folder_title_parent_uid` ON `folder` (`title`,`parent_uid`);2023-12-14 01:03:3create folder tableCREATE TABLE IF NOT EXISTS `folder` (uid_org_id` ON `folder` (`parent_uid`,`org_id`);2023-12-14 01:03:44???3?/-14 01:03:44??=?-	
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `uid` TEXT NOT NULL
, `org_id` INTEGER NOT NULL
, `title` TEXT NOT NULL
, `description` TEXT NULL
, `parent_uid` TEXT NULL
, `created` DATETIME NOT NULL
, `updated` DATETIME NOT NULL
3add unique index builtin_role_action_scopeCREATE UNIQUE INDEX `UQE_seed_assignment_builtin_role_action_scope` ON `seed_assignment` (`builtin_role`,`action`,`3add unique index builtin_role_name backCREATE UNIQUE INDEX `UQE_seed_assignment_builtin_role_role_name` ON `seed_assignment` (`builtin_role`,`role_name`);2023update seed_assignment role_name column to nullableALTER TABLE seed_assignment ADD COLUMN tmp_role_name VARCHAR(190) DEFAULT NULL;
UPDATE seed_assignment SET tmp_role_name = role_name;
ALTER TABLE seed_assignment DROP COLUMN role_name;
3file table idx: path keyCREATE UNIQUE INDEX `UQE_file_meta_path_hash_key` ON `file_meta` (`path_hash`,`key`);2023-12-14 01:03:44U] 01:03:44y?S?	
??



??A
 ?

  ?
3create signing_key tableCREATE TABLE IF NOT EXISTS `signing_key` (g_key_key_id` ON `signing_key` (`key_id`);2023-12-14 01:03:45?=?Y	
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `key_id` TEXT NOT NULL
, `private_key` TEXT NOT NULL
, `added_at` DATETIME NOT NULL
, `expires_at` DATETIME NULL
, `alg` TEXT NOT NULL
3create anon_device tableCREATE TABLE IF NOT EXISTS `anon_device` (n_device_device_id` ON `anon_device` (`device_id`);2023-12-14 01:03:45?'=?u	
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `client_ip` TEXT NOT NULL
, `created_at` DATETIME NOT NULL
, `device_id` TEXT NOT NULL
, `updated_at` DATETIME NOT NULL
, `user_agent` TEXT NOT NULL
);2023-12-14 01:03:45
grafana-84bc59ff4f-vxgqz:/usr/share/grafana$ exit
exit
























































































<<K9s-Shell>> Pod: monitoring/grafana-84bc59ff4f-vxgqz | Container: grafana 
grafana-84bc59ff4f-vxgqz:/usr/share/grafana$ cat /var/lib/grafana/grafana.db
SQLite format 3@  ????._
                        ??????????????
                                      ^
                                       ?n?R?s=?indexIDX_dashboard_account_iddashboardCREATE INDEX `IDX_dashboard_account_id` ON `dashboard` (`account_id`)?*?#tabledashboarddashboardCREATE TABLE `dashboard` (
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `version` INTEGER NOT NULL
, `slug` TEXT NOT NULL
, `title` TEXT NOT NULL
, `data` TEXT NOT NULL
, `account_id` INTEGER NOT NULL
, `created` DATETIME NOT NULL
, `updated` DATETIME NOT NULL
)f5?indexIDX_org_user_user_idorg_userCREATE INDEX `IDX_org_user_user_id` ON `org_user` (`user_id`)?C?5indexUQE_org_user_org_id_user_idorg_userCREATE UNIQUE INDEX `UQE_org_user_org_id_user_id` ON `org_user` (`org_id`,`user_id`)c3?indexIDX_org_user_org_idorg_userCREATE INDEX `IDX_org_user_org_id` ON `org_user` (`org_id`)?g?5tableorgorgCREATE TABLE `org` (
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `version` INTEGER NOT NULL
, `name` TEXT NOT NULL
, `address1` TEXT NULL
, `address2` TEXT NULL
, `city` TEXT NULL
, `state` TEXT NULL
, `zip_code` TEXT NULL
, `country` TEXT NULL
, `billing_email` TEXT NULL
, `created` DATETIME NOT NULL
, `updated` DATETIME NOT NULL
5?indexIDX_temp_user_statustemp_userCREATE INDEX `IDX_temp_user_status` ON `temp_user` (`status`)`
                                                                                                  1indexIDX_temp_user_codetemp_user	CREATE INDEX `IDX_temp_user_code` ON `temp_user` (`code`)g
                                    5?indexIDX_temp_user_org_idtemp_userCREATE INDEX `IDX_temp_user_org_id` ON `temp_user` (`org_id`)?^	?
                                                                                                                                         tabletemp_usertemp_user
  CREATE TABLE `temp_user` (
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `org_id` INTEGER NOT NULL
, `version` INTEGER NOT NULL
, `email` TEXT NOT NULL
, `name` TEXT NULL
, `role` TEXT NULL
, `code` TEXT NOT NULL
, `status` TEXT NOT NULL
, `invited_by_user_id` INTEGER NULL
, `email_sent` INTEGER NOT NULL
, `email_sent_on` DATETIME NULL
, `remote_addr` TEXT NULL
, `created` INTEGER NOT NULL DEFAULT 0
, `updated` INTEGER NOT NULL DEFAULT 0
)?R?tableuseruserCREATE TABLE `user` (
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `version` INTEGER NOT NULL
, `login` TEXT NOT NULL
, `email` TEXT NOT NULL
, `name` TEXT NULL
, `password` TEXT NULL
, `salt` TEXT NULL
, `rands` TEXT NULL
, `company` TEXT NULL
, `org_id` INTEGER NOT NULL
, `is_admin` INTEGER NOT NULL
, `email_verified` INTEGER NULL
, `theme` TEXT NULL
, `created` DATETIME NOT NULL
, `updated` DATETIME NOT NULL
, `help_flags1` INTEGER NOT NULL DEFAULT 0, `last_seen_at` DATETIME NULL, `is_disabled` INTEGER NOT NULL DEFAULT 0, is_service_account BOOLEAN DEFAULT 0)V)}indexUQE_user_emailuserCREATE UNIQUE INDEX `UQE_user_email` ON `user` (`email`)V)}indexUQE_user_loginuserCREATE UNIQUE INDEX `UQE_user_login` ON `user` (`login`)
 {O%uindexUQE_org_nameorgCREATE UNIQUE INDEX `UQE_org_name` ON `org` (`name`)d
CREATE INDEX `IDX_temp_user_email` ON `temp_user` (`email`)d5?
                                                              indexIDX_user_login_emailuserCREATE INDEX `IDX_user_login_email` ON `user` (`login`,`email`)??t?;tableorg_userorg_userCREATE TABLE `org_user` (
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `org_id` INTEGER NOT NULL
, `user_id` INTEGER NOT NULL
, `role` TEXT NOT NULL
, `created` DATETIME NOT NULL
, `updated` DATETIME NOT NULL
)?G?=indexUQE_star_user_id_dashboard_idstarCREATE UNIQUE INDEX `UQE_star_user_id_dashboard_id` ON `star` (`user_id`,`dashboard_id`)?tablestarstaCREATE TABLE `star` (
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `user_id` INTEGER NOT NULL
, `dashboard_id` INTEGER NOT NULL
)P++Ytablesqlite_sequencesqlite_sequenceCREATE TABLE sqlite_sequence(name,seq)?''?Atablemigration_logmigration_logCREATE TABLE `migration_log` (
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `migration_id` TEXT NOT NULL
, `sql` TEXT NOT NULL
3create temp user table v1-7CREATE TABLE IF NOT EXISTS `temp_user` (???C?	
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `org_id` INTEGER NOT NULL
, `version` INTEGER NOT NULL
, `email` TEXT NOT NULL
, `name` TEXT NULL
, `role` TEXT NULL
, `code` TEXT NOT NULL
, `status` TEXT NOT NULL
, `invited_by_user_id` INTEGER NULL
, `email_sent` INTEGER NOT NULL
, `email_sent_on` DATETIME NULL
, `remote_addr` TEXT NULL
, `created` DATETIME NOT NULL
, `updated` DATETIME NOT NULL
3Update is_service_account column to nullableALTER TABLE user ADD COLUMN tmp_service_account BOOLEAN DEFAULT 0;
UPDATE user SET tmp_service_account = is_service_account;
ALTER TABLE user DROP COLUMN is_service_account;
3Add column help_flags1 to user tablealter table `user` ADD COLUMN `help_flags1` INTEGER NOT NULL DEFAULT 0 2023-12-14 01:03:19N1:03:20K?
3Drop old table user_v1DROP TABLE IF EXISTS `user_v1`2023-12-14 01:03:19?v                                                      9I	
3copy data_source v1 to v2INSERT INTO `user` (`version`                  ??	
, `name`
, `is_admin`
, `email`
, `password`
, `salt`
, `rands`
, `login`
, `org_id`
, `updated`
, `id`
, `company`
, `created`) SELECT `version`
, `name`
, `is_admin`
, `email`
, `password`
, `salt`
, `rands`
, `login`
, `account_id`
, `updated`
, `id`
, `company`
, `created` FROM `user_v1`2023-12-14 01:03:19s
3create user table v2CREATE TABLE IF NOT EXISTS `user` (E_user_login` ON `user` (`login`);2023-12-14 01:03:195?uM	
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `version` INTEGER NOT NULL
, `login` TEXT NOT NULL
, `email` TEXT NOT NULL
, `name` TEXT NULL
, `password` TEXT NULL
, `salt` TEXT NULL
, `rands` TEXT NULL
, `company` TEXT NULL
, `org_id` INTEGER NOT NULL
, `is_admin` INTEGER NOT NULL
, `email_verified` INTEGER NULL
, `theme` TEXT NULL
, `created` DATETIME NOT NULL
, `updated` DATETIME NOT NULL
3create user tableCREATE TABLE IF NOT EXISTS `user` (user_login` ON `user` (`login`);2023-12-14 01:03:19?/?     
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `version` INTEGER NOT NULL
, `login` TEXT NOT NULL
, `email` TEXT NOT NULL
, `name` TEXT NULL
, `password` TEXT NULL
, `salt` TEXT NULL
, `rands` TEXT NULL
, `company` TEXT NULL
, `account_id` INTEGER NOT NULL
, `is_admin` INTEGER NOT NULL
, `created` DATETIME NOT NULL
, `updated` DATETIME NOT NULL
3create migration_log tableCREATE TABLE IF NOT EXISTS `migration_log` (
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `migration_id` TEXT NOT NULL
,?~؃a̓M??6??????p??]??H|?3m?`?Z?sP?ZE?B:?-1?*{!_H
                                                -
????????zdQ?+?	????
                    'login_attempt

kv_store	#server_lockC	alert_configuration_history3	alert_configuration    folder
        kv_store                                                                             	org_user	org?
                seed_assignment	login_attempt
'dashboard_acl	dashboard_versioannotation_tag'migration_log
pi_keydashboard_provisioning
                           dashboard
                                   temp_user	useralert_rule_tag
??+	adminadmin@localhost
adminadmin@localhost5719a164a0381efb3760fcfa207c36d2a6bc81f0e6e01a4b36b41ab6fc1f400efc13a9cf6e05e11b6feca8a47d0394425f20Y0iSnIYZAz4rCBAFBX7B2023-12-14 01:03:452023-12-14 01:03:452013-12-14 01:03:45
??+	admin@localhost
,?
 ?
  L
   ?
    ?
3create temp user table v1-7CREATE TABLE IF NOT EXISTS `temp_user` (
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `org_id` INTEGER NOT NULL
, `version` INTEGER NOT NULL
, `email` TEXT NOT NULL
, `name` TEXT NULL
, `role` TEXT NULL
, `code` TEXT NOT NULL
, `status` TEXT NOT NULL
, `invited_by_user_id` INTEGER NULL
, `email_sent` INTEGER NOT NULL
, `email_sent_on` DATETIME NULL
, `remote_addr` TEXT NULL
, `created` DATETIME NOT NULL
, `updated` DATETIME NOT NULL
3Update is_service_account column to nullableALTER TABLE user ADD COLUMN tmp_service_account BOOLEAN DEFAULT 0;
UPDATE user SET tmp_service_account = is_service_account;
ALTER TABLE user DROP COLUMN is_service_account;
3Add column help_flags1 to user tablealter table `user` ADD COLUMN `help_flags1` INTEGER NOT NULL DEFAULT 0 2023-12-14 01:03:19N1:03:20K?
3Drop old table user_v1DROP TABLE IF EXISTS `user_v1`2023-12-14 01:03:19?v                                                      9I	
3copy data_source v1 to v2INSERT INTO `user` (`version`                  ??	
, `name`
, `is_admin`
, `email`
, `password`
, `salt`
, `rands`
, `login`
, `org_id`
, `updated`
, `id`
, `company`
, `created`) SELECT `version`
, `name`
, `is_admin`
, `email`
, `password`
, `salt`
, `rands`
, `login`
, `account_id`
, `updated`
, `id`
, `company`
, `created` FROM `user_v1`2023-12-14 01:03:19s
3create user table v2CREATE TABLE IF NOT EXISTS `user` (E_user_login` ON `user` (`login`);2023-12-14 01:03:195?uM	
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `version` INTEGER NOT NULL
, `login` TEXT NOT NULL
, `email` TEXT NOT NULL
, `name` TEXT NULL
, `password` TEXT NULL
, `salt` TEXT NULL
, `rands` TEXT NULL
, `company` TEXT NULL
, `org_id` INTEGER NOT NULL
, `is_admin` INTEGER NOT NULL
, `email_verified` INTEGER NULL
, `theme` TEXT NULL
, `created` DATETIME NOT NULL
, `updated` DATETIME NOT NULL
3create user tableCREATE TABLE IF NOT EXISTS `user` (user_login` ON `user` (`login`);2023-12-14 01:03:19?/?     
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `version` INTEGER NOT NULL
, `login` TEXT NOT NULL
, `email` TEXT NOT NULL
, `name` TEXT NULL
, `password` TEXT NULL
, `salt` TEXT NULL
, `rands` TEXT NULL
, `company` TEXT NULL
, `account_id` INTEGER NOT NULL
, `is_admin` INTEGER NOT NULL
, `created` DATETIME NOT NULL
, `updated` DATETIME NOT NULL
3create migration_log tableCREATE TABLE IF NOT EXISTS `migration_log` (
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `migration_id` TEXT NOT NULL
, `sql` TEXT NOT NULL
, `success` INTEGER NOT NULL
, `error` TEXT NOT NULL
, `timestamp` DATETIME NOT NULL
S??023-12-14 01:03:19
 ?
  ?
   4
3create org_user table v1CREATE TABLE IF NOT EXISTS `org_user` (_org_id` ON `org_user` (`org_id`);2023-12-14 01:03:22?=?Y	
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `org_id` INTEGER NOT NULL
, `user_id` INTEGER NOT NULL
, `role` TEXT NOT NULL
, `created` DATETIME NOT NULL
, `updated` DATETIME NOT NULL
3create org table v1CREATE TABLE IF NOT EXISTS `org` (E_org_name` ON `org` (`name`);2023-12-14 01:03:22?3?S	
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `version` INTEGER NOT NULL
, `name` TEXT NOT NULL
, `address1` TEXT NULL
, `address2` TEXT NULL
, `city` TEXT NULL
, `state` TEXT NULL
, `zip_code` TEXT NULL
, `country` TEXT NULL
, `billing_email` TEXT NULL
, `created` DATETIME NOT NULL
, `updated` DATETIME NOT NULL
3create star tableCREATE TABLE IF NOT EXISTS `star` (QUE INDEX `UQE_star_user_id_dashboard_id` ON `star` (`user_id`,`dashboard_id`);2023-12-14 01:03:22?A/?7	
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `user_id` INTEGER NOT NULL
, `dashboard_id` INTEGER NOT NULL
3copy temp_user v1 to v2INSERT INTO `temp_user` (`version`tmp_qwerty`2023-12-14 01:03:21?;?U1:03:22^&?c	
, `name`
, `email_sent`
, `email_sent_on`
, `code`
, `status`
, `invited_by_user_id`
, `remote_addr`
, `id`
, `org_id`
, `email`
, `role`) SELECT `version`
, `name`
, `email_sent`
, `email_sent_on`
, `code`
, `status`
, `invited_by_user_id`
, `remote_addr`
, `id`
, `org_id`
, `email`
3create temp_user v2CREATE TABLE IF NOT EXISTS `temp_user` (_user_email` ON `temp_user` (`email`);2023-12-14 01:03:21?|3?)?	
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `org_id` INTEGER NOT NULL
, `version` INTEGER NOT NULL
, `email` TEXT NOT NULL
, `name` TEXT NULL
, `role` TEXT NULL
, `code` TEXT NOT NULL
, `status` TEXT NOT NULL
, `invited_by_user_id` INTEGER NULL
, `email_sent` INTEGER NOT NULL
, `email_sent_on` DATETIME NULL
, `remote_addr` TEXT NULL
, `created` INTEGER NOT NULL DEFAULT 0
, `updated` INTEGER NOT NULL DEFAULT 0
3create index IDX_temp_user_email - v1-7CREATE INDEX `IDX_temp_user_email` ON `temp_user` (`email`);2023-12-14 01:03:20:20[?:21_UO	



33Main Org.2023-12-14 01:03:452023-12-14 01:03:45
??
??2     Main Org33Admin2023-12-14 01:03:452023-12-14 01:03:45
??		
???T    		
 }
  ?
   [
3drop table dashboard_v1DROP TABLE IF EXISTS `dashboard_v1`2023-12-14 01:03:23?ated_by` INTEGER NULL 2023-12-14 01:03:23H?W23-12-14 01:03:24tDO24?U?5	
3copy dashboard v1 to v2INSERT INTO `dashboard` (`data`
, `org_id`
, `created`
, `updated`
, `id`
, `version`
, `slug`
, `title`) SELECT `data`
, `account_id`
, `created`
, `updated`
, `id`
, `version`
, `slug`
3create dashboard v2CREATE TABLE IF NOT EXISTS `dashboard` (hboard_org_id` ON `dashboard` (`org_id`);2023-12-14 01:03:23?D3?92023-12-14 01:03:23Y?		
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `version` INTEGER NOT NULL
, `slug` TEXT NOT NULL
, `title` TEXT NOT NULL
, `data` TEXT NOT NULL
, `org_id` INTEGER NOT NULL
, `created` DATETIME NOT NULL
, `updated` DATETIME NOT NULL
3add unique index dashboard_tag.dasboard_id_termCREATE UNIQUE INDEX `UQE_dashboard_tag_dashboard_id_term` ON `dashboard_tag` (`dashboard_id`,`term`);2023-12-13create dashboard_tag tableCREATE TABLE IF NOT EXISTS `dashboard_tag` (
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `dashboard_id` INTEGER NOT NULL
, `term` TEXT NOT NULL
3create dashboard tableCREATE TABLE IF NOT EXISTS `dashboard` (unt_id` ON `dashboard` (`account_id`);2023-12-14 01:03:23?K9?Aslug`);2023-12-14 01:03:23I?	
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `version` INTEGER NOT NULL
, `slug` TEXT NOT NULL
, `title` TEXT NOT NULL
, `data` TEXT NOT NULL
, `account_id` INTEGER NOT NULL
, `created` DATETIME NOT NULL
, `updated` DATETIME NOT NULL
3create index UQE_org_user_org_id_user_id - v1CREATE UNIQUE INDEX `UQE_org_user_org_id_user_id` ON `org_user` (`org_id`,`user_id`);2023-12-14 01:03:22
??		



W?R
?
?
 q
  ?=
??
  ^
   ?n???O
         ?
          W?G?=indexUQE_dashboard_account_id_slugdashboardCREATE UNIQUE INDEX `UQE_dashboard_account_id_slug` ON `dashboard` (`account_id`,`slug`)s=?indexIDX_dashboard_account_iddashboardCREATE INDEX `IDX_dashboard_account_id` ON `dashboard` (`account_id`)?*?#tabledashboarddashboardCREATE TABLE `dashboard` (
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `version` I
             W?''?tabledashboard_tagdashboard_tagCREATE TABLE `dashboard_tag` (
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `dashboard_id` INTEGER NOT NULL
, `term` TEXT NOT NULL
)f5?indexIDX_org_user_user_idorg_userCREATE INDEX `IDX_org_user_user_id` ON `org_user` (`user_id`)?C?5indexUQE_org_user_org_id_user_idorg_userCREATE UNIQUE INDEX `UQE_org_user_org_id_user_id` ON `org_user` (`org_id`,`user_id`)c3?indexIDX_org_user_org_idorg_userCREATE INDEX `IDX_org_user_org_id` ON `org_user` (`org_id`)?g?5tableorgorgCREATE TABLE `org` (
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `version` INTEGER NOT NULL
, `name` TEXT NOT NULL
, `address1` TEXT NULL
, `address2` TEXT NULL
, `city` TEXT NULL
, `state` TEXT NULL
, `zip_code` TEXT NULL
, `country` TEXT NULL
, `billing_email` TEXT NULL
, `created` DATETIME NOT NULL
, `updated` DATETIME NOT NULL
5?indexIDX_temp_user_statustemp_userCREATE INDEX `IDX_temp_user_status` ON `temp_user` (`status`)`
                                                                                                  1indexIDX_temp_user_codetemp_user	CREATE INDEX `IDX_temp_user_code` ON `temp_user` (`code`)g
                                    5?indexIDX_temp_user_org_idtemp_userCREATE INDEX `IDX_temp_user_org_id` ON `temp_user` (`org_id`)?^	?
                                                                                                                                         tabletemp_usertemp_user
  CREATE TABLE `temp_user` (
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `org_id` INTEGER NOT NULL
, `version` INTEGER NOT NULL
, `email` TEXT NOT NULL
, `name` TEXT NULL
, `role` TEXT NULL
, `code` TEXT NOT NULL
, `status` TEXT NOT NULL
, `invited_by_user_id` INTEGER NULL
, `email_sent` INTEGER NOT NULL
, `email_sent_on` DATETIME NULL
, `remote_addr` TEXT NULL
, `created` INTEGER NOT NULL DEFAULT 0
, `updated` INTEGER NOT NULL DEFAULT 0
)?R?tableuseruserCREATE TABLE `user` (
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `version` INTEGER NOT NULL
, `login` TEXT NOT NULL
, `email` TEXT NOT NULL
, `name` TEXT NULL
, `password` TEXT NULL
, `salt` TEXT NULL
, `rands` TEXT NULL
, `company` TEXT NULL
, `org_id` INTEGER NOT NULL
, `is_admin` INTEGER NOT NULL
, `email_verified` INTEGER NULL
, `theme` TEXT NULL
, `created` DATETIME NOT NULL
, `updated` DATETIME NOT NULL
, `help_flags1` INTEGER NOT NULL DEFAULT 0, `last_seen_at` DATETIME NULL, `is_disabled` INTEGER NOT NULL DEFAULT 0, is_service_account BOOLEAN DEFAULT 0)V)}indexUQE_user_emailuserCREATE UNIQUE INDEX `UQE_user_email` ON `user` (`email`)V)}indexUQE_user_loginuserCREATE UNIQUE INDEX `UQE_user_login` ON `user` (`login`)
 {O%uindexUQE_org_nameorgCREATE UNIQUE INDEX `UQE_org_name` ON `org` (`name`)d
CREATE INDEX `IDX_temp_user_email` ON `temp_user` (`email`)d5?
                                                              indexIDX_user_login_emailuserCREATE INDEX `IDX_user_login_email` ON `user` (`login`,`email`)??t?;tableorg_userorg_userCREATE TABLE `org_user` (
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `org_id` INTEGER NOT NULL
, `user_id` INTEGER NOT NULL
, `role` TEXT NOT NULL
, `created` DATETIME NOT NULL
, `updated` DATETIME NOT NULL
)?G?=indexUQE_star_user_id_dashboard_idstarCREATE UNIQUE INDEX `UQE_star_user_id_dashboard_id` ON `star` (`user_id`,`dashboard_id`)?tablestarstaCREATE TABLE `star` (
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `user_id` INTEGER NOT NULL
, `dashboard_id` INTEGER NOT NULL
)P++Ytablesqlite_sequencesqlite_sequenceCREATE TABLE sqlite_sequence(name,seq)?''?Atablemigration_logmigration_logCREATE TABLE `migration_log` (
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `migration_id` TEXT NOT NULL
, `sql` TEXT NOT NULL
, `success` INTEGER NOT NULL
, `error` TEXT NOT NULL
, `timestamp` DATETIME NOT NULL
Z?
 ?
  d
   ?
    Z
?	?F?0?l?UI
                 7^]+indUtableapi_keyapi_key0CREATE TABLE `api_key` (
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `org_id` INTEGER NOT NULL
, `name` TEXT NOT NULL
, `key` TEXT NOT NULL
, `role` TEXT NOT NULL
, `created` DATETIME NOT NULL
, `updated` DATETIME NOT NULL
, `expires` INTEGER NULL, `service_account_id` INTEGER NULL, `last_used_at` DATETIME NULL, `is_revoked` INTEGER NULL DEFAULT 0)?-O#??indexIDX_data_source_org_id_is_defaultdata_source-CREATE INDEX `IDX_data_source_org_id_is_default` ON `data_source` (`org_id`,`is_default`)?,A#?1indexUQE_data_source_org_id_uiddata_source(CREATE UNIQUE INDEX `UQE_data_source_org_id_uid` ON `data_source` (`org_id`,`uid`)?0''?tabledashboard_tagdashboard_tagCREATE TABLE `dashboard_tag` (
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `dashboard_id` INTEGER NOT NULL
, `term` TEXT NOT NULL
)?+C#?5indexUQE_data_source_org_id_namedata_source,CREATE UNIQUE INDEX `UQE_data_source_org_id_name` ON `data_source` (`org_id`,`name`)o*9#?indexIDX_data_source_org_iddata_source)CREATE INDEX `IDX_data_source_org_id` ON `data_source` (`org_id`)?")##?
                                                                                            tabledata_sourcedata_source+CREATE TABLE `data_source` (
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `org_id` INTEGER NOT NULL
, `version` INTEGER NOT NULL
, `type` TEXT NOT NULL
, `name` TEXT NOT NULL
, `access` TEXT NOT NULL
, `url` TEXT NOT NULL
, `password` TEXT NULL
, `user` TEXT NULL
, `database` TEXT NULL
, `basic_auth` INTEGER NOT NULL
, `basic_auth_user` TEXT NULL
, `basic_auth_password` TEXT NULL
, `is_default` INTEGER NOT NULL
, `json_data` TEXT NULL
, `created` DATETIME NOT NULL
, `updated` DATETIME NOT NULL
, `with_credentials` INTEGER NOT NULL DEFAULT 0, `secure_json_data` TEXT NULL, `read_only` INTEGER NULL, `uid` TEXT NOT NULL DEFAULT 0)p';?indexIDX_dashboard_is_folderdashboard'CREATE INDEX `IDX_dashboard_is_folder` ON `dashboard` (`is_folder`)d&3?indexIDX_dashboard_titledashboard#CREATE INDEX `IDX_dashboard_title` ON `dashboard` (`title`)?>%e9?kindexIDX_dashboard_provisioning_dashboard_id_namedashboard_provisioning&CREATE INDEX `IDX_dashboard_provisioning_dashboard_id_name` ON `dashboard_provisioning` (`dashboard_id`,`name`)?-$[9?SindexIDX_dashboard_provisioning_dashboard_iddashboard_provisioning%CREATE INDEX `IDX_dashboard_provisioning_dashboard_id` ON `dashboard_provisioning` (`dashboard_id`)?##99?atabledashboard_provisioningdashboard_provisioning$CREATE TABLE `dashboard_provisioning` (
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `dashboard_id` INTEGER NULL
, `name` TEXT NOT NULL
, `external_id` TEXT NOT NULL
, `updated` INTEGER NOT NULL DEFAULT 0
, `check_sum` TEXT NULL)?"!U?]indexUQE_dashboard_org_id_folder_id_titledashboard CREATE UNIQUE INDEX `UQE_dashboard_org_id_folder_id_title` ON `dashboard` (`org_id`,`folder_id`,`title`)| =?)indexUQE_dashboard_org_id_uiddashboard"CREATE UNIQUE INDEX `UQE_dashboard_org_id_uid` ON `dashboard` (`org_id`,`uid`)?	I'?/indexIDX_dashboard_tag_dashboard_iddashboard_tagCREATE INDEX `IDX_dashboard_tag_dashboard_id` ON `dashboard_tag` (`dashboard_id`)?I?3indexIDX_dashboard_org_id_plugin_iddashboardCREATE INDEX `IDX_dashboard_org_id_plugin_id` ON `dashboard` (`org_id`,`plugin_id`)j7?
                                                                                                       indexIDX_dashboard_gnet_iddashboardCREATE INDEX `IDX_dashboard_gnet_id` ON `dashboard` (`gnet_id`)g?indexIDX_dashboard_org_iddashboardCREATE INDEX `IDX_dashboard_org_id` ON `dashboard` (`org_id`)?:?CtabledashboarddashboardCREATE TABLE `dashboard` (
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `version` INTEGER NOT NULL
, `slug` TEXT NOT NULL
, `title` TEXT NOT NULL
, `data` TEXT NOT NULL
, `org_id` INTEGER NOT NULL
, `created` DATETIME NOT NULL
, `updated` DATETIME NOT NULL
, `updated_by` INTEGER NULL, `created_by` INTEGER NULL, `gnet_id` INTEGER NULL, `plugin_id` TEXT NULL, `folder_id` INTEGER NOT NULL DEFAULT 0, `is_folder` INTEGER NOT NULL DEFAULT 0, `has_acl` INTEGER NOT NULL DEFAULT 0, `uid` TEXT NULL, `is_public` INTEGER NOT NULL DEFAULT 0)

?w?j
 ?
  ?
   F
    ?
3create data_source tableCREATE TABLE IF NOT EXISTS `data_source` (
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `account_id` INTEGER NOT NULL
, `version` INTEGER NOT NULL
, `type` TEXT NOT NULL
, `name` TEXT NOT NULL
, `access` TEXT NOT NULL
, `url` TEXT NOT NULL
, `password` TEXT NULL
, `user` TEXT NULL
, `database` TEXT NULL
, `basic_auth` INTEGER NOT NULL
, `basic_auth_user` TEXT NULL
, `basic_auth_password` TEXT NULL
, `is_default` INTEGER NOT NULL
, `created` DATETIME NOT NULL
, `updated` DATETIME NOT NULL
3delete stars for deleted dashboardsDELETE FROM star WHERE dashboard_id NOT IN (SELECT id FROM dashboard)2023-12-14 01:03:25?   
3copy dashboard_provisioning v1 to v2INSERT INTO `dashboard_provisioning` (`id`ning_tmp_qwerty`2023-12-14 01:03:25?sU?u2-14 01:03:25tG? 
, `dashboard_id`
, `name`
, `external_id`) SELECT `id`
, `dashboard_id`
, `name`
3create index IDX_dashboard_provisioning_dashboard_id_name - v2CREATE INDEX `IDX_dashboard_provisioning_dashboard_id_name` ON `dashboard_provisioning` (`dashb3create index IDX_dashboard_provisioning_dashboard_id - v2CREATE INDEX `IDX_dashboard_provisioning_dashboard_id` ON `dashboard_provisioning` (`dashboard_id`);3create dashboard_provisioning v2CREATE TABLE IF NOT EXISTS `dashboard_provisioning` (
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `dashboard_id` INTEGER NULL
, `name` TEXT NOT NULL
, `external_id` TEXT NOT NULL
, `updated` INTEGER NOT NULL DEFAULT 0
3Rename table dashboard_provisioning to dashboard_provisioning_tmp_qwerty - v1ALTER TABLE `dashboard_provisioning` RENAME TO `dashboard_provisioning_tmp_qwert3create dashboard_provisioningCREATE TABLE IF NOT EXISTS `dashboard_provisioning` (
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `dashboard_id` INTEGER NULL
, `name` TEXT NOT NULL
, `external_id` TEXT NOT NULL
, `updated` DATETIME NOT NULL
3Add unique index for dashboard_org_id_title_folder_idCREATE UNIQUE INDEX `UQE_dashboard_org_id_folder_id_title` ON `dashboard` (`org_id`,`folder_id`,`title`)3Add column folder_id in dashboardalter table `dashboard` ADD COLUMN `folder_id` INTEGER NOT NULL DEFAULT 0 2023-12-14 01:03:24O?!:03:24}W?	






nx?d
 -
?
3create api_key tableCREATE TABLE IF NOT EXISTS `api_key` (unt_id` ON `api_key` (`account_id`);2023-12-14 01:03:27?(5?;2023-12-14 01:03:27k7?	
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `account_id` INTEGER NOT NULL
, `name` TEXT NOT NULL
, `key` TEXT NOT NULL
, `role` TEXT NOT NULL
, `created` DATETIME NOT NULL
, `updated` DATETIME NOT NULL
3add unique index datasource_org_id_is_defaultCREATE INDEX `IDX_data_source_org_id_is_default` ON `data_source` (`org_id`,`is_default`);2023-12-14 01:03:27?Y?3Add uid columnalter table `data_source` ADD COLUMN `uid` TEXT NOT NULL DEFAULT 0 2023-12-14 01:03:26uC? (`org_id`,`uid`);2023-12-14 01:03:26Wq-g	
3create data_source table v2CREATE TABLE IF NOT EXISTS `data_source` (_org_id` ON `data_source` (`org_id`);2023-12-14 01:03:25?>C?;2023-12-14 01:03:25?]?	
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `org_id` INTEGER NOT NULL
, `version` INTEGER NOT NULL
, `type` TEXT NOT NULL
, `name` TEXT NOT NULL
, `access` TEXT NOT NULL
, `url` TEXT NOT NULL
, `password` TEXT NULL
, `user` TEXT NULL
, `database` TEXT NULL
, `basic_auth` INTEGER NOT NULL
, `basic_auth_user` TEXT NULL
, `basic_auth_password` TEXT NULL
, `is_default` INTEGER NOT NULL
, `json_data` TEXT NULL
, `created` DATETIME NOT NULL
, `updated` DATETIME NOT NULL
3add unique index data_source.account_id_nameCREATE UNIQUE INDEX `UQE_data_source_account_id_name` ON `data_source` (`account_id`,`name`);2023-12-14 01:03:25?3add index data_source.account_idCREATE INDEX `IDX_data_source_account_id` ON `data_source` (`account_id`);2023-12-14 01:03:25


N?[
 b


  ?
   R
?
>	?	7???
3create quota table v1CREATE TABLE IF NOT EXISTS `quota` (
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `org_id` INTEGER NULL
, `user_id` INTEGER NULL
, `target` TEXT NOT NULL
, `limit` INTEGER NOT NULL
, `created` DATETIME NOT NULL
, `updated` DATETIME NOT NULL
3Change dashboard_encrypted column to MEDIUMBLOBSELECT 0;2023-12-14 01:03:28?
3Add column external_delete_url to dashboard_snapshots tablealter table `dashboard_snapshot` ADD COLUMN `external_delete_url` TEXT NULL 2023-12-14 01:03:28P?m3create index IDX_dashboard_snapshot_user_id - v5CREATE INDEX `IDX_dashboard_snapshot_user_id` ON `dashboard_snapshot` (`user_id`);2023-12-14 01:03:28?-?
3create index UQE_dashboard_snapshot_delete_key - v5CREATE UNIQUE INDEX `UQE_dashboard_snapshot_delete_key` ON `dashboard_snapshot` (`delete_key`);2023-12-14 01:03:28??
3create index UQE_dashboard_snapshot_key - v5CREATE UNIQUE INDEX `UQE_dashboard_snapshot_key` ON `dashboard_snapshot` (`key`);2023-12-14 01:03:28?Z?
3create dashboard_snapshot table v5 #2CREATE TABLE IF NOT EXISTS `dashboard_snapshot` (
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `name` TEXT NOT NULL
, `key` TEXT NOT NULL
, `delete_key` TEXT NOT NULL
, `org_id` INTEGER NOT NULL
, `user_id` INTEGER NOT NULL
, `external` INTEGER NOT NULL
, `external_url` TEXT NOT NULL
, `dashboard` TEXT NOT NULL
, `expires` DATETIME NOT NULL
, `created` DATETIME NOT NULL
, `updated` DATETIME NOT NULL
3create dashboard_snapshot table v4CREATE TABLE IF NOT EXISTS `dashboard_snapshot` (-14 01:03:28?Q?	
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `name` TEXT NOT NULL
, `key` TEXT NOT NULL
, `dashboard` TEXT NOT NULL
, `expires` DATETIME NOT NULL
, `created` DATETIME NOT NULL
, `updated` DATETIME NOT NULL
3copy api_key v1 to v2INSERT INTO `api_key` (`key`i_key_v1`2023-12-14 01:03:27?h7?}L 2023-12-14 01:03:27E?E+4 01:03:28n?E}-12-14 01:03:28}K?    
, `role`
, `created`
, `updated`
, `id`
, `org_id`
, `name`) SELECT `key`
, `role`
, `created`
, `updated`
, `id`
, `account_id`
3create api_key table v2CREATE TABLE IF NOT EXISTS `api_key` (_org_id` ON `api_key` (`org_id`);2023-12-14 01:03:27?';?w2023-12-14 01:03:27wO?	
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `org_id` INTEGER NOT NULL
, `name` TEXT NOT NULL
, `key` TEXT NOT NULL
, `role` TEXT NOT NULL
, `created` DATETIME NOT NULL
, `updated` DATETIME NOT NULL
*k2023-12-14 01:03:27
 ?
?
$	??]????????'=?!tableplaylistplaylist?CREATE TABLE `playlist` (
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `name` TEXT NOT NULL
, `interval` TEXT NOT NULL
, `org_id` INTEGER NOT NULL
, `created_at` INTEGER NOT NULL DEFAULT 0, `updated_at` INTEGER NOT NULL DEFAULT 0, `uid` TEXT NOT NULL DEFAULT 0)?$?##?tablepreferencespreferencesACREATE TABLE `preferences` (
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `org_id` INTEGER NOT NULL
, `user_id` INTEGER NOT NULL
, `version` INTEGER NOT NULL
, `home_dashboard_id` INTEGER NOT NULL
, `timezone` TEXT NOT NULL
, `theme` TEXT NOT NULL
, `created` DATETIME NOT NULL
, `updated` DATETIME NOT NULL
, `team_id` INTEGER NULL, `week_start` TEXT NULL, `json_data` TEXT NULL)?z>''?3tableplaylist_itemplaylist_item@CREATE TABLE `playlist_item` (
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `playlist_id` INTEGER NOT NULL
, `type` TEXT NOT NULL
, `value` TEXT NOT NULL
, `title` TEXT NOT NULL
, `order` INTEGER NOT NULL
)-<Andexsqlite_autoindex_session_1session>;gtablesessionsession=CREATE TABLE `session` (
`key` TEXT PRIMARY KEY NOT NULL
, `data` BLOB NOT NULL
, `expiry` INTEGER NOT NULL
)?":S)?UindexUQE_plugin_setting_org_id_plugin_idplugin_setting<CREATE UNIQUE INDEX `UQE_plugin_setting_org_id_plugin_id` ON `plugin_setting` (`org_id`,`plugin_id`)?v9))?'tableplugin_settingplugin_setting;CREATE TABLE `plugin_setting` (
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `org_id` INTEGER NULL
, `plugin_id` TEXT NOT NULL
, `enabled` INTEGER NOT NULL
, `pinned` INTEGER NOT NULL
, `json_data` TEXT NULL
, `secure_json_data` TEXT NULL
, `created` DATETIME NOT NULL
, `updated` DATETIME NOT NULL
, `plugin_version` TEXT NULL)?8K?IindexUQE_quota_org_id_user_id_targetquota9CREATE UNIQUE INDEX `UQE_quota_org_id_user_id_target` ON `quota` (`org_id`,`user_id`,`target`)?7?_tablequotaquota8CREATE TABLE `quota` (
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `org_id` INTEGER NULL
, `user_id` INTEGER NULL
, `target` TEXT NOT NULL
, `limit` INTEGER NOT NULL
, `created` DATETIME NOT NULL
, `updated` DATETIME NOT NULL
)?6I1?/indexIDX_dashboard_snapshot_user_iddashboard_snapshot7CREATE INDEX `IDX_dashboard_snapshot_user_id` ON `dashboard_snapshot` (`user_id`)?5O1?IindexUQE_dashboard_snapshot_delete_keydashboard_snapshot6CREATE UNIQUE INDEX `UQE_dashboard_snapshot_delete_key` ON `dashboard_snapshot` (`delete_key`)?	4A1?-indexUQE_dashboard_snapshot_keydashboard_snapshot5CREATE UNIQUE INDEX `UQE_dashboard_snapshot_key` ON `dashboard_snapshot` (`key`)?~311?'tabledashboard_snapshotdashboard_snapshot.CREATE TABLE `dashboard_snapshot` (
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `name` TEXT NOT NULL
, `key` TEXT NOT NULL
, `delete_key` TEXT NOT NULL
, `org_id` INTEGER NOT NULL
, `user_id` INTEGER NOT NULL
, `external` INTEGER NOT NULL
, `external_url` TEXT NOT NULL
, `dashboard` TEXT NOT NULL
, `expires` DATETIME NOT NULL
, `created` DATETIME NOT NULL
, `updated` DATETIME NOT NULL
, `external_delete_url` TEXT NULL, `dashboard_encrypted` BLOB NULL)w2;%indexUQE_api_key_org_id_nameapi_key4CREATE UNIQUE INDEX `UQE_api_key_org_id_name` ON `api_key` (`org_id`,`name`)]1+indexUQE_api_key_keyapi_key3CREATE UNIQUE INDEX `UQE_api_key_key` ON `api_key` (`key`)^01indexIDX_api_key_org_idapi_key/CREATE INDEX `IDX_api_key_org_id` ON `api_key` (`org_id`)?/Utableapi_keyapi_key0CREATE TABLE `api_key` (
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `org_id` INTEGER NOT NULL
, `name` TEXT NOT NULL
, `key` TEXT NOT NULL
, `role` TEXT NOT NULL
, `created` DATETIME NOT NULL
, `updated` DATETIME NOT NULL
, `expires` INTEGER NULL, `service_account_id` INTEGER NULL, `last_used_at` DATETIME NULL, `is_revoked` INTEGER NULL DEFAULT 0)?-O#??indexIDX_data_source_org_id_is_defaultdata_source-CREATE INDEX `IDX_data_source_org_id_is_default` ON `data_source` (`org_id`,`is_default`)





1Q
?
 ?
  J
   ?
    L
?
3create preferences table v3CREATE TABLE IF NOT EXISTS `preferences` (?`team_id` INTEGER NULL 2023-12-14 01:03:29I?&M+x?O?      
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `org_id` INTEGER NOT NULL
, `user_id` INTEGER NOT NULL
, `version` INTEGER NOT NULL
, `home_dashboard_id` INTEGER NOT NULL
, `timezone` TEXT NOT NULL
, `theme` TEXT NOT NULL
, `created` DATETIME NOT NULL
, `updated` DATETIME NOT NULL
3create playlist item table v2CREATE TABLE IF NOT EXISTS `playlist_item` (at` INTEGER NOT NULL DEFAULT 0 2023-12-14 01:03:29K? Q+	
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `playlist_id` INTEGER NOT NULL
, `type` TEXT NOT NULL
, `value` TEXT NOT NULL
, `title` TEXT NOT NULL
, `order` INTEGER NOT NULL
3create playlist table v2CREATE TABLE IF NOT EXISTS `playlist` (
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `name` TEXT NOT NULL
, `interval` TEXT NOT NULL
, `org_id` INTEGER NOT NULL
3create session tableCREATE TABLE IF NOT EXISTS `session` (t`2023-12-14 01:03:28?+5?:03:29V?K	
`key` TEXT PRIMARY KEY NOT NULL
, `data` BLOB NOT NULL
, `expiry` INTEGER NOT NULL
3Update plugin_setting table charset-- NOT REQUIRED2023-12-14 01:03:28?
3create index UQE_plugin_setting_org_id_plugin_id - v1CREATE UNIQUE INDEX `UQE_plugin_setting_org_id_plugin_id` ON `plugin_setting` (`org_id`,`plugin_id`);2023create plugin_setting tableCREATE TABLE IF NOT EXISTS `plugin_setting` (
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `org_id` INTEGER NULL
, `plugin_id` TEXT NOT NULL
, `enabled` INTEGER NOT NULL
, `pinned` INTEGER NOT NULL
, `json_data` TEXT NULL
, `secure_json_data` TEXT NULL
, `created` DATETIME NOT NULL
, `updated` DATETIME NOT NULL
3create index UQE_quota_org_id_user_id_target - v1CREATE UNIQUE INDEX `UQE_quota_org_id_user_id_target` ON `quota` (`org_id`,`user_id`,`target`);2023-12-14 01:03:28



I
 ?
  k
   ?
    J
?
3create notification_journal table v1CREATE TABLE IF NOT EXISTS `alert_notification_journal` (
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `org_id` INTEGER NOT NULL
, `alert_id` INTEGER NOT NULL
, `notifier_id` INTEGER NOT NULL
, `sent_at` INTEGER NOT NULL
, `success` INTEGER NOT NULL
3add index alert_notification org_id & nameCREATE UNIQUE INDEX `UQE_alert_notification_org_id_name` ON `alert_notification` (`org_id`,`name`);2023-12-14 01:033create alert_notification table v1CREATE TABLE IF NOT EXISTS `alert_notification` (ER NOT NULL DEFAULT 0 2023-12-14 01:03:30?B?Q?? 2023-12-14 01:03:30??=?3	
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `org_id` INTEGER NOT NULL
, `name` TEXT NOT NULL
, `type` TEXT NOT NULL
, `settings` TEXT NOT NULL
, `created` DATETIME NOT NULL
, `updated` DATETIME NOT NULL
3copy alert_rule_tag v1 to v2INSERT INTO `alert_rule_tag` (`alert_id`2023-12-14 01:03:30?!?E?a	
, `tag_id`) SELECT `alert_id`
3create index UQE_alert_rule_tag_alert_id_tag_id - Add unique index alert_rule_tag.alert_id_tag_id V2CREATE UNIQUE INDEX `UQE_alert_rule_tag_alert_id_tag_id` 3Create alert_rule_tag table v2CREATE TABLE IF NOT EXISTS `alert_rule_tag` (
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `alert_id` INTEGER NOT NULL
, `tag_id` INTEGER NOT NULL
);2023-12-14 01:03:30?
3Add unique index alert_rule_tag.alert_id_tag_idCREATE UNIQUE INDEX `UQE_alert_rule_tag_alert_id_tag_id` ON `alert_rule_tag` (`alert_id`,`tag_id`);2023-12-14 3Create alert_rule_tag table v1CREATE TABLE IF NOT EXISTS `alert_rule_tag` (
`alert_id` INTEGER NOT NULL
, `tag_id` INTEGER NOT NULL
3create alert table v1CREATE TABLE IF NOT EXISTS `alert` (d_id` ON `alert` (`org_id`,`id`);2023-12-14 01:03:29?3?7??07u	
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `version` INTEGER NOT NULL
, `dashboard_id` INTEGER NOT NULL
, `panel_id` INTEGER NOT NULL
, `org_id` INTEGER NOT NULL
, `name` TEXT NOT NULL
, `message` TEXT NOT NULL
, `state` TEXT NOT NULL
, `settings` TEXT NOT NULL
, `frequency` INTEGER NOT NULL
, `handler` INTEGER NOT NULL
, `severity` TEXT NOT NULL
, `silenced` INTEGER NOT NULL
, `execution_error` TEXT NOT NULL
, `eval_data` TEXT NULL
, `eval_date` DATETIME NULL
, `new_state_date` DATETIME NOT NULL
, `state_changes` INTEGER NOT NULL
, `created` DATETIME NOT NULL
, `updated` DATETIME NOT NULL
);2023-12-14 01:03:29
B?


  ?
   U
?	???C?B?9	A!?#indexIDX_annotation_org_id_typeannotationUCREATE INDEX `IDX_annotation_org_id_type` ON `annotation` (`org_id`,`type`)QI!?3indexIDX_annotation_org_id_alert_idannotationTCREATE INDEX `IDX_annotation_org_id_alert_id` ON `annotation` (`org_id`,`alert_id`)?zP!!??tableannotationannotationSCREATE TABLE `annotation` (
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `org_id` INTEGER NOT NULL
, `alert_id` INTEGER NULL
, `user_id` INTEGER NULL
, `dashboard_id` INTEGER NULL
, `panel_id` INTEGER NULL
, `category_id` INTEGER NULL
, `type` TEXT NOT NULL
, `title` TEXT NOT NULL
, `text` TEXT NOT NULL
, `metric` TEXT NULL
, `prev_state` TEXT NOT NULL
, `new_state` TEXT NOT NULL
, `data` TEXT NOT NULL
, `epoch` INTEGER NOT NULL
, `region_id` INTEGER NULL DEFAULT 0, `tags` TEXT NULL, `created` INTEGER NULL DEFAULT 0, `updated` INTEGER NULL DEFAULT 0, `epoch_end` INTEGER NOT NULL DEFAULT 0)?OC)?#indexIDX_alert_rule_tag_alert_idalert_rule_tagRCREATE INDEX `IDX_alert_rule_tag_alert_id` ON `alert_rule_tag` (`alert_id`)?)NW=?KindexIDX_alert_notification_state_alert_idalert_notification_stateMCREATE INDEX `IDX_alert_notification_state_alert_id` ON `alert_notification_state` (`alert_id`)? MO1?MindexUQE_alert_notification_org_id_uidalert_notificationQCREATE UNIQUE INDEX `UQE_alert_notification_org_id_uid` ON `alert_notification` (`org_id`,`uid`)?mL}=?-indexUQE_alert_notification_state_org_id_alert_id_notifier_idalert_notification_stateOCREATE UNIQUE INDEX `UQE_alert_notification_state_org_id_alert_id_notifier_id` ON `alert_notification_state` (`org_id`,`alert_id`,`notifier_id`)?~K==?tablealert_notification_statealert_notification_stateNCREATE TABLE `alert_notification_state` (
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `org_id` INTEGER NOT NULL
, `alert_id` INTEGER NOT NULL
, `notifier_id` INTEGER NOT NULL
, `state` TEXT NOT NULL
, `version` INTEGER NOT NULL
, `updated_at` INTEGER NOT NULL
, `alert_rule_state_updated_version` INTEGER NOT NULL
)?vI11?tablealert_notificationalert_notificationJCREATE TABLE `alert_notification` (
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `org_id` INTEGER NOT NULL
, `name` TEXT NOT NULL
, `type` TEXT NOT NULL
, `settings` TEXT NOT NULL
, `created` DATETIME NOT NULL
, `updated` DATETIME NOT NULL
, `is_default` INTEGER NOT NULL DEFAULT 0, `frequency` INTEGER NULL, `send_reminder` INTEGER NULL DEFAULT 0, `disable_resolve_message` INTEGER NOT NULL DEFAULT 0, `uid` TEXT NULL, `secure_settings` TEXT NULL)?HQ)?QindexUQE_alert_rule_tag_alert_id_tag_idalert_rule_tagLCREATE UNIQUE INDEX `UQE_alert_rule_tag_alert_id_tag_id` ON `alert_rule_tag` (`alert_id`,`tag_id`)?4G))?#tablealert_rule_tagalert_rule_tagKCREATE TABLE `alert_rule_tag` (
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `alert_id` INTEGER NOT NULL
, `tag_id` INTEGER NOT NULL
)iE9?indexIDX_alert_dashboard_idalertICREATE INDEX `IDX_alert_dashboard_id` ON `alert` (`dashboard_id`)SD+sindexIDX_alert_statealertHCREATE INDEX `IDX_alert_state` ON `alert` (`state`)bC3?indexIDX_alert_org_id_idalertFCREATE INDEX `IDX_alert_org_id_id` ON `alert` (`org_id`,`id`)?B?tablealertalertDCREATE TABLE `alert` (
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `version` INTEGER NOT NULL
, `dashboard_id` INTEGER NOT NULL
, `panel_id` INTEGER NOT NULL
, `org_id` INTEGER NOT NULL
, `name` TEXT NOT NULL
, `message` TEXT NOT NULL
, `state` TEXT NOT NULL
, `settings` TEXT NOT NULL
, `frequency` INTEGER NOT NULL
, `handler` INTEGER NOT NULL
, `severity` TEXT NOT NULL
, `silenced` INTEGER NOT NULL
, `execution_error` TEXT NOT NULL
, `eval_data` TEXT NULL
, `eval_date` DATETIME NULL
, `new_state_date` DATETIME NOT NULL
, `state_changes` INTEGER NOT NULL
, `created` DATETIME NOT NULL
, `updated` DATETIME NOT NULL
, `for` INTEGER NULL)rA;#?indexIDX_preferences_user_idpreferencesCCREATE INDEX `IDX_preferences_user_id` ON `preferences` (`user_id`)o@9#?indexIDX_preferences_org_idpreferencesBCREATE INDEX `IDX_preferences_org_id` ON `preferences` (`org_id`)




}?

?
 :
?	?	??c	
3Drop category_id indexDROP INDEX `IDX_annotation_org_id_category_id`2023-12-14 01:03:31?2023-12-14 01:03:31^?Y9i	
3add index annotation 3 v3CREATE INDEX `IDX_annotation_org_id_dashboard_id_panel_id_epoch` ON `annotation` (`org_id`,`dashboard_id`,`panel_id`,`epoch`);2023-13create annotation table v5CREATE TABLE IF NOT EXISTS `annotation` (id` ON `annotation` (`org_id`,`alert_id`);2023-12-14 01:03:31?{?A?1????%	
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `org_id` INTEGER NOT NULL
, `alert_id` INTEGER NULL
, `user_id` INTEGER NULL
, `dashboard_id` INTEGER NULL
, `panel_id` INTEGER NULL
, `category_id` INTEGER NULL
, `type` TEXT NOT NULL
, `title` TEXT NOT NULL
, `text` TEXT NOT NULL
, `metric` TEXT NULL
, `prev_state` TEXT NOT NULL
, `new_state` TEXT NOT NULL
, `data` TEXT NOT NULL
, `epoch` INTEGER NOT NULL
3Add non-unique index alert_notification_state_alert_idCREATE INDEX `IDX_alert_notification_state_alert_id` ON `alert_notification_state` (`alert_id`);2023-123Add unique index alert_notification_org_id_uidCREATE UNIQUE INDEX `UQE_alert_notification_org_id_uid` ON `alert_notification` (`org_id`,`uid`);2023-12-14 01:3add index alert_notification_state org_id & alert_id & notifier_idCREATE UNIQUE INDEX `UQE_alert_notification_state_org_id_alert_id_notifier_id` ON `alert_no3create alert_notification_state table v1CREATE TABLE IF NOT EXISTS `alert_notification_state` (
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `org_id` INTEGER NOT NULL
, `alert_id` INTEGER NOT NULL
, `notifier_id` INTEGER NOT NULL
, `state` TEXT NOT NULL
, `version` INTEGER NOT NULL
, `updated_at` INTEGER NOT NULL
, `alert_rule_state_updated_version` INTEGER NOT NULL
3add index notification_journal org_id & alert_id & notifier_idCREATE INDEX `IDX_alert_notification_journal_org_id_alert_id_notifier_id` ON `alert_notification_journal` (`org_id`,`alert_id`,`notifier_id`);2023-12-14 01:03:31






??RD?
?
 ?

  ?
[`
  ?5???i??7g##?5tableteam_memberteam_m?I'?/indexIDX_dashboard_acl_dashboard_iddasRH''?tabledashboard_acldashboard_acllCREATE TABLE `dashboard_acl` (
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `org_id` INTEGER NOT NULL
, `dashboard_id` INTEGER NOT NULLt;#?indexIDX_team_member_team_idteam_memberkCREATE INDEX `IDX_team_member_team_id` ON `team_member` (`team_id`)?*iY#?eindexUQE_team_member_org_id_team_id_user_idteam_memberjCREATE UNIQUE INDEX `UQE_team_member_org_id_team_id_user_id` ON `team_member` (`org_id`,`team_id`,`user_id`)oh9#?indexIDX_team_member_org_idteam_memberiCREATE INDEX `IDX_team_member_org_id` ON `team_member` (`org_id`)?7g##?5tableteam_memberteam_memberhCREATE TABLE `team_member` (
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `org_id` INTEGER NOT NULL
, `team_id` INTEGER NOT NULL
, `user_id` INTEGER NOT NULL
, `created` DATETIME NOT NULL
, `updated` DATETIME NOT NULL
, `external` INTEGER NULL, `permission` INTEGER NULL)hf3?indexUQE_team_org_id_uidteamgCREATE UNIQUE INDEX `UQE_team_org_id_uid` ON `team` (`org_id`,`uid`)ke5?indexUQE_team_org_id_nameteamfCREATE UNIQUE INDEX `UQE_team_org_id_name` ON `team` (`org_id`,`name`)Rd+sindexIDX_team_org_idteameCREATE INDEX `IDX_team_org_id` ON `team` (`org_id`)?oc?AtableteamteamdCREATE TABLE `team` (
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `name` TEXT NOT NULL
, `org_id` INTEGER NOT NULL
, `created` DATETIME NOT NULL
, `updated` DATETIME NOT NULL
, `uid` TEXT NULL, `email` TEXT NULL)|RA!?#indexIDX_annotation_org_id_typeannotationUCREATE INDEX `IDX_annotation_org_id_type` ON `annotation` (`org_id`,`type`)QI!?3indexIDX_annotation_org_id_alert_idannotationTCREATE INDEX `IDX_annotation_org_id_alert_id` ON `annotation` (`org_id`,`alert_id`)?:ba/?qindexUQE_dashboard_version_dashboard_id_versiondashboard_versioncCREATE UNIQUE INDEX `UQE_dashboard_version_dashboard_id_version` ON `dashboard_version` (`dashboard_id`,`version`)?aQ/??indexIDX_dashboard_version_dashboard_iddashboard_versionbCREATE INDEX `IDX_dashboard_version_dashboard_id` ON `dashboard_version` (`dashboard_id`)?x`//?tabledashboard_versiondashboard_versionaCREATE TABLE `dashboard_version` (
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `dashboard_id` INTEGER NOT NULL
, `parent_version` INTEGER NOT NULL
, `restored_from` INTEGER NOT NULL
, `version` INTEGER NOT NULL
, `created` DATETIME NOT NULL
, `created_by` INTEGER NOT NULL
, `message` TEXT NOT NULL
, `data` TEXT NOT NULL
)?q_?1tabletest_datatest_data_CREATE TABLE `test_data` (
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `metric1` TEXT NULL
, `metric2` TEXT NULL
, `value_big_int` INTEGER NULL
, `value_double` REAL NULL
, `value_float` REAL NULL
, `value_int` INTEGER NULL
, `time_epoch` INTEGER NOT NULL
, `time_date_time` DATETIME NOT NULL
, `time_time_stamp` DATETIME NOT NULL
)q^;!?indexIDX_annotation_alert_idannotation^CREATE INDEX `IDX_annotation_alert_id` ON `annotation` (`alert_id`)?]W!?SindexIDX_annotation_org_id_epoch_end_epochannotationXCREATE INDEX `IDX_annotation_org_id_epoch_end_epoch` ON `annotation` (`org_id`,`epoch_end`,`epoch`)?H\q!?
                                                                                                                      indexIDX_annotation_org_id_dashboard_id_epoch_end_epochannotationWCREATE INDEX `IDX_annotation_org_id_dashboard_id_epoch_end_epoch` ON `annotation` (`org_id`,`dashboard_id`,`epoch_end`,`epoch`)?ZG!?/indexIDX_annotation_org_id_updatedannotation]CREATE INDEX `IDX_annotation_org_id_updated` ON `annotation` (`org_id`,`updated`)?YG!?/indexIDX_annotation_org_id_createdannotationVCREATE INDEX `IDX_annotation_org_id_created` ON `annotation` (`org_id`,`created`)?.X[)?eindexUQE_annotation_tag_annotation_id_tag_idannotation_tag\CREATE UNIQUE INDEX `UQE_annotation_tag_annotation_id_tag_id` ON `annotation_tag` (`annotation_id`,`tag_id`)?9W))?-tableannotation_tagannotation_tag[CREATE TABLE `annotation_tag` (
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `annotation_id` INTEGER NOT NULL
, `tag_id` INTEGER NOT NULL
gV?
?
 ?
?
?
	?	
3Add index for org_id_epoch_end_epoch on annotation tableCREATE INDEX `IDX_annotation_org_id_epoch_end_epoch` ON `annotation` (`org_id`,`epoch_end`,`epoch`);23Add index for org_id_dashboard_id_epoch_end_epoch on annotation tableCREATE INDEX `IDX_annotation_org_id_dashboard_id_epoch_end_epoch` ON `annotation` (`org_3copy annotation_tag v2 to v3INSERT INTO `annotation_tag` (`annotation_id`12-14 01:03:32?+?E?u> 02023-12-14 01:03:32^?bE]3:32z?ciq2-14 01:03:32??U?1133q?mk]	
, `tag_id`) SELECT `annotation_id`
3create index UQE_annotation_tag_annotation_id_tag_id - Add unique index annotation_tag.annotation_id_tag_id V3CREATE UNIQUE INDEX `UQE_annotation_tag_annotat3Create annotation_tag table v3CREATE TABLE IF NOT EXISTS `annotation_tag` (03:32?X?I?K	
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `annotation_id` INTEGER NOT NULL
, `tag_id` INTEGER NOT NULL
);2023-12-14 01:03:32?
3Add unique index annotation_tag.annotation_id_tag_idCREATE UNIQUE INDEX `UQE_annotation_tag_annotation_id_tag_id` ON `annotation_tag` (`annotation_id`,`tag_i3Create annotation_tag table v2CREATE TABLE IF NOT EXISTS `annotation_tag` (
`annotation_id` INTEGER NOT NULL
, `tag_id` INTEGER NOT NULL
);2023-12-14 01:03:32


mj
  ?
   1
    Q
?	T	
               ??H??"c?y?m?a?
3add unique index team_member_org_id_team_id_user_idCREATE UNIQUE INDEX `UQE_team_member_org_id_team_id_user_id` ON `team_member` (`org_id`,`team_id`,`user_id3create team member tableCREATE TABLE IF NOT EXISTS `team_member` (ON `team_member` (`org_id`);2023-12-14 01:03:33?"=?k	
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `org_id` INTEGER NOT NULL
, `team_id` INTEGER NOT NULL
, `user_id` INTEGER NOT NULL
, `created` DATETIME NOT NULL
, `updated` DATETIME NOT NULL
3create team tableCREATE TABLE IF NOT EXISTS `team` (ON `team` (`org_id`);2023-12-14 01:03:33?q?/?name`);2023-12-14 01:03:33c?|7u	
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `name` TEXT NOT NULL
, `org_id` INTEGER NOT NULL
, `created` DATETIME NOT NULL
, `updated` DATETIME NOT NULL
3save existing dashboard data in dashboard_version table v1INSERT INTO dashboard_version
(
	dashboard_id,
	version,
	parent_version,
	restored_from,
	created,
	created_by,
	message,
	data
)
SELECT
	dashboard.id,
	dashboard.version,
	dashboard.version,
	dashboard.version,
	dashboard.updated,
	COALESCE(dashboard.updated_by, -1),
	'',
	dashboard.data
3add unique index dashboard_version.dashboard_id and dashboard_version.versionCREATE UNIQUE INDEX `UQE_dashboard_version_dashboard_id_version` ON `dashboard_v3create dashboard_version table v1CREATE TABLE IF NOT EXISTS `dashboard_version` (oard_id` ON `dashboard_version` (`dashboard_id`);2023-12-14 01:03:33??O?=	
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `dashboard_id` INTEGER NOT NULL
, `parent_version` INTEGER NOT NULL
, `restored_from` INTEGER NOT NULL
, `version` INTEGER NOT NULL
, `created` DATETIME NOT NULL
, `created_by` INTEGER NOT NULL
, `message` TEXT NOT NULL
, `data` TEXT NOT NULL
3create test_data tableCREATE TABLE IF NOT EXISTS `test_data` (
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `metric1` TEXT NULL
, `metric2` TEXT NULL
, `value_big_int` INTEGER NULL
, `value_double` REAL NULL
, `value_float` REAL NULL
, `value_int` INTEGER NULL
, `time_epoch` INTEGER NOT NULL
, `time_date_time` DATETIME NOT NULL
, `time_time_stamp` DATETIME NOT NULL
);2023-12-14 01:03:33







???'
!!??Editor2017-06-202017-06-20&
-       !!??Viewer2017-06-202017-06-20
 p
  ?
   d
?
3create index IDX_user_auth_auth_module_auth_id - v1CREATE INDEX `IDX_user_auth_auth_module_auth_id` ON `user_auth` (`auth_module`,`auth_id`);2023-12-14 01:033create user auth tableCREATE TABLE IF NOT EXISTS `user_auth` (
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `user_id` INTEGER NOT NULL
, `auth_module` TEXT NOT NULL
, `auth_id` TEXT NOT NULL
, `created` DATETIME NOT NULL
3copy login_attempt v1 to v2INSERT INTO `login_attempt` (`id`empt_tmp_qwerty`2023-12-14 01:03:35?<C?	
, `username`
, `ip_address`) SELECT `id`
, `username`
3create login_attempt v2CREATE TABLE IF NOT EXISTS `login_attempt` (_attempt_username` ON `login_attempt` (`username`);2023-12-14 01:03:35?p;?		
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `username` TEXT NOT NULL
, `ip_address` TEXT NOT NULL
, `created` INTEGER NOT NULL DEFAULT 0
3create login attempt tableCREATE TABLE IF NOT EXISTS `login_attempt` (me` ON `login_attempt` (`username`);2023-12-14 01:03:34?jA?w-14 01:03:34k?a[	
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `username` TEXT NOT NULL
, `ip_address` TEXT NOT NULL
, `created` DATETIME NOT NULL
3create tag tableCREATE TABLE IF NOT EXISTS `tag` (g_key_value` ON `tag` (`key`,`value`);2023-12-14 01:03:34?.-?	
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `key` TEXT NOT NULL
, `value` TEXT NOT NULL
3delete acl rules for deleted dashboards and foldersDELETE FROM dashboard_acl WHERE dashboard_id NOT IN (SELECT id FROM dashboard) AND dashboard_id != -12023-3save default acl rules in dashboard_acl table
INSERT INTO dashboard_acl
	(
		org_id,
		dashboard_id,
		permission,
		role,
		created,
		updated
	)
	VALUES
		(-1,-1, 1,'Viewer','2017-06-20','2017-06-20'),
		(-1,-1, 2,'Editor','2017-06-20','2017-06-20')
3add index dashboard_acl_team_idCREATE INDEX `IDX_dashboard_acl_team_id` ON `dashboard_acl` (`team_id`);2023-12-14 01:03:34??-14 01:03:34??
3add index dashboard_acl_user_idCREATE INDEX `IDX_dashboard_acl_user_id` ON `dashboard_acl` (`user_id`);2023-12-14 01:03:34?9?	
3add unique index dashboard_acl_dashboard_id_team_idCREATE UNIQUE INDEX `UQE_dashboard_acl_dashboard_id_team_id` ON `dashboard_acl` (`dashboard_id`,`team_id`);2023-12-14 01:03:34?9?
3add unique index dashboard_acl_dashboard_id_user_idCREATE UNIQUE INDEX `UQE_dashboard_acl_dashboard_id_user_id` ON `dashboard_acl` (`dashboard_id`,`user_id`)3create dashboard acl tableCREATE TABLE IF NOT EXISTS `dashboard_acl` (shboard_id` ON `dashboard_acl` (`dashboard_id`);2023-12-14 01:03:34?A?	
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `org_id` INTEGER NOT NULL
, `dashboard_id` INTEGER NOT NULL
, `user_id` INTEGER NULL
, `team_id` INTEGER NULL
, `permission` INTEGER NOT NULL DEFAULT 4
, `role` TEXT NULL
, `created` DATETIME NOT NULL
, `updated` DATETIME NOT NULL
);2023-12-14 01:03:34
????	?
dE??	?
 ?
  ;
   ?
    4
?
$	i?W????
?WN	
-$=!?%indexURI+?/indexIDX_user_aut,C+?#indexIDX_user_auth_token_user_iduser_auth_token?CREATE INDEX `IDX_user_auth_token_user_id` ON `user_auth_token` (`user_id`)?"S+?QindexUQE_user_auth_token_prev_auth_tokenuser_auth_token?CREATE UNIQUE INDEX `UQE_user_auth_token_prev_auth_token` ON `user_auth_token` (`prev_auth_token`)?~I+?=indexUQE_user_auth_token_auth_tokenuser_auth_token?CREATE UNIQUE INDEX `UQE_user_auth_token_auth_token` ON `user_auth_token` (`auth_token`)rj;#?indexIDX_team_member_team_idteam_memberkCREATE INDEX `IDX_team_member_team_id` ON `team_member` (`team_id`)?L}++?Mtableuser_auth_tokenuser_auth_token?CREATE TABLE `user_auth_token` (
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `user_id` INTEGER NOT NULL
, `auth_token` TEXT NOT NULL
, `prev_auth_token` TEXT NOT NULL
, `user_agent` TEXT NOT NULL
, `client_ip` TEXT NOT NULL
, `auth_token_seen` INTEGER NOT NULL
, `seen_at` INTEGER NULL
, `rotated_at` INTEGER NOT NULL
, `created_at` INTEGER NOT NULL
, `updated_at` INTEGER NOT NULL
, `revoked_at` INTEGER NULL)?
                             |G#?9indexUQE_server_lock_operation_uidserver_lockCREATE UNIQUE INDEX `UQE_server_lock_operation_uid` ON `server_lock` (`operation_uid`)?R{##?ktableserver_lockserver_lock~CREATE TABLE `server_lock` (
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `operation_uid` TEXT NOT NULL
, `version` INTEGER NOT NULL
, `last_execution` INTEGER NOT NULL
)jz7?
     indexIDX_user_auth_user_iduser_auth}CREATE INDEX `IDX_user_auth_user_id` ON `user_auth` (`user_id`)?yO??indexIDX_user_auth_auth_module_auth_iduser_auth{CREATE INDEX `IDX_user_auth_auth_module_auth_id` ON `user_auth` (`auth_module`,`auth_id`)?|x?Gtableuser_authuser_authxCREATE TABLE `user_auth` (
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `user_id` INTEGER NOT NULL
, `auth_module` TEXT NOT NULL
, `auth_id` TEXT NOT NULL
, `created` DATETIME NOT NULL
, `o_auth_access_token` TEXT NULL, `o_auth_refresh_token` TEXT NULL, `o_auth_token_type` TEXT NULL, `o_auth_expiry` DATETIME NULL, `o_auth_id_token` TEXT NULL)}wA'?indexIDX_login_attempt_usernamelogin_attemptzCREATE INDEX `IDX_login_attempt_username` ON `login_attempt` (`username`)?Vv''?ktablelogin_attemptlogin_attemptyCREATE TABLE `login_attempt` (
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `username` TEXT NOT NULL
, `ip_address` TEXT NOT NULL
, `created` INTEGER NOT NULL DEFAULT 0
indexUQE_tag_key_valuetagwCREATE UNIQUE INDEX `UQE_tag_key_value` ON `tag` (`key`,`value`)?s?utabletagtagvCREATE TABLE `tag` (
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `key` TEXT NOT NULL
, `value` TEXT NOT NULL
)?rE'?'indexIDX_dashboard_acl_permissiondashboard_acluCREATE INDEX `IDX_dashboard_acl_permission` ON `dashboard_acl` (`permission`)qG'?/indexIDX_dashboard_acl_org_id_roledashboard_acltCREATE INDEX `IDX_dashboard_acl_org_id_role` ON `dashboard_acl` (`org_id`,`role`)zp?'?ndexIDX_dashboard_acl_team_iddashboard_aclsCREATE INDEX `IDX_dashboard_acl_team_id` ON `dashboard_acl` (`team_id`)zo?'?ndexIDX_dashboard_acl_user_iddashboard_aclrCREATE INDEX `IDX_dashboard_acl_user_id` ON `dashboard_acl` (`user_id`)?*nY'?aindexUQE_dashboard_acl_dashboard_id_team_iddashboard_aclqCREATE UNIQUE INDEX `UQE_dashboard_acl_dashboard_id_team_id` ON `dashboard_acl` (`dashboard_id`,`team_id`)?*mY'?aindexUQE_dashboard_acl_dashboard_id_user_iddashboard_acloCREATE UNIQUE INDEX `UQE_dashboard_acl_dashboard_id_user_id` ON `dashboard_acl` (`dashboard_id`,`user_id`)?	lI'?/indexIDX_dashboard_acl_dashboard_iddashboard_aclnCREATE INDEX `IDX_dashboard_acl_dashboard_id` ON `dashboard_acl` (`dashboard_id`)?`k''?tabledashboard_acldashboard_acllCREATE TABLE `dashboard_acl` (
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `org_id` INTEGER NOT NULL
, `dashboard_id` INTEGER NOT NULL
, `user_id` INTEGER NULL
, `team_id` INTEGER NULL
, `permission` INTEGER NOT NULL DEFAULT 4
, `role` TEXT NULL
, `created` DATETIME NOT NULL
, `updated` DATETIME NOT NULL
)
????	?
???	
???	
???
   ?Editor
          	?Viewer
???		
p?????p
       Admin10.4.1.1e?<
admin10.4.1.1e?2	admin10.4.1.1e?admin10.4.1.1e?Oadmin10.4.1.1e?,admin10.4.1.1e?$
???????	Admin
             	admin
	admin		admin   admin	admin
&?0?)
 ?
  ?
3recreate alert_definition tableCREATE TABLE IF NOT EXISTS `alert_definition` (
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `org_id` INTEGER NOT NULL
, `title` TEXT NOT NULL
, `condition` TEXT NOT NULL
, `data` TEXT NOT NULL
, `updated` DATETIME NOT NULL
, `interval_seconds` INTEGER NOT NULL DEFAULT 60
, `version` INTEGER NOT NULL DEFAULT 0
, `uid` TEXT NOT NULL DEFAULT 0
3create short_url table v1CREATE TABLE IF NOT EXISTS `short_url` (org_id_uid` ON `short_url` (`org_id`,`uid`);2023-12-14 01:03:36?6???	
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `org_id` INTEGER NOT NULL
, `uid` TEXT NOT NULL
, `path` TEXT NOT NULL
, `created_by` INTEGER NOT NULL
, `created_at` INTEGER NOT NULL
, `last_seen_at` INTEGER NULL
3create cache_data tableCREATE TABLE IF NOT EXISTS `cache_data` (che_data_cache_key` ON `cache_data` (`cache_key`);2023-12-14 01:03:36?X?;?Y	
`cache_key` TEXT PRIMARY KEY NOT NULL
, `data` BLOB NOT NULL
, `expires` INTEGER NOT NULL
, `created_at` INTEGER NOT NULL
3add unique index user_auth_token.prev_auth_tokenCREATE UNIQUE INDEX `UQE_user_auth_token_prev_auth_token` ON `user_auth_token` (`prev_auth_token`);2023-12-143create user auth token tableCREATE TABLE IF NOT EXISTS `user_auth_token` (uth_token_auth_token` ON `user_auth_token` (`auth_token`);2023-12-14 01:03:36?K?E?5
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `user_id` INTEGER NOT NULL
, `auth_token` TEXT NOT NULL
, `prev_auth_token` TEXT NOT NULL
, `user_agent` TEXT NOT NULL
, `client_ip` TEXT NOT NULL
, `auth_token_seen` INTEGER NOT NULL
, `seen_at` INTEGER NULL
, `rotated_at` INTEGER NOT NULL
, `created_at` INTEGER NOT NULL
, `updated_at` INTEGER NOT NULL
3create server_lock tableCREATE TABLE IF NOT EXISTS `server_lock` (_lock_operation_uid` ON `server_lock` (`operation_uid`);2023-12-14 01:03:36?q?=?		
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `operation_uid` TEXT NOT NULL
, `version` INTEGER NOT NULL
, `last_execution` INTEGER NOT NULL
);2023-12-14 01:03:35y?K?
3alter user_auth.auth_id to length 190SELECT 0;2023-12-14 01:03:35LUMN `o_auth_access_token` TEXT NULL 2023-12-14 01:03:35H?WS??	
?jj??%Ccleanup expired auth tokense??}"=cleanup old anon devicese??}%?delete old login attemptse{~%$?delete old login attempts?e?]
????=cleanup old anon devices?delete old login attemptsC	cleanup expired auth tokens





?O?p?|
 ?
  f
?
l	??j???11??tablealert_rule_versionalert_rule_version?CREATE TABLE `alert_rule_version` (
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `rule_org_id` INTEGER NOT NULL
, `rule_uid` TEXT NOT NULL DEFAULT 0
, `rule_namespace_uid` TEXT NOT NULL
, `rule_group` TEXT NOT NULL
, `parent_version` INTEGER NOT NULL
, `restored_from` INTEGER NOT NULL
, `version` INTEGER NOT NULL
, `created` DATETIME NOT NULL
, `title` TEXT NOT NULL
, `condition` TEXT NOT NULL
, `data` TEXT NOT NULL
, `i?e!?oindexIDX_alert_rule_org_id_dashboard_uid_panel_idalert_rule?CREATE INDEX `IDX_alert_rule_org_id_dashboard_uid_panel_id` ON `alert_rule` (`org_id`,`dashboard_uid`,`panel_id`)??C+?#indexIDX_user_auth_token_user_iduser_auth_token?CREATE INDEX `IDX_user_auth_token_user_id` ON `user_auth_token` (`user_id`)?"S+?QindexUQE_user_auth_token_prev_auth_tokenuser_auth_token?CREATE UNIQUE INDEX `UQE_user_auth_token_prev_auth_token` ON `user_auth_token` (`prev_auth_token`)?3?_!?qindexUQE_alert_rule_org_id_namespace_uid_titlealert_rule?CREATE UNIQUE INDEX `UQE_alert_rule_org_id_namespace_uid_title` ON `alert_rule` (`org_id`,`namespace_uid`,`title`)?;?i!?windexIDX_alert_rule_org_id_namespace_uid_rule_groupalert_rule?CREATE INDEX `IDX_alert_rule_org_id_namespace_uid_rule_group` ON `alert_?!?-indexUQE_alert_rule_org_id_uidalert_rule?CREATE UNIQUE INDEX `UQE_alert_rule_org_id_uid` ON `alert_rule` (`org_id`,`uid`)?f?
                                                                                                                                !!?tablealert_rulealert_rule?CREATE TABLE `alert_rule` (
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `org_id` INTEGER NOT NULL
, `title` TEXT NOT NULL
, `condition` TEXT NOT NULL
, `data` TEXT NOT NULL
, `updated` DATETIME NOT NULL
, `interval_seconds` INTEGER NOT NULL DEFAULT 60
, `version` INTEGER NOT NULL DEFAULT 0
, `uid` TEXT NOT NULL DEFAULT 0
, `namespace_uid` TEXT NOT NULL
, `rule_group` TEXT NOT NULL
, `no_data_state` TEXT NOT NULL DEFAULT 'NoData'
, `exec_err_state` TEXT NOT NULL DEFAULT 'Alerting'
, `for` INTEGER NOT NULL DEFAULT 0, `annotations` TEXT NULL, `labels` TEXT NULL, `dashboard_uid` TEXT NULL, `panel_id` INTEGER NULL, `rule_group_idx` INTEGER NOT NULL DEFAULT 1, `is_paused` INTEGER NOT NULL DEFAULT 0)?7?
e)?kindexIDX_alert_instance_rule_org_id_current_statealert_instance?CREATE INDEX `IDX_alert_instance_rule_org_id_current_state` ON `alert_instance` (`rule_org_id`,`current_state`)?T?	w)?indexIDX_alert_instance_rule_org_id_rule_uid_current_statealert_instance?CREATE INDEX `IDX_alert_instance_rule_org_id_rule_uid_current_state` ON `alert_instance` (`rule_org_id`,`rule_uid`,`current_state`)<O)indexsqlite_autoindex_alert_instance_1alert_instance??7?))?'tablealert_instancealert_instance?CREATE TABLE `alert_instance` (
"rule_org_id" INTEGER NOT NULL
, "rule_uid" TEXT NOT NULL DEFAULT 0
, `labels` TEXT NOT NULL
, `labels_hash` TEXT NOT NULL
, `current_state` TEXT NOT NULL
, `current_state_since` INTEGER NOT NULL
, `last_eval_time` INTEGER NOT NULL
, `current_state_end` INTEGER NOT NULL DEFAULT 0, `current_reason` TEXT NULL, PRIMARY KEY ( "rule_org_id","rule_uid",`labels_hash` ))}?=?)indexUQE_short_url_org_id_uidshort_url?CREATE UNIQUE INDEX `UQE_short_url_org_id_uid` ON `short_url` (`org_id`,`uid`)???stableshort_urlshort_url?CREATE TABLE `short_url` (
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `org_id` INTEGER NOT NULL
, `uid` TEXT NOT NULL
, `path` TEXT NOT NULL
, `created_by` INTEGER NOT NULL
, `created_at` INTEGER NOT NULL
, `last_seen_at` INTEGER NULL
)|?=!?%indexUQE_cache_data_cache_keycache_data?CREATE UNIQUE INDEX `UQE_cache_data_cache_key` ON `cache_data` (`cache_key`)4?G!indexsqlite_autoindex_cache_data_1cache_data??9?!!?;tablecache_datacache_data?CREATE TABLE `cache_data` (
`cache_key` TEXT PRIMARY KEY NOT NULL
, `data` BLOB NOT NULL
, `expires` INTEGER NOT NULL
, `created_at` INTEGER NOT NULL
)?
  ?I+?/indexIDX_user_auth_token_revoked_atuser_auth_token?CREATE INDEX `IDX_user_auth_token_revoked_at` ON `user_auth_token` (`revoked_at`)

4N?<
 s
  ?
   &
?
YTL?o??#?P?
3add column current_state_end to alert_instancealter table `alert_instance` ADD COLUMN `current_state_end` INTEGER NOT NULL DEFAULT 0 2023-12-14 01:03:37?P?E?3add index in alert_instance table on def_org_id, current_state columnsCREATE INDEX `IDX_alert_instance_def_org_id_current_state` ON `alert_instance` (`def_or3add index in alert_instance table on def_org_id, def_uid and current_state columnsCREATE INDEX `IDX_alert_instance_def_org_id_def_uid_current_state` ON `aler3create alert_instance tableCREATE TABLE IF NOT EXISTS `alert_instance` (?C?%	
`def_org_id` INTEGER NOT NULL
, `def_uid` TEXT NOT NULL DEFAULT 0
, `labels` TEXT NOT NULL
, `labels_hash` TEXT NOT NULL
, `current_state` TEXT NOT NULL
, `current_state_since` INTEGER NOT NULL
, `last_eval_time` INTEGER NOT NULL
3add index in alert_definition_version table on alert_definition_uid and version columnsCREATE UNIQUE INDEX `UQE_alert_definition_version_alert_definition_uid3add index in alert_definition_version table on alert_definition_id and version columnsCREATE UNIQUE INDEX `UQE_alert_definition_version_alert_definition_id_v3recreate alert_definition_version tableCREATE TABLE IF NOT EXISTS `alert_definition_version` (?{	
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `alert_definition_id` INTEGER NOT NULL
, `alert_definition_uid` TEXT NOT NULL DEFAULT 0
, `parent_version` INTEGER NOT NULL
, `restored_from` INTEGER NOT NULL
, `version` INTEGER NOT NULL
, `created` DATETIME NOT NULL
, `title` TEXT NOT NULL
, `condition` TEXT NOT NULL
, `data` TEXT NOT NULL
, `interval_seconds` INTEGER NOT NULL
3add unique index in alert_definition on org_id and uid columnsCREATE UNIQUE INDEX `UQE_alert_definition_org_id_uid` ON `alert_definition` (`org_id`,`uid`);203add unique index in alert_definition on org_id and title columnsCREATE UNIQUE INDEX `UQE_alert_definition_org_id_title` ON `alert_definition` (`org_id`,`titl3drop index in alert_definition on org_id and title columnsDROP INDEX `IDX_alert_definition_org_id_title`2023-12-14 01:03:36c?? 
3add index in alert_definition on org_id and uid columnsCREATE INDEX `IDX_alert_definition_org_id_uid` ON `alert_definition` (`org_id`,`uid`);2023-12-14 01:033add index in alert_definition on org_id and title columnsCREATE INDEX `IDX_alert_definition_org_id_title` ON `alert_definition` (`org_id`,`title`);2023-12-14 01:03:36
;l?
 ?
3add index in alert_rule on org_id, dashboard_uid and panel_id columnsCREATE INDEX `IDX_alert_rule_org_id_dashboard_uid_panel_id` ON `alert_rule` (`org_id`,`d3add index in alert_rule on org_id, namespase_uid and title columnsCREATE UNIQUE INDEX `UQE_alert_rule_org_id_namespace_uid_title` ON `alert_rule` (`org_id`,`3add index in alert_rule on org_id, namespace_uid, group_uid columnsCREATE INDEX `IDX_alert_rule_org_id_namespace_uid_rule_group` ON `alert_rule` (`org_id`,`n3add index in alert_rule on org_id and title columnsCREATE UNIQUE INDEX `UQE_alert_rule_org_id_title` ON `alert_rule` (`org_id`,`title`);2023-12-14 01:03:38?-3create alert_rule tableCREATE TABLE IF NOT EXISTS `alert_rule` (
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `org_id` INTEGER NOT NULL
, `title` TEXT NOT NULL
, `condition` TEXT NOT NULL
, `data` TEXT NOT NULL
, `updated` DATETIME NOT NULL
, `interval_seconds` INTEGER NOT NULL DEFAULT 60
, `version` INTEGER NOT NULL DEFAULT 0
, `uid` TEXT NOT NULL DEFAULT 0
, `namespace_uid` TEXT NOT NULL
, `rule_group` TEXT NOT NULL
, `no_data_state` TEXT NOT NULL DEFAULT 'NoData'
, `exec_err_state` TEXT NOT NULL DEFAULT 'Alerting'
3add index rule_org_id, current_state on alert_instanceCREATE INDEX `IDX_alert_instance_rule_org_id_current_state` ON `alert_instance` (`rule_org_id`,`current3add index rule_org_id, rule_uid, current_state on alert_instanceCREATE INDEX `IDX_alert_instance_rule_org_id_rule_uid_current_state` ON `alert_instance` (`ru3rename def_org_id to rule_org_id in alert_instanceALTER TABLE alert_instance RENAME COLUMN def_org_id TO rule_org_id;2023-12-14 01:03:37




~
 ?
  l

3add column send_alerts_to in ngalert_configurationalter table `ngalert_configuration` ADD COLUMN `send_alerts_to` INTEGER NOT NULL DEFAULT 0 2023-12-14 01:033add index in ngalert_configuration on org_id columnCREATE UNIQUE INDEX `UQE_ngalert_configuration_org_id` ON `ngalert_configuration` (`org_id`);2023-12-14 013create_ngalert_configuration_tableCREATE TABLE IF NOT EXISTS `ngalert_configuration` (
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `org_id` INTEGER NOT NULL
, `alertmanagers` TEXT NULL
, `created_at` INTEGER NOT NULL
, `updated_at` INTEGER NOT NULL
3add configuration_hash column to alert_configurationalter table `alert_configuration` ADD COLUMN `configuration_hash` TEXT NOT NULL DEFAULT 'not-yet-calculat3add index in alert_configuration table on org_id columnCREATE INDEX `IDX_alert_configuration_org_id` ON `alert_configuration` (`org_id`);2023-12-14 01:03:39?3create_alert_configuration_tableCREATE TABLE IF NOT EXISTS `alert_configuration` (UMN `default` INTEGER NOT NULL DEFAULT 0 2023-12-14 01:03:39??M?A    
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `alertmanager_configuration` TEXT NOT NULL
, `configuration_version` TEXT NOT NULL
, `created_at` INTEGER NOT NULL
3add rule_group_idx column to alert_rule_versionalter table `alert_rule_version` ADD COLUMN `rule_group_idx` INTEGER NOT NULL DEFAULT 1 2023-12-14 01:03:39?[?
3add column labels to alert_rule_versionalter table `alert_rule_version` ADD COLUMN `labels` TEXT NULL 2023-12-14 01:03:39?
3add column annotations to alert_rule_versionalter table `alert_rule_version` ADD COLUMN `annotations` TEXT NULL 2023-12-14 01:03:39?
3add index in alert_rule_version table on rule_org_id, rule_namespace_uid and rule_group columnsCREATE INDEX `IDX_alert_rule_version_rule_org_id_rule_namespac3add index in alert_rule_version table on rule_org_id, rule_uid and version columnsCREATE UNIQUE INDEX `UQE_alert_rule_version_rule_org_id_rule_uid_version` O3create alert_rule_version tableCREATE TABLE IF NOT EXISTS `alert_rule_version` (?K?	
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `rule_org_id` INTEGER NOT NULL
, `rule_uid` TEXT NOT NULL DEFAULT 0
, `rule_namespace_uid` TEXT NOT NULL
, `rule_group` TEXT NOT NULL
, `parent_version` INTEGER NOT NULL
, `restored_from` INTEGER NOT NULL
, `version` INTEGER NOT NULL
, `created` DATETIME NOT NULL
, `title` TEXT NOT NULL
, `condition` TEXT NOT NULL
, `data` TEXT NOT NULL
, `interval_seconds` INTEGER NOT NULL
, `no_data_state` TEXT NOT NULL DEFAULT 'NoData'
, `exec_err_state` TEXT NOT NULL DEFAULT 'Alerting'
);2023-12-14 01:03:38

:
 ?r+#%
      ?
       ]
?	??|?:?I3?=indexUQE_alert_configuration_org_idalert_configuration?CREATE UNIQUE INDEX `UQE_alert_configuration_org_id` ON `alert_configuration` (`org_id`)?Q?CC?'tablealert_configuration_historyalert_configuration_history?CREATE TABLE `alert_configuration_history` (
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `org_id` INTEGER NOT NULL DEFAULT 0
, `alertmanager_configuration` TEXT NOT NULL
, `configuration_hash` TEXT NOT NULL DEFAULT 'not-yet-calculated'
, `configuration_version` TEXT NOT NULL
, `created_at` INTEGER NOT NULL
, `default` INTEGER NOT NULL DEFAULT 0
, `last_applied` INTEGER NOT NULL DEFAULT 0)?5?e!?oindexIDX_alert_rule_org_id_dashboard_uid_panel_idalert_rule?CREATE INDEX `IDX_alert_rule_org_id_dashboard_uid_panel_id` ON `alert_rule` (`org_id`,`dashboard_uid`,`panel_id`)?
                                                                   ?11??tablealert_rule_versionalert_rule_version?CREATE TABLE `alert_rule_version` (
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `rule_org_id` INTEGER NOT NULL
, `rule_uid` TEXT NOT NULL DEFAULT 0
, `rule_namespace_uid` TEXT NOT NULL
, `rule_group` TEXT NOT NULL
, `parent_version` INTEGER NOT NULL
, `restored_from` INTEGER NOT NULL
, `version` INTEGER NOT NULL
, `created` DATETIME NOT NULL
, `title` TEXT NOT NULL
, `condition` TEXT NOT NULL
, `data` TEXT NOT NULL
, `interval_seconds` INTEGER NOT NULL
, `no_data_state` TEXT NOT NULL DEFAULT 'NoData'
, `exec_err_state` TEXT NOT NULL DEFAULT 'Alerting'
, `for` INTEGER NOT NULL DEFAULT 0, `annotations` TEXT NULL, `labels` TEXT NULL, `rule_group_idx` INTEGER NOT NULL DEFAULT 1, `is_paused` INTEGER NOT NULL DEFAULT 0)Be!?oindexIDX_alert_rule_org_id_dashboard_uid_panel_idalert_t?#?indexUQE_alert_image_tokenalert_image?CREATE UNIQUE INDEX `UQE_alert_image_token` ON `alert_image` (`token`)?y?##?7tablealert_imagealert_image?CREATE TABLE `alert_image` (
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `token` TEXT NOT NULL
, `path` TEXT NOT NULL
, `url` TEXT NOT NULL
, `created_at` DATETIME NOT NULL
, `expires_at` DATETIME NOT NULL
)?P?o+?indexUQE_provenance_type_record_type_record_key_org_idprovenance_type?CREATE UNIQUE INDEX `UQE_provenance_type_record_type_record_key_org_id` ON `provenance_type` (`record_type`,`record_key`,`org_id`)?r?++?tableprovenance_typeprovenance_type?CREATE TABLE `provenance_type` (
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `org_id` INTEGER NOT NULL
, `record_key` TEXT NOT NULL
, `record_type` TEXT NOT NULL
, `provenance` TEXT NOT NULL
)??M7?EindexUQE_ngalert_configuration_org_idngalert_configuration?CREATE UNIQUE INDEX `UQE_ngalert_configuration_org_id` ON `ngalert_configuration` (`org_id`)?5?77?tablengalert_configurationngalert_configuration?CREATE TABLE `ngalert_configuration` (
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `org_id` INTEGER NOT NULL
, `alertmanagers` TEXT NULL
, `created_at` INTEGER NOT NULL
, `updated_at` INTEGER NOT NULL
, `send_alerts_to` INTEGER NOT NULL DEFAULT 0)?
                                               ?33?;tablealert_configurationalert_configuration?CREATE TABLE `alert_configuration` (
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `alertmanager_configuration` TEXT NOT NULL
, `configuration_version` TEXT NOT NULL
, `created_at` INTEGER NOT NULL
1??indexIDX_alert_rule_version_rule_org_id_rule_namespace_uid_rule_groupalert_rule_version?CREATE INDEX `IDX_alert_rule_version_rule_org_id_rule_namespace_uid_rule_group` ON `alert_rule_version` (`rule_org_id`,`rule_namespace_uid`,`rule_group`)?Y?s1?indexUQE_alert_rule_version_rule_org_id_rule_uid_versionalert_rule@@?=sion?)REATE UNIQUE IM{EX `UQE_alert_rule_version_rule_org_id_rule_uid_version` ON `alert_rule_version` (`rule_org_id`,`rule_uid`,`version`)
	"alertmanager_config": {
		"route": {
			"receiver": "grafana-default-email",
			"group_by": ["grafana_folder", "alertname"]
		},
		"receivers": [{
			"name": "grafana-default-email",
			"grafana_managed_receiver_configs": [{
				"uid": "",
				"name": "email receiver",
				"type": "email",
				"isDefault": true,
				"settings": {
					"addresses": "<example@email.com>"
				}
			}]
		}]
	}
}
v1ezTqe0528a75784033ae7b15c40851d89484
??		
??
  ?
   _

3add unique index library_element org_id_uidCREATE UNIQUE INDEX `UQE_library_element_org_id_uid` ON `library_element` (`org_id`,`uid`);2023-12-14 01:03:40?w??3add index library_element_connection element_id-kind-connection_idCREATE UNIQUE INDEX `UQE_library_element_connection_element_id_kind_connection_id` ON `libr3create library_element_connection table v1CREATE TABLE IF NOT EXISTS `library_element_connection` (
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `element_id` INTEGER NOT NULL
, `kind` INTEGER NOT NULL
, `connection_id` INTEGER NOT NULL
, `created` DATETIME NOT NULL
, `created_by` INTEGER NOT NULL
);2023-12-14 01:03:40?N?u?
3add index library_element org_id-folder_id-name-kindCREATE UNIQUE INDEX `UQE_library_element_org_id_folder_id_name_kind` ON `library_element` (`org_id`,`fold3create library_element table v1CREATE TABLE IF NOT EXISTS `library_element` (
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `org_id` INTEGER NOT NULL
, `folder_id` INTEGER NOT NULL
, `uid` TEXT NOT NULL
, `name` TEXT NOT NULL
, `kind` INTEGER NOT NULL
, `type` TEXT NOT NULL
, `description` TEXT NOT NULL
, `model` TEXT NOT NULL
, `created` DATETIME NOT NULL
, `created_by` INTEGER NOT NULL
, `updated` DATETIME NOT NULL
, `updated_by` INTEGER NOT NULL
, `version` INTEGER NOT NULL
3add last_applied column to alert_configuration_historyalter table `alert_configuration_history` ADD COLUMN `last_applied` INTEGER NOT NULL DEFAULT 0 2023-12-3add unique index on orgID to alert_configurationCREATE UNIQUE INDEX `UQE_alert_configuration_org_id` ON `alert_configuration` (`org_id`);2023-12-14 01:03:40e3create_alert_configuration_history_tableCREATE TABLE IF NOT EXISTS `alert_configuration_history` (12-14 01:03:40?4?]?ow?wqc	
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `org_id` INTEGER NOT NULL DEFAULT 0
, `alertmanager_configuration` TEXT NOT NULL
, `configuration_hash` TEXT NOT NULL DEFAULT 'not-yet-calculated'
, `configuration_version` TEXT NOT NULL
, `created_at` INTEGER NOT NULL
, `default` INTEGER NOT NULL DEFAULT 0
3create alert_image tableCREATE TABLE IF NOT EXISTS `alert_image` (`UQE_alert_image_token` ON `alert_image` (`token`);2023-12-14 01:03:39??=?U	
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `token` TEXT NOT NULL
, `path` TEXT NOT NULL
, `url` TEXT NOT NULL
, `created_at` DATETIME NOT NULL
, `expires_at` DATETIME NOT NULL
);2023-12-14 01:03:39?^?r	?
3add index to uniquify (record_key, record_type, org_id) columnsCREATE UNIQUE INDEX `UQE_provenance_type_record_type_record_key_org_id` ON `provenance_type` (`record_type`,`record_key`,`org_id`);2023-12-14 01:03:39?
3create provenance_type tableCREATE TABLE IF NOT EXISTS `provenance_type` (
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `org_id` INTEGER NOT NULL
, `record_key` TEXT NOT NULL
, `record_type` TEXT NOT NULL
, `provenance` TEXT NOT NULL
);2023-12-14 01:03:39

;;?B
	?)M	{
	"alertmanager_config": {
		"route": {
			"receiver": "grafana-default-email",
			"group_by": ["grafana_folder", "alertname"]
		},
		"receivers": [{
			"name": "grafana-default-email",
			"grafana_managed_receiver_configs": [{
				"uid": "",
				"name": "email receiver",
				"type": "email",
				"isDefault": true,
				"settings": {
					"addresses": "<example@email.com>"
				}
			}]
		}]
	}
}
e0528a75784033ae7b15c40851d89484v1ezTqezT?

I;




tableteam_roleteam_role?CREATE TABLE `team_role` (ATE INDEX `IDX_team_role_org_id` ON `team_role` (`org_id`)?`?/?
`id` INTEG?5?indexUQE_role_org_id_namerole?CREATE UNIQUE INDEX `UQE_role_org_id_name` ON `role` (`org_id`,`name`)S?,+sindexIDX_role_org_idrole?CREATE INDEX `IDX_role_org_id` ON `role` (`org_id`)?p?+?Atablerolerole?CREATE TABLE `role` (
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `name` TEXT NOT NULL
, `description` TEXT NULL
, `version` INTEGER NOT NULL
, `org_id` INTEGER NOT NULL
, `uid` TEXT NOT NULL
, `created` DATETIME NOT NULL
, `updated` DATETIME NOT NULL
, `display_name` TEXT NULL, `group_name` TEXT NULL, `hidden` INTEGER NOT NULL DEFAULT 0)??I3?=indexUQE_alert_configuration_org_idalert_configuration?CREATE UNIQUE INDEX `UQE_alert_configuration_org_id` ON `alert_configuration` (`org_id`)?!?*S!?YindexUQE_permission_role_id_action_scopepermission?CREATE UNIQUE INDEX `UQE_permission_role_id_action_scope` ON `permission` (`role_id`,`action`,`scope`)o?)9!?indexIDX_permission_role_idpermission?CREATE INDEX `IDX_permission_role_id` ON `permission` (`role_id`)?g?(!!?tablepermissionpermission?CREATE TABLE `permission` (
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `role_id` INTEGER NOT NULL
, `action` TEXT NOT NULL
, `scope` TEXT NOT NULL
, `created` DATETIME NOT NULL
, `updated` DATETIME NOT NULL
, `kind` TEXT NOT NULL DEFAULT '', `attribute` TEXT NOT NULL DEFAULT '', `identifier` TEXT NOT NULL DEFAULT '')??'O?QindexUQE_kv_store_org_id_namespace_keykv_store?CREATE UNIQUE INDEX `UQE_kv_store_org_id_namespace_key` ON `kv_store` (`org_id`,`namespace`,`key`)?
                                                                                                         ?&?gtablekv_storekv_store?CREATE TABLE `kv_store` (
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `org_id` INTEGER NOT NULL
, `namespace` TEXT NOT NULL
, `key` TEXT NOT NULL
, `value` TEXT NOT NULL
, `created` DATETIME NOT NULL
, `updated` DATETIME NOT NULL
)??%_tablesecretssecrets?CREATE TABLE `secrets` (
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `org_id` INTEGER NOT NULL
, `namespace` TEXT NOT NULL
, `type` TEXT NOT NULL
, `value` TEXT NULL
, `created` DATETIME NOT NULL
, `updated` DATETIME NOT NULL
)2?$Eindexsqlite_autoindex_data_keys_1data_keys??+?#?#tabledata_keysdata_keys?CREATE TABLE `data_keys` (
"name" TEXT PRIMARY KEY NOT NULL
, `active` INTEGER NOT NULL
, `scope` TEXT NOT NULL
, `provider` TEXT NOT NULL
, `encrypted_data` BLOB NOT NULL
, `created` DATETIME NOT NULL
, `updated` DATETIME NOT NULL
, "label" TEXT NOT NULL DEFAULT '')??"I+?AindexUQE_library_element_org_id_uidlibrary_element?CREATE UNIQUE INDEX `UQE_library_element_org_id_uid` ON `library_element` (`org_id`,`uid`)?}??A?=indexUQE_library_element_connection_element_id_kind_connection_idlibrary_element_connection?CREATE UNIQUE INDEX `UQE_library_element_connection_element_id_kind_connection_id` ON `library_element_connection` (`element_id`,`kind`,`connection_id`)?:? AA?}tablelibrary_element_connectionlibrary_element_connection?CREATE TABLE `library_element_connection` (
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `element_id` INTEGER NOT NULL
, `kind` INTEGER NOT NULL
, `connection_id` INTEGER NOT NULL
, `created` DATETIME NOT NULL
, `created_by` INTEGER NOT NULL
)?I?i+?	indexUQE_library_element_org_id_folder_id_name_kindlibrary_element?CREATE UNIQUE INDEX `UQE_library_element_org_id_folder_id_name_kind` ON `library_element` (`org_id`,`folder_id`,`name`,`kind`)?f?++?tablelibrary_elementlibrary_element?CREATE TABLE `library_element` (
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `org_id` INTEGER NOT NULL
, `folder_id` INTEGER NOT NULL
, `uid` TEXT NOT NULL
, `name` TEXT NOT NULL
, `kind` INTEGER NOT NULL
, `type` TEXT NOT NULL
, `description` TEXT NOT NULL
, `model` TEXT NOT NULL
, `created` DATETIME NOT NULL
, `created_by` INTEGER NOT NULL
, `updated` DATETIME NOT NULL
, `updated_by` INTEGER NOT NULL
, `version` INTEGER NOT NULL
)

5?
 ?
  R
   ?
    a
.	?	?d?w
3add unique index team_role_org_id_team_id_role_idCREATE UNIQUE INDEX `UQE_team_role_org_id_team_id_role_id` ON `team_role` (`org_id`,`team_id`,`role_id`);2023create team role tableCREATE TABLE IF NOT EXISTS `team_role` (ON `team_role` (`org_id`);2023-12-14 01:03:42?9?+	
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `org_id` INTEGER NOT NULL
, `team_id` INTEGER NOT NULL
, `role_id` INTEGER NOT NULL
, `created` DATETIME NOT NULL
3create role tableCREATE TABLE IF NOT EXISTS `role` ( `display_name` TEXT NULL 2023-12-14 01:03:41?>/?1);2023-12-14 01:03:42c?7u	
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `name` TEXT NOT NULL
, `description` TEXT NULL
, `version` INTEGER NOT NULL
, `org_id` INTEGER NOT NULL
, `uid` TEXT NOT NULL
, `created` DATETIME NOT NULL
, `updated` DATETIME NOT NULL
3add unique index role_id_action_scopeCREATE UNIQUE INDEX `UQE_permission_role_id_action_scope` ON `permission` (`role_id`,`action`,`scope`);2023-12-14 01:03:3create permission tableCREATE TABLE IF NOT EXISTS `permission` (role_id` ON `permission` (`role_id`);2023-12-14 01:03:41?;?Y	
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `role_id` INTEGER NOT NULL
, `action` TEXT NOT NULL
, `scope` TEXT NOT NULL
, `created` DATETIME NOT NULL
, `updated` DATETIME NOT NULL
3update dashboard_uid and panel_id from existing annotationsset dashboard_uid and panel_id migration2023-12-14 01:03:41?%?
3add index kv_store.org_id-namespace-keyCREATE UNIQUE INDEX `UQE_kv_store_org_id_namespace_key` ON `kv_store` (`org_id`,`namespace`,`key`);2023-12-14 01:03:41?/?
3create kv_store table v1CREATE TABLE IF NOT EXISTS `kv_store` (
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `org_id` INTEGER NOT NULL
, `namespace` TEXT NOT NULL
, `key` TEXT NOT NULL
, `value` TEXT NOT NULL
, `created` DATETIME NOT NULL
, `updated` DATETIME NOT NULL
);2023-12-14 01:03:41u?
3create secrets tableCREATE TABLE IF NOT EXISTS `secrets` (RENAME COLUMN `name` TO `id`2023-12-14 01:03:40?'5?}:03:40p?Qu{	
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `org_id` INTEGER NOT NULL
, `namespace` TEXT NOT NULL
, `type` TEXT NOT NULL
, `value` TEXT NULL
, `created` DATETIME NOT NULL
, `updated` DATETIME NOT NULL
3create data_keys tableCREATE TABLE IF NOT EXISTS `data_keys` (
`name` TEXT PRIMARY KEY NOT NULL
, `active` INTEGER NOT NULL
, `scope` TEXT NOT NULL
, `provider` TEXT NOT NULL
, `encrypted_data` BLOB NOT NULL
, `created` DATETIME NOT NULL
, `updated` DATETIME NOT NULL
?;2023-w?J?4 01:?3:40   ??	wk    -53Sinfra.usagestatslast_sent2023-12-22T01:03:58Z2023-12-15 01:03:572023-12-22 01:03:58.253234084+00:-%U33infra.usagesta33alertmanagersilences2023-12-14 01:18:452023-12-14 01:18:4/%533plugin.publickeyslast_updated2023-12-14T01:03:58Z2023-12-14 01:03:582023-12-14 01:03:58?    /5?33plugin.publickeyskey-7e4d0c6a708866e7-----BEGIN PGP PUBLIC KEY BLOCK-----
Version: OpenPGP.js v4.10.1
Comment: https://openpgpjs.org

xpMEXpTXXxMFK4EEACMEIwQBiOUQhvGbDLvndE0fEXaR0908wXzPGFpf0P0Z
HJ06tsq+0higIYHp7WTNJVEZtcwoYLcPRGaa9OQqbUU63BEyZdgAkPTz3RFd
5+TkDWZizDcaVFhzbDd500yTwexrpIrdInwC/jrgs7Zy/15h8KA59XXUkdmT
YB6TR+OA9RKME+dCJozNGUdyYWZhbmEgPGVuZ0BncmFmYW5hLmNvbT7CvAQQ
EwoAIAUCXpTXXwYLCQcIAwIEFQgKAgQWAgEAAhkBAhsDAh4BAAoJEH5NDGpw
iGbnaWoCCQGQ3SQnCkRWrG6XrMkXOKfDTX2ow9fuoErN46BeKmLM4f1EkDZQ
Tpq3SE8+My8B5BIH3SOcBeKzi3S57JHGBdFA+wIJAYWMrJNIvw8GeXne+oUo
NzzACdvfqXAZEp/HFMQhCKfEoWGJE8d2YmwY2+3GufVRTI5lQnZOHLE8L/Vc
1S5MXESjzpcEXpTXXxIFK4EEACMEIwQBtHX/SD5Qm3v4V92qpaIZQgtTX0sT
cFPjYWAHqsQ1iENrYN/vg1wU3ADlYATvydOQYvkTyT/tbDvx2Fse8PL84MQA
YKKQ6AJ3gLVvmeouZdU03YoV4MYaT8KbnJUkZQZkqdz2riOlySNI9CG3oYmv
omjUAtzgAgnCcurfGLZkkMxlmY8DAQoJwqQEGBMKAAkFAl6U118CGwwACgkQ
fk0ManCIZuc0jAIJAVw2xdLr4ZQqPUhubrUyFcqlWoW8dQoQagwO8s8ubmby
KuLA9FWJkfuuRQr+O9gHkDVCez3aism7zmJBqIOi38aNAgjJ3bo6leSS2jR/
x5NqiKVi83tiXDPncDQYPymOnMhW0l7CVA7wj75HrFvvlRI/4MArlbsZ2tBn
N1c5v9v/4h6qeA==
=DNbR
-----END PGP PUBLIC KEY BLOCK-----
2023-12-14 01:03:582023-12-14 01:03:5!7!33datasourcesecretMigrationStatuscompatible2023-12-14 01:03:582023-12-14 01:03:5/3Sngalert.migrationmigratedtrue2023-12-14 01:03:452023-12-14 01:03:57.889511397+00:00f       /K33ngalert.migrationstateKey{"orgId":1,"createdFolders":[]}2023-12-14 01:03:572023-12-14 01:03:5G   %33alertmanagernotifications2023-12-14 01:18:452023-12-14 01:18:45
	?????oK+-infra.usagestatslast_sent	-%infra.usagestatsanonymous_id  %alertmanagersilences	%'alertmanagernotifications/%plugin.publickeyslast_updated/5plugin.publickeyskey-7e4d0c6a708866e7!7datasourcesecretMigrationStatus	/ngalert.migrationstateKe/	ngalert.migrationmigrated






?0??:
.
 ?

?	?	>?@?????8C??9#?indexIDX_correlation_org_idcorrelation?CREATE INDEX `IDX_correlation_org_id` ON `correlation` (`org_id`)?X##?mtablecorrelationcorrelation?CREATE TABLE `correlation` (
`uid` TEXT NOT NULL
, `org_id` INTEGER NOT NULL DEFAULT 0
, `source_uid` TEXT NOT NULL
, `target_uid` TEXT NULL
, `label` TEXT NOT NULL
, `description` TEXT NOT NULL
, `config` TEXT NULL
, `provisioned` INTEGER NOT NULL DEFAULT 0, PRIMARY KEY ( `uid`,`org_id`,`source_uid` ))?e?B11?stablequery_history_starquery_history_star?CREATE TABLE `query_history_star` (
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `query_uid` TEXT NOT NULL
, `user_id` INTEGER NOT NULL
, `org_id` INTEGER NOT NULL DEFAULT 1)???@''?;tablequery_historyquery_history?CREATE TABLE `query_history` (
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `uid` TEXT NOT NULL
, `org_id` INTEGER NOT NULL
, `datasource_uid` TEXT NOT NULL
, `created_by` INTEGER NOT NULL
, `created_at` INTEGER NOT NULL
, `comment` TEXT NOT NULL
, `queries` TEXT NOT NULL
tableteam_roleteam_role?CREATE TABLE `team_role` (DEX `IDX_team_role_org_id` ON `team_role` (`org_id`)?`?/?
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `org_id` INTEGER NOT NULL
, `team_id` INTEGER NOT NULL
, `role_id` INTEGER NOT NULL
, `created` DATETIME NOT NULL
)'85?indexUQE_role_org_id_namerole?CREATE UNIQUE Il?-5?indexUQE_role_org_id_namerole?CREATE UNIQUE INDEX `UQE_role_org_id_name` ON `role` (`org_id`,`name`)S?,+sindexIDX_role_org_idrole?CREATE INDEX `IDX_role_org_id` ON `role` (`org_id`)?6?C]1?iindexUQE_query_history_star_user_id_query_uidquery_history_star?CREATE UNIQUE INDEX `UQE_query_history_star_user_id_query_uid` ON `query_history_star` (`user_id`,`query_uid`)Q?<%uindexUQE_role_uidrole?CREATE UNIQUE INDEX `UQE_role_uid` ON `role` (`uid`)?&?;U%?]indexUQE_builtin_role_org_id_role_id_rolebuiltin_role?CREATE UNIQUE INDEX `UQE_builtin_role_org_id_role_id_role` ON `builtin_role` (`org_id`,`role_id`,`role`)t?:;%?indexIDX_builtin_role_org_idbuiltin_role?CREATE INDEX `IDX_builtin_role_org_id` ON `builtin_role` (`org_id`)n?97%?
                                                                                                                                                       indexIDX_builtin_role_rolebuiltin_role?CREATE INDEX `IDX_builtin_role_role` ON `builtin_role` (`role`)w?8=%?indexIDX_builtin_role_role_idbuiltin_role?CREATE INDEX `IDX_builtin_role_role_id` ON `builtin_role` (`role_id`)?
?7%%?Utablebuiltin_rolebuiltin_role?CREATE TABLE `builtin_role` (
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `role` TEXT NOT NULL
, `role_id` INTEGER NOT NULL
, `created` DATETIME NOT NULL
, `updated` DATETIME NOT NULL
, `org_id` INTEGER NOT NULL DEFAULT 0)k?67?
                                           indexIDX_user_role_user_iduser_role?CREATE INDEX `IDX_user_role_user_id` ON `user_role` (`user_id`)?#?5U?]indexUQE_user_role_org_id_user_id_role_iduser_role?CREATE UNIQUE INDEX `UQE_user_role_org_id_user_id_role_id` ON `user_role` (`org_id`,`user_id`,`role_id`)h?45?indexIDtableuser_roleuser_role?CREATE TABLE `user_role` (_role_org_id` ON `user_role` (`org_id`)?`?3?
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `org_id` INTEGER NOT NULL
, `user_id` INTEGER NOT NULL
, `role_id` INTEGER NOT NULL
, `created` DATETIME NOT NULL
)k?27?
      indexIDX_team_role_team_idteam_role?CREATE INDEX `IDX_team_role_team_id` ON `team_role` (`team_id`)?#?1U?]indexUQE_team_role_org_id_team_id_role_idteam_role?CREATE UNIQUE INDEX `UQE_team_role_org_id_team_id_role_id` ON `team_role` (`org_id`,`team_id`,`role_id`)?3#?indexS?|?IA#?indexIDX_correlation_source_uidcorrelation?CREATE INDEX `IDX_correlation_source_uid` ON `correlation` (`source_uid`)?J?Aq'?indexIDX_query_history_org_id_created_by_datasource_uidquery_history?CREATE INDEX `IDX_query_history_org_id_created_by_datasource_uid` ON `query_history` (`org_id`,`created_by`,`datasource_uid`)x???!?ndexIDX_permission_identifierpermission?CREATE INDEX `IDX_permission_identifier` ON `permission` (`identifier`)
T??
 N
  ?
   S
?
3add index query_history.org_id-created_by-datasource_uidCREATE INDEX `IDX_query_history_org_id_created_by_datasource_uid` ON `query_history` (`org_id`,`creat3create query_history table v1CREATE TABLE IF NOT EXISTS `query_history` (
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `uid` TEXT NOT NULL
, `org_id` INTEGER NOT NULL
, `datasource_uid` TEXT NOT NULL
, `created_by` INTEGER NOT NULL
, `created_at` INTEGER NOT NULL
, `comment` TEXT NOT NULL
, `queries` TEXT NOT NULL
3add unique index builtin_role_role_nameCREATE UNIQUE INDEX `UQE_seed_assignment_builtin_role_role_name` ON `seed_assignment` (`builtin_role`,`role_name`);2023create seed assignment tableCREATE TABLE IF NOT EXISTS `seed_assignment` (
`builtin_role` TEXT NOT NULL
, `role_name` TEXT NOT NULL
3add unique index builtin_role_org_id_role_id_roleCREATE UNIQUE INDEX `UQE_builtin_role_org_id_role_id_role` ON `builtin_role` (`org_id`,`role_id`,`role`);2023add index builtin_role.org_idCREATE INDEX `IDX_builtin_role_org_id` ON `builtin_role` (`org_id`);2023-12-14 01:03:42?
3create builtin role tableCREATE TABLE IF NOT EXISTS `builtin_role` (` ON `builtin_role` (`role_id`);2023-12-14 01:03:42???) 01:03:42v?C?
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `role` TEXT NOT NULL
, `role_id` INTEGER NOT NULL
, `created` DATETIME NOT NULL
, `updated` DATETIME NOT NULL
3add unique index user_role_org_id_user_id_role_idCREATE UNIQUE INDEX `UQE_user_role_org_id_user_id_role_id` ON `user_role` (`org_id`,`user_id`,`role_id`);2023create user role tableCREATE TABLE IF NOT EXISTS `user_role` (ON `user_role` (`org_id`);2023-12-14 01:03:42??+	
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `org_id` INTEGER NOT NULL
, `user_id` INTEGER NOT NULL
, `role_id` INTEGER NOT NULL
, `created` DATETIME NOT NULL
);2023-12-14 01:03:42










nk
 c
  ?
   e
?
?
3create dashboard public config v1CREATE TABLE IF NOT EXISTS `dashboard_public_config` (uid`2023-12-14 01:03:43???O?board_uid`2023-12-14 01:03:43u?Kke	
`uid` TEXT PRIMARY KEY NOT NULL
, `dashboard_uid` TEXT NOT NULL
, `org_id` INTEGER NOT NULL
, `time_settings` TEXT NOT NULL
, `refresh_rate` INTEGER NOT NULL DEFAULT 30
, `template_variables` TEXT NULL
3create entity_events tableCREATE TABLE IF NOT EXISTS `entity_event` (
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `entity_id` TEXT NOT NULL
, `event_type` TEXT NOT NULL
, `created` INTEGER NOT NULL
3copy correlation v1 to v2INSERT INTO `correlation` (`uid`ion_tmp_qwerty`2023-12-14 01:03:43????1LT 0 2023-12-14 01:03:43b?GCg	
, `source_uid`
, `target_uid`
, `label`
, `description`
, `config`) SELECT `uid`
, `source_uid`
, `target_uid`
, `label`
, `description`
3create correlation v2CREATE TABLE IF NOT EXISTS `correlation` (ion_uid` ON `correlation` (`uid`);2023-12-14 01:03:43?E?7?7-12-14 01:03:43|?W?	
`uid` TEXT NOT NULL
, `org_id` INTEGER NOT NULL DEFAULT 0
, `source_uid` TEXT NOT NULL
, `target_uid` TEXT NULL
, `label` TEXT NOT NULL
, `description` TEXT NOT NULL
, `config` TEXT NULL
3create correlation table v1CREATE TABLE IF NOT EXISTS `correlation` (elation` (`uid`);2023-12-14 01:03:43??C?/3-12-14 01:03:43q?A?3:43k?@a[	
`uid` TEXT NOT NULL
, `source_uid` TEXT NOT NULL
, `target_uid` TEXT NULL
, `label` TEXT NOT NULL
, `description` TEXT NOT NULL
3add index query_history.user_id-query_uidCREATE UNIQUE INDEX `UQE_query_history_star_user_id_query_uid` ON `query_history_star` (`user_id`,`query_uid`);2023-3create query_history_star table v1CREATE TABLE IF NOT EXISTS `query_history_star` (
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `query_uid` TEXT NOT NULL
, `user_id` INTEGER NOT NULL
);2023-12-14 01:03:43

?

?a(???1
       ?
        ?

         X
?	A?V?`???##?Wtableanon_deviceanon_device?CREATE TABLE `anon_device` (
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `client_ip` TEXT NOT NULL
, `created_at` DATETIME NOT NULL
, `device_id` TEXT NOT NULL
, `updated_at` DATETIME NOT NULL
, `user_agent` TEXT NOT NULL
)??_Q?UindexUQE_folder_title_parent_uid_org_idfolder?CREATE UNIQUE INDEX `UQE_folder_title_parent_uid_org_id` ON `folder` (`title`,`parent_uid`,`org_id`)q?^7?indexUQE_folder_uid_org_idfolder?CREATE UNIQUE INDEX `UQE_folder_uid_org_id` ON `folder` (`uid`,`org_id`)?]E?+indexIDX_folder_parent_uid_org_idfolder?CREATE INDEX `IDX_folder_parent_uid_org_id` ON `folder` (`parent_uid`,`org_id`)??\?tablefolderfolder?CREATE TABLE `folder` (
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `uid` TEXT NOT NULL
, `org_id` INTEGER NOT NULL
, `title` TEXT NOT NULL
, `description` TEXT NULL
, `parent_uid` TEXT NULL
, `created` DATETIME NOT NULL
, `updated` DATETIME NOT NULL
)?2?[a+?cindexUQE_seed_assignment_builtin_role_role_nameseed_assignment?CREATE UNIQp?J9#?indexIDX_correlation_org_idcorrelation?CREATE INDEX `IDX_correlation_org_id` ON `correlation` (`org_id`)|?IA#?indexIDX_correlation_source_uidcorrelation?CREATE INDEX `IDX_correlation_source_uid` ON `correlation` (`source_uid`)g?H3#?indexIDX_correlation_uidcorrelation?CREATE INDEX `IDX_correlation_uid` ON `correlation` (`uid`)6?GI#indexsqlite_autoindex_correlation_1correlationтT?F##?mtablecorrelationcorrelation?CREATE TABLE `correlation` (
`uid` TEXT NOT NULL
, `org_id` INTEGER NOT NULL DEFAULT 0
, `source_uid` TEXT NOT NULL
, `target_uid` TEXT NULL
, `label` TEXT NOT NULL
, `description` TEXT NOT NULL
, `config` TEXT NULL
, `provisioned` INTEGER NOT NULL DEFAULT 0, PRIMARY KEY ( `uid`,`org_id`,`source_uid` ))??T?Utablefile_metafile_meta?CREATE TABLE `file_meta` (
`path_hash` TEXT NOT NULL
, `key` TEXT NOT NULL
, `value` TEXT NOT NULL
indexUQE_file_path_hashfile?CREATE UNIQUE INDEX `UQE_file_path_hash` ON `file` (`path_hash`)?r?Q?Etablefilefile?CREATE TABLE `file` ()d?R1?
`path` TEXT NOT NULL
, `path_hash` TEXT NOT NULL
, `parent_folder_path_hash` TEXT NOT NULL
, `contents` BLOB NOT NULL
, `etag` TEXT NOT NULL
, `cache_control` TEXT NOT NULL
, `content_disposition` TEXT NOT NULL
, `updated` DATETIME NOT NULL
, `created` DATETIME NOT NULL
, `size` INTEGER NOT NULL
, `mime_type` TEXT NOT NULL
)?+?P]-?WindexUQE_dashboard_public_config_access_tokendashboard_public?CREATE UNIQUE INDEX `UQE_dashboard_public_config_access_token` ON "dashboard_public" (`access_token`)?>?Om-?mindexIDX_dashboard_public_config_org_id_dashboard_uiddashboard_public?CREATE INDEX `IDX_dashboard_public_config_org_id_dashboard_uid` ON "dashboard_public" (`org_id`,`dashboard_uid`)??NK-?3indexUQE_dashboard_public_config_uiddashboard_public?CREATE UNIQUE INDEX `UQE_dashboard_public_config_uid` ON "dashboard_public" (`uid`)@?MS-indexsqlite_autoindex_dashboard_public_1dashboard_publicׄ<?L--?)tabledashboard_publicdashboard_public?CREATE TABLE "dashboard_public" (
`uid` TEXT PRIMARY KEY NOT NULL
, `dashboard_uid` TEXT NOT NULL
, `org_id` INTEGER NOT NULL
, `time_settings` TEXT NULL
, `template_variables` TEXT NULL
, `access_token` TEXT NOT NULL
, `created_by` INTEGER NOT NULL
, `updated_by` INTEGER NULL
, `created_at` DATETIME NOT NULL
, `updated_at` DATETIME NULL
, `is_enabled` INTEGER NOT NULL DEFAULT 0
, `annotations_enabled` INTEGER NOT NULL DEFAULT 0, `time_selection_enabled` INTEGER NOT NULL DEFAULT 0, `share` TEXT NOT NULL DEFAULT 'public')?K?K%%?Wtableentity_evententity_event?CREATE TABLE `entity_event` (
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `entity_id` TEXT NOT NULL
, `event_type` TEXT NOT NULL
, `created` INTEGER NOT NULL
)

6?
 ?
  !
   ?	?	b??d?3?$?
3create file_meta tableCREATE TABLE IF NOT EXISTS `file_meta` (
`path_hash` TEXT NOT NULL
, `key` TEXT NOT NULL
, `value` TEXT NOT NULL
3file table idx: parent_folder_path_hash fast folder retrievalCREATE INDEX `IDX_file_parent_folder_path_hash` ON `file` (`parent_folder_path_hash`);2023-12-143create file tableCREATE TABLE IF NOT EXISTS `file` (UQE_file_path_hash` ON `file` (`path_hash`);2023-12-14 01:03:44??/?c	
`path` TEXT NOT NULL
, `path_hash` TEXT NOT NULL
, `parent_folder_path_hash` TEXT NOT NULL
, `contents` BLOB NOT NULL
, `etag` TEXT NOT NULL
, `cache_control` TEXT NOT NULL
, `content_disposition` TEXT NOT NULL
, `updated` DATETIME NOT NULL
, `created` DATETIME NOT NULL
, `size` INTEGER NOT NULL
, `mime_type` TEXT NOT NULL
);2023-12-14 01:03:44?
3create index UQE_dashboard_public_config_access_token - v2CREATE UNIQUE INDEX `UQE_dashboard_public_config_access_token` ON `dashboard_public_config` (`acces3create index IDX_dashboard_public_config_org_id_dashboard_uid - v2CREATE INDEX `IDX_dashboard_public_config_org_id_dashboard_uid` ON `dashboard_public_config3create index UQE_dashboard_public_config_uid - v2CREATE UNIQUE INDEX `UQE_dashboard_public_config_uid` ON `dashboard_public_config` (`uid`);2023-12-14 01:03:3Recreate dashboard public config v2CREATE TABLE IF NOT EXISTS `dashboard_public_config` (
`uid` TEXT PRIMARY KEY NOT NULL
, `dashboard_uid` TEXT NOT NULL
, `org_id` INTEGER NOT NULL
, `time_settings` TEXT NULL
, `template_variables` TEXT NULL
, `access_token` TEXT NOT NULL
, `created_by` INTEGER NOT NULL
, `updated_by` INTEGER NULL
, `created_at` DATETIME NOT NULL
, `updated_at` DATETIME NULL
, `is_enabled` INTEGER NOT NULL DEFAULT 0
3create index IDX_dashboard_public_config_org_id_dashboard_uid - v1CREATE INDEX `IDX_dashboard_public_config_org_id_dashboard_uid` ON `dashboard_public_config3create index UQE_dashboard_public_config_uid - v1CREATE UNIQUE INDEX `UQE_dashboard_public_config_uid` ON `dashboard_public_config` (`uid`);2023-12-14 01:03:3recreate dashboard public config v1CREATE TABLE IF NOT EXISTS `dashboard_public_config` (
`uid` TEXT PRIMARY KEY NOT NULL
, `dashboard_uid` TEXT NOT NULL
, `org_id` INTEGER NOT NULL
, `time_settings` TEXT NOT NULL
, `refresh_rate` INTEGER NOT NULL DEFAULT 30
, `template_variables` TEXT NULL
);2023-12-14 01:03:43
???




x.??4
?
 9
  ?
   ?

3Add unique index for title, parent_uid, and org_idCREATE UNIQUE INDEX `UQE_folder_title_parent_uid_org_id` ON `folder` (`title`,`parent_uid`,`org_id`);2023-13Add unique index for folder.title and folder.parent_uidCREATE UNIQUE INDEX `UQE_folder_title_parent_uid` ON `folder` (`title`,`parent_uid`);2023-12-14 01:03:3create folder tableCREATE TABLE IF NOT EXISTS `folder` (uid_org_id` ON `folder` (`parent_uid`,`org_id`);2023-12-14 01:03:44???3?/-14 01:03:44??=?-	
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `uid` TEXT NOT NULL
, `org_id` INTEGER NOT NULL
, `title` TEXT NOT NULL
, `description` TEXT NULL
, `parent_uid` TEXT NULL
, `created` DATETIME NOT NULL
, `updated` DATETIME NOT NULL
3add unique index builtin_role_action_scopeCREATE UNIQUE INDEX `UQE_seed_assignment_builtin_role_action_scope` ON `seed_assignment` (`builtin_role`,`action`,`3add unique index builtin_role_name backCREATE UNIQUE INDEX `UQE_seed_assignment_builtin_role_role_name` ON `seed_assignment` (`builtin_role`,`role_name`);2023update seed_assignment role_name column to nullableALTER TABLE seed_assignment ADD COLUMN tmp_role_name VARCHAR(190) DEFAULT NULL;
UPDATE seed_assignment SET tmp_role_name = role_name;
ALTER TABLE seed_assignment DROP COLUMN role_name;
3file table idx: path keyCREATE UNIQUE INDEX `UQE_file_meta_path_hash_key` ON `file_meta` (`path_hash`,`key`);2023-12-14 01:03:44U] 01:03:44y?S?	
??



??A
 ?

  ?
3create signing_key tableCREATE TABLE IF NOT EXISTS `signing_key` (g_key_key_id` ON `signing_key` (`key_id`);2023-12-14 01:03:45?=?Y	
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `key_id` TEXT NOT NULL
, `private_key` TEXT NOT NULL
, `added_at` DATETIME NOT NULL
, `expires_at` DATETIME NULL
, `alg` TEXT NOT NULL
3create anon_device tableCREATE TABLE IF NOT EXISTS `anon_device` (n_device_device_id` ON `anon_device` (`device_id`);2023-12-14 01:03:45?'=?u	
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `client_ip` TEXT NOT NULL
, `created_at` DATETIME NOT NULL
, `device_id` TEXT NOT NULL
, `updated_at` DATETIME NOT NULL
, `user_agent` TEXT NOT NULL
);2023-12-14 01:03:45
sv?3
 ?
  ?


       x???w?d9#?indexUQE_signing_key_key_idsigning_key?CREATE UNIQUE INDEX `UQE_signing_key_key_id` ON `signing_key` (`key_id`)?{?c##?;tablesigning_keysigning_key?CREATE TABLE `signing_key` (
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `key_id` TEXT NOT NULL
, `private_key` TEXT NOT NULL
, `added_at` DATETIME NOT NULL
, `expires_at` DATETIME NULL
, `alg` TEXT NOT NULL
)|?bA#?indexIDX_anon_device_updated_atanon_device?CREATE INDEX `IDX_anon_device_updated_at` ON `anon_device` (`updated_at`)??a?#?)indexUQE_anon_device_device_idanon_device?CREATE UNIQUE INDEX `UQE_anon_device_device_id` ON `anon_device` (`device_id`)?	?`##?Wtableanon_deviceanon_device?CREATE TABLE `anon_device` (
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `client_ip` TEXT NOT NULL
, `created_at` DATETIME NOT NULL
, `device_id` TEXT NOT NULL
, `updated_at` DATETIME NOT NULL
, `user_agent` TEXT NOT NULL
)??_Q?UindexUQE_folder_title_parent_uid_org_idfolder?CREATE UNIQUE INDEX `UQE_folder_title_parent_uid_org_id` ON `folder` (`title`,`parent_uid`,`org_id`)q?^7?indexUQE_folder_uid_org_idfolder?CREATE UNIQUE INDEX `UQE_folder_uid_org_id` ON `folder` (`uid`,`org_id`)?]E?+indexIDX_folder_parent_uid_org_idfolder?CREATE INDEX `IDX_folder_parent_uid_org_id` ON `folder` (`parent_uid`,`org_id`)??\?tablefolderfolder?CREATE TABLE `folder` (
`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL
, `uid` TEXT NOT NULL
, `org_id` INTEGER NOT NULL
, `title` TEXT NOT NULL
, `description` TEXT NULL
, `parent_uid` TEXT NULL
, `created` DATETIME NOT NULL
, `updated` DATETIME NOT NULL
)?2?[a+?cindexUQE_seed_assignment_builtin_role_role_nameseed_assignment?CREATE UNIQUE INDEX UQE_seed_assignment_builtin_role_role_name ON seed_assignment (builtin_role, role_name)?<?Zg+?qindexUQE_seed_assignment_builtin_role_action_scopeseed_assignment?CREATE UNIQUE INDEX UQE_seed_assignment_builtin_role_action_scope ON seed_assignment (builtin_role, action, scope)?C?Y++?;tableseed_assignmentseed_assignment?CREATE TABLE "seed_assignment" (
		    id INTEGER PRIMARY KEY AUTOINCREMENT,
			builtin_role TEXT,
			action TEXT,
			scope TEXT,
			role_name TEXT
		)y?V;?%indexUQE_playlist_org_id_uidplaylist?CREATE UNIQUE INDEX `UQE_playlist_org_id_uid` ON `playlist` (`org_id`,`uid`)??UC?5indexUQE_file_meta_path_hash_keyfile_meta?CREATE UNIQUE INDEX `UQE_file_meta_path_hash_key` ON `file_meta` (`path_hash`,`key`)

grafana-84bc59ff4f-vxgqz:/usr/share/grafana$ 
